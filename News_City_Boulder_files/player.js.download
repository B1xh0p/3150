/* VimeoPlayer - v4.40.42 - 2025-04-16 - https://player.vimeo.com/NOTICE.txt */
!function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,n){
/*!
     * @overview es6-promise - a tiny implementation of Promises/A+.
     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
     * @license   Licensed under MIT license
     *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
     * @version   v4.2.6+9869a4bc
     */
t.exports=function(){function t(t){return"function"==typeof t}var n;n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var i=n,r=0,o=void 0,s=void 0,a=function(t,e){p[r]=t,p[r+1]=e,2===(r+=2)&&(s?s(v):m())};var u="undefined"!=typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<r;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;r=0}var m=void 0;function _(t,e){var n=this,i=new this.constructor(g);void 0===i[y]&&D(i);var r=n._;if(r){var o=arguments[r-1];a((function(){return L(r,i,o,n.C)}))}else I(n,i,t,e);return i}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(g);return A(e,t),e}m=d?function(){return process.nextTick(v)}:c?function(){var t=0,e=new c(v),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():h?function(){var t=new MessageChannel;return t.port1.onmessage=v,function(){return t.port2.postMessage(0)}}():void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:f()}catch(t){return f()}}():f();var y=Math.random().toString(36).substring(2);function g(){}var w=void 0,T=1,C=2,E={error:null};function k(t){try{return t.then}catch(t){return E.error=t,E}}function S(e,n,i){n.constructor===e.constructor&&i===_&&n.constructor.resolve===b?function(t,e){e._===T?M(t,e.C):e._===C?O(t,e.C):I(e,void 0,(function(e){return A(t,e)}),(function(e){return O(t,e)}))}(e,n):i===E?(O(e,E.error),E.error=null):void 0===i?M(e,n):t(i)?function(t,e,n){a((function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,(function(n){i||(i=!0,e!==n?A(t,n):M(t,n))}),(function(e){i||(i=!0,O(t,e))}),t.S);!i&&r&&(i=!0,O(t,r))}),t)}(e,n,i):M(e,n)}function A(t,e){t===e?O(t,new TypeError("You cannot resolve a promise with itself")):function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)?S(t,e,k(e)):M(t,e)}function N(t){t.N&&t.N(t.C),R(t)}function M(t,e){t._===w&&(t.C=e,t._=T,0!==t.M.length&&a(R,t))}function O(t,e){t._===w&&(t._=C,t.C=e,a(N,t))}function I(t,e,n,i){var r=t.M,o=r.length;t.N=null,r[o]=e,r[o+T]=n,r[o+C]=i,0===o&&t._&&a(R,t)}function R(t){var e=t.M,n=t._;if(0!==e.length){for(var i=void 0,r=void 0,o=t.C,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?L(n,i,r,o):r(o);t.M.length=0}}function L(e,n,i,r){var o=t(i),s=void 0,a=void 0,u=void 0,l=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return E.error=t,E}}(i,r))===E?(l=!0,a=s.error,s.error=null):u=!0,n===s)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else s=r,u=!0;n._!==w||(o&&u?A(n,s):l?O(n,a):e===T?M(n,s):e===C&&O(n,s))}var x=0;function D(t){t[y]=x++,t._=void 0,t.C=void 0,t.M=[]}var P=function(){function t(t,e){this.O=t,this.promise=new t(g),this.promise[y]||D(this.promise),i(e)?(this.length=e.length,this.I=e.length,this.C=new Array(this.length),0===this.length?M(this.promise,this.C):(this.length=this.length||0,this.R(e),0===this.I&&M(this.promise,this.C))):O(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype.R=function(t){for(var e=0;this._===w&&e<t.length;e++)this.L(t[e],e)},t.prototype.L=function(t,e){var n=this.O,i=n.resolve;if(i===b){var r=k(t);if(r===_&&t._!==w)this.D(t._,e,t.C);else if("function"!=typeof r)this.I--,this.C[e]=t;else if(n===B){var o=new n(g);S(o,t,r),this.P(o,e)}else this.P(new n((function(e){return e(t)})),e)}else this.P(i(t),e)},t.prototype.D=function(t,e,n){var i=this.promise;i._===w&&(this.I--,t===C?O(i,n):this.C[e]=n),0===this.I&&M(i,this.C)},t.prototype.P=function(t,e){var n=this;I(t,void 0,(function(t){return n.D(T,e,t)}),(function(t){return n.D(C,e,t)}))},t}();var B=function(){function e(t){this[y]=x++,this.C=this._=void 0,this.M=[],g!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){A(t,e)}),(function(e){O(t,e)}))}catch(e){O(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,i=n.constructor;return t(e)?n.then((function(t){return i.resolve(e()).then((function(){return t}))}),(function(t){return i.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return B.prototype.then=_,B.all=function(t){return new P(this,t).promise},B.race=function(t){var e=this;return i(t)?new e((function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},B.resolve=b,B.reject=function(t){var e=new this(g);return O(e,t),e},B.B=function(t){s=t},B.$=function(t){a=t},B.V=a,B.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===i&&!n.cast)return}t.Promise=B},B.Promise=B,B}()}));const r=window.Promise||i;r.allSettled||(r.allSettled=t=>r.all(t.map((t=>t.then((t=>({status:"fulfilled",value:t}))).catch((t=>({status:"rejected",reason:t})))))));let o=window.Array.from;const s=[1];"function"==typeof o&&o(s)===s&&(o=!1);const a=o||function(t){return[].slice.call(t,0)};var u,l,c,d,h={object:!0,symbol:!0},f=function(t){return null!=t},p=Object.keys,v=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}()?Object.keys:function(t){return p(f(t)?Object(t):t)},m=Math.max,_=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}()?Object.assign:function(t,e){var n,i,r,o=m(arguments.length,2);for(t=Object(function(t){if(!f(t))throw new TypeError("Cannot use null or undefined");return t}(t)),r=function(i){try{t[i]=e[i]}catch(t){n||(n=t)}},i=1;i<o;++i)v(e=arguments[i]).forEach(r);if(void 0!==n)throw n;return t},b=Array.prototype.forEach,y=Object.create,g=function(t){var e=y(null);return b.call(arguments,(function(t){f(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)})),e},w=function(t){return"function"==typeof t},T="razdwatrzy",C=String.prototype.indexOf,E="function"==typeof T.contains&&!0===T.contains("dwa")&&!1===T.contains("foo")?String.prototype.contains:function(t){return C.call(this,t,arguments[1])>-1},k=n((function(t){var e;e=t.exports=function(t,e){var n,i,r,o,s;return arguments.length<2||"string"!=typeof t?(o=e,e=t,t=null):o=arguments[2],null==t?(n=r=!0,i=!1):(n=E.call(t,"c"),i=E.call(t,"e"),r=E.call(t,"w")),s={value:e,configurable:n,enumerable:i,writable:r},o?_(g(o),s):s},e.gs=function(t,e,n){var i,r,o,s;return"string"!=typeof t?(o=n,n=e,e=t,t=null):o=arguments[3],null==e?e=void 0:w(e)?null==n?n=void 0:w(n)||(o=n,n=void 0):(o=e,e=n=void 0),null==t?(i=!0,r=!1):(i=E.call(t,"c"),r=E.call(t,"e")),s={get:e,set:n,configurable:i,enumerable:r},o?_(g(o),s):s}})),S=function(t){if(!function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}(t))throw new TypeError(t+" is not a symbol");return t},A=Object.create,N=Object.defineProperties,M=Object.defineProperty,O=Object.prototype,I=A(null);if("function"==typeof Symbol){u=Symbol;try{String(u()),d=!0}catch(t){}}var R=function(){var t=A(null);return function(e){for(var n,i,r=0;t[e+(r||"")];)++r;return t[e+=r||""]=!0,M(O,n="@@"+e,k.gs(null,(function(t){i||(i=!0,M(this,n,k(t)),i=!1)}))),n}}();c=function(t){if(this instanceof c)throw new TypeError("TypeError: Symbol is not a constructor");return l(t)};var L=l=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return d?u(e):(n=A(c.prototype),e=void 0===e?"":String(e),N(n,{F:k("",e),H:k("",R(e))}))};N(l,{for:k((function(t){return I[t]?I[t]:I[t]=l(String(t))})),keyFor:k((function(t){var e;for(e in S(t),I)if(I[e]===t)return e})),hasInstance:k("",u&&u.hasInstance||l("hasInstance")),isConcatSpreadable:k("",u&&u.isConcatSpreadable||l("isConcatSpreadable")),iterator:k("",u&&u.iterator||l("iterator")),match:k("",u&&u.match||l("match")),replace:k("",u&&u.replace||l("replace")),search:k("",u&&u.search||l("search")),species:k("",u&&u.species||l("species")),split:k("",u&&u.split||l("split")),toPrimitive:k("",u&&u.toPrimitive||l("toPrimitive")),toStringTag:k("",u&&u.toStringTag||l("toStringTag")),unscopables:k("",u&&u.unscopables||l("unscopables"))}),N(c.prototype,{constructor:k(l),toString:k("",(function(){return this.H}))}),N(l.prototype,{toString:k((function(){return"Symbol ("+S(this).F+")"})),valueOf:k((function(){return S(this)}))}),M(l.prototype,l.toPrimitive,k("",(function(){var t=S(this);return"symbol"==typeof t?t:t.toString()}))),M(l.prototype,l.toStringTag,k("c","Symbol")),M(c.prototype,l.toStringTag,k("c",l.prototype[l.toStringTag])),M(c.prototype,l.toPrimitive,k("c",l.prototype[l.toPrimitive]));var x=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!h[typeof Symbol.iterator]&&!!h[typeof Symbol.toPrimitive]&&!!h[typeof Symbol.toStringTag]}()?Symbol:L;if(function(){for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var n=t[e];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}!/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)&&window.requestAnimationFrame&&window.cancelAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,0)},window.cancelAnimationFrame=clearTimeout)}(),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),"undefined"!=typeof DOMTokenList&&!function(){const t=document.createElement("div");return t.classList.toggle("test-class",!1),!t.classList.contains("test-class")}()){const t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){!0!==n?!1!==n?t.call(this,e):this.remove(e):this.add(e)}}"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){for(var e=Object(this),n=e.length>>>0,i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){for(var e=Object(this),n=e.length>>>0,i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return r;r++}return-1}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;var r=0|e,o=Math.max(r>=0?r:i-Math.abs(r),0);function s(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}for(;o<i;){if(s(n[o],t))return!0;o++}return!1}}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Object.values||(Object.values=t=>Object.keys(t).map((e=>t[e]))),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.slice(e||0,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),Number.isNaN=Number.isNaN||function(t){return"number"==typeof t&&t!=t},void 0===Number.parseFloat&&(Number.parseFloat=window.parseFloat),void 0===Number.parseInt&&(Number.parseInt=window.parseInt),void 0===Number.isFinite&&(Number.isFinite=function(t){return"number"==typeof t&&isFinite(t)}),Array.prototype.entries||(Array.prototype.entries=function(){var t,e=this,n=0;function i(){}return i.prototype.next=function(){return n>e.length-1&&(t=!0),t?{value:void 0,done:!0}:{value:[n,e[n++]],done:!1}},i.prototype[x.iterator]=function(){return this},new i}),Array.prototype[x.iterator]||(Array.prototype[x.iterator]=function(){var t,e=this,n=0;function i(){}return i.prototype.next=function(){return n>e.length-1&&(t=!0),t?{value:void 0,done:!0}:{value:e[n++],done:!1}},i.prototype[x.iterator]=function(){return this},new i}),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,i=new Array(n);n--;)i[n]=[e[n],t[e[n]]];return i}),Object.is||Object.defineProperty(Object,"is",{value:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}}),"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var t=this;return{contains:function(e){return-1!==t.className.baseVal.split(" ").indexOf(e)},add:function(e){var n=(t.getAttribute("class")+" "+e).trim();return t.setAttribute("class",n)},remove:function(e){var n=t.getAttribute("class")||"",i=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");n=n.replace(i,"").trim(),t.setAttribute("class",n)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}}});const D={MANIFEST:"manifest",SEGMENT:"segment"},P={method:"GET",async:!0,retry:0,throwHttpErrors:!0,headers:{},hooks:{beforeRequest:[],beforeRetry:[],afterResponse:[]},validateStatus:function(t){return t>=200&&t<300},retryStatus:function(t){return[408,413,429].includes(t)||t>=500&&t<600}};function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function $(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function j(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function V(t,e){return t.get($(t,e))}function F(t,e,n){j(t,e),e.set(t,n)}function H(t,e,n){return t.set($(t,e),n),n}function U(t,e){j(t,e),e.add(t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,nt(i.key),i)}}function X(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t,e,n){return(e=nt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function q(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tt(t,e)}function Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Y=function(){return!!t})()}function K(t){if(null==t)throw new TypeError("Cannot destructure "+t)}function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||it(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function it(t,e){if(t){if("string"==typeof t)return B(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}function rt(t){var e="function"==typeof Map?new Map:void 0;return rt=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(Y())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(t.bind.apply(t,i));return n&&tt(r,n.prototype),r}(t,arguments,W(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),tt(n,t)},rt(t)}function ot(t){return(e,...n)=>(n.forEach((n=>{for(const i in n){const r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,Object.assign(r,t))}})),e)}const st=ot({enumerable:!1,configurable:!0,writeable:!1}),at=ot({enumerable:!1,configurable:!1,writeable:!1}),ut=ot({enumerable:!0,configurable:!0,writeable:!1}),lt=t=>new r((e=>setTimeout(e,t)));let ct="";const dt={defer:!0,async:!0};function ht(t,e={}){e=Object.assign({},dt,e);let n=window.vpimport__=window.vpimport__||{cache:{}};if(n.cache[t])return n.cache[t]._promise;const i=new r((function(i,r){const o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.src=ct+t,s.defer=e.defer,s.async=e.async,s.onreadystatechange=s.onload=()=>{const e=Object.keys(n).filter((t=>"cache"!==t))[0];n.cache[t]._module=n[e],delete n[e],i(n.cache[t]._module),o.removeChild(s)},s.onerror=function(e){r(e),delete n.cache[t],o.removeChild(s)},o.appendChild(s)}));return n.cache[t]={_promise:i},i}const ft=t=>Math.pow(t,2),pt=t=>Math.sqrt(t),vt=(t,e)=>{const n=(n,...i)=>{[`%c${t}`,e].concat(i)},i=t=>(...e)=>{n.apply(void 0,[t].concat(e))},r=i("log"),o=(...t)=>{r.apply(void 0,t)};return Object.assign(o,{log:r,warn:i("warn"),error:i("error")}),o};function mt(t,...e){return e.reduce(((t,e)=>(Object.keys(e||{}).forEach((n=>{const i=t[n],r=e[n];i&&void 0===r||(Array.isArray(r)?t[n]=(i||[]).concat(r):(t=>t&&"object"==typeof t)(r)?t[n]=mt({},i,r):t[n]=r)})),t)),t)}const _t=(t=!1)=>t?window.MediaSource:bt,bt=void 0!==window.ManagedMediaSource?window.ManagedMediaSource:window.MediaSource;function yt(){let t,e,n=new r(((n,i)=>{t=n,e=i}));return Object.assign(n,{resolve:t,reject:e}),n}function gt(t,e){if(!e||!e.length)return 0;if(1===e.length&&e.end(0)-e.start(0)<1e-6)return 0;let n=0;for(let i=e.length-1;i>=0&&e.end(i)>t;--i)n+=e.end(i)-Math.max(e.start(i),t);return n}function wt(t,e){let n=t;for(let i=0;i<e.length;i++)if(e.start(i)<=t&&e.end(i)>=t){n=e.end(i);break}return n-t}function Tt(){return void 0!==window.performance&&"function"==typeof window.performance.now?window.performance.now():Date.now()}function Ct(){return Math.trunc(Tt()/1e3)}function Et(t){return Ct()-t}function kt(t){return Tt()-t}function St(t){try{const e=new URLSearchParams;return Object.entries(t).forEach((([t,n])=>{void 0!==n&&e.append(t,String(n))})),e.toString()}catch(t){return""}}function At(t){if("string"!=typeof t)return{};try{const e=new URLSearchParams(t),n={};return e.forEach(((t,e)=>{n[e]=t})),n}catch(t){return{}}}const Nt=(t,e,n=!1)=>{try{const i=new URL(t);return Object.entries(e).forEach((([t,e])=>{n&&void 0===e||i.searchParams.set(t,(null==e?void 0:e.toString())??"")})),i.toString()}catch(e){return t}},Mt=t=>{try{const{username:e,password:n,host:i}=new URL(t);return i?e||n?`${e}:${n}@${i}`:i:null}catch(t){return null}};function Ot(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^16*Math.random()>>t/4).toString(16)))}function It(t,e){this.headers={},this.perfTimings={},mt(this,e),this.ok=2==(this.status/100|0),this.body=t,this.text=()=>r.resolve(t),this.json=()=>r.resolve(JSON.parse(t)),this.blob=()=>r.resolve(new Blob([t])),this.arrayBuffer=()=>r.resolve(t),this.clone=()=>new It(t,this),this.isVimeoResponse=!0}let Rt=function(t){function e(){var e;return(e=t.call(this,"The operation was aborted.")||this).name="AbortError",e}return q(e,t),e}(rt(Error)),Lt=function(t){function e(e){var n;return(n=t.call(this,e.statusText)||this).name="HTTPError",n.response=e,n}return q(e,t),e}(rt(Error)),xt=function(t){function e(){var e;return(e=t.call(this,"A network error occurred.")||this).name="NetworkError",e}return q(e,t),e}(rt(Error)),Dt=function(t){function e(e){var n;return(n=t.call(this,"Request timed out.")||this).name="TimeoutError",n.timeoutMs=e,n}return q(e,t),e}(rt(Error));function Pt(t,e){let{url:n,method:i,body:o,onDownloadProgress:s}=t,a=100;return new r((function(r,u){const l=e?new e:new XMLHttpRequest,c=window.performance;l.open(i.toUpperCase(),n,t.async),t.timeout&&(l.timeout=t.timeout),l.onload=function(){if(0===l.status&&(!l.responseURL||0!==l.responseURL.indexOf("file:")))return;const t={};l.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,((e,n,i)=>{t[n]=t[n]?`${t[n]},${i}`:i}));let e={};if(window.performance&&void 0!==window.performance.getEntriesByType){const t=window.performance.getEntriesByType("resource");if(t.length&&t.length>=a&&("function"==typeof c.clearResourceTimings&&c.clearResourceTimings(),"function"==typeof c.setResourceTimingBufferSize&&(c.setResourceTimingBufferSize(500),a=500)),t.length){const n=t.filter((t=>t.name===l.responseURL)).sort(((t,e)=>t.connectStart-e.connectStart));n.length&&(e=n[n.length-1].toJSON())}}r(new It(l.response,{headers:t,statusText:l.statusText,status:l.status,url:l.responseURL,perfTimings:e}))},l.onabort=function(){u(new Rt)},l.onerror=function(){u(new xt)},l.ontimeout=function(){u(new Dt(t.timeout))},"function"==typeof s&&l.addEventListener("progress",s);for(let e in t.headers)l.setRequestHeader(e,t.headers[e]);t.withCredentials&&(l.withCredentials=!0),t.responseType&&(l.responseType=t.responseType),t.abort=l.abort.bind(l),l.send(o||null)}))}function Bt(){}function $t(t,e,n){if(!t.s){if(n instanceof jt){if(!n.s)return void(n.o=$t.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then($t.bind(null,t,e),$t.bind(null,t,2));t.s=e,t.v=n;const i=t.o;i&&i(t)}}const jt=function(){function t(){}return t.prototype.then=function(e,n){const i=new t,r=this.s;if(r){const t=1&r?e:n;if(t){try{$t(i,1,t(this.v))}catch(t){$t(i,2,t)}return i}return this}return this.o=function(t){try{const r=t.v;1&t.s?$t(i,1,e?e(r):r):n?$t(i,1,n(r)):$t(i,2,r)}catch(t){$t(i,2,t)}},i},t}();function Vt(t){return t instanceof jt&&1&t.s}function Ft(t){const e=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(i){return function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}(i,(function(o){let s=!1;const a=function(e){if(!t.retryAbortErrors&&e instanceof Rt)return 0;if(e instanceof Dt)return 0;if(n>=t.retry)return 0;if(e instanceof Lt){if(!t.retryStatus(e.response.status))return 0;const n=function(t){const e="retry-after".toLowerCase();for(const n in t)if(n.toLowerCase()===e)return t[n];return null}(e.response.headers);if(n&&t.retryStatus(e.response.status)){let t=Number(n);return isNaN(t)?t=Date.parse(n)-Date.now():t*=1e3,t}if(413===e.response.status)return 0}return.3*2**(n-1)*1e3}(o);return n++,function(u,l){var c=function(){if(0!==a&&n>0)return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(lt(a),(function(){var a;const u=(null==t||null==(a=t.hooks)?void 0:a.beforeRetry)||[];return function(t,e){return t&&t.then?t.then(e):e(t)}(function(t,e,n){var i,r,o=-1;return function s(a){try{for(;++o<t.length&&(!n||!n());)if((a=e(o))&&a.then){if(!Vt(a))return void a.then(s,r||(r=$t.bind(null,i=new jt,2)));a=a.v}i?$t(i,1,a):i=a}catch(t){$t(i||(i=new jt),2,t)}}(),i}(u,(function(e){return function(t){if(!void 0)return t&&t.then?t.then(Bt):r.resolve()}((0,u[e])(t,o,n))})),(function(){const t=e(i);return s=!0,t}))}))}();return c&&c.then?c.then(l):l(c)}(0,(function(e){if(s)return e;if(t.throwHttpErrors)throw o}))}))}));let n=0;return e}function Ht(t,e){const n=t.then.bind(t);return Object.assign(t,{abort:e,then:(...t)=>Ht(n.apply(void 0,t),e)})}function Ut(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function zt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function Xt(t,e,n){if(!t.s){if(n instanceof Gt){if(!n.s)return void(n.o=Xt.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(Xt.bind(null,t,e),Xt.bind(null,t,2));t.s=e,t.v=n;const i=t.o;i&&i(t)}}const Gt=function(){function t(){}return t.prototype.then=function(e,n){const i=new t,r=this.s;if(r){const t=1&r?e:n;if(t){try{Xt(i,1,t(this.v))}catch(t){Xt(i,2,t)}return i}return this}return this.o=function(t){try{const r=t.v;1&t.s?Xt(i,1,e?e(r):r):n?Xt(i,1,n(r)):Xt(i,2,r)}catch(t){Xt(i,2,t)}},i},t}();function Wt(t){return t instanceof Gt&&1&t.s}function qt(t,e,n){var i,r,o=-1;return function s(a){try{for(;++o<t.length&&(!n||!n());)if((a=e(o))&&a.then){if(!Wt(a))return void a.then(s,r||(r=Xt.bind(null,i=new Gt,2)));a=a.v}i?Xt(i,1,a):i=a}catch(t){Xt(i||(i=new Gt),2,t)}}(),i}function Yt(t,e){return t&&t.then?t.then(e):e(t)}const Kt=["get","post","put","patch","head","delete"],Zt={json:"application/json",text:"text/plain",arrayBuffer:"*/*",blob:"*/*"},Jt=["get"];function Qt(t,e){const n=zt((function(){let t=!1,n=!1;const i=e.hooks.beforeRequest||[];return Yt(qt(i,(function(o){return Ut((0,i[o])(e),(function(i){if(i instanceof te)return e=i,void(n=!0);if(null!=i&&i.isVimeoResponse){const n=r.resolve(i).then(ee(e));return t=!0,n}}))}),(function(){return n||t})),(function(n){return t?n:Pt(e).then(ee(e))}))}));e=new te(t,e);const{method:i,json:o,jwt:s,searchParams:a}=e;o&&(e.headers["Content-Type"]=Zt.json,e.body=JSON.stringify(o)),s&&(e.headers.Authorization=`jwt ${s}`),a&&(e.url=Nt(e.url,a));const u=-1!==Jt.indexOf(i.toLowerCase())?Ft(e)(n):n();for(const t in Zt)u[t]=zt((function(){return e.headers["Content-Type"]=Zt[t],Ut(u,(function(e){return e.clone()[t]()}))}));return Ht(u,(()=>e.abort()))}function te(t,e){mt(this,P,t="string"==typeof t?{url:t}:t,e)}function ee(t){const{validateStatus:e,throwHttpErrors:n,hooks:i}=t;return zt((function(r){const o=i.afterResponse||[];return Yt(qt(o,(function(e){return Ut((0,o[e])(t,r.clone()),(function(t){t instanceof It&&(r=t)}))})),(function(){if(!e||e(r.status))return r;if(n)throw new Lt(r);return r}))}))}Kt.forEach((function(t){return Qt[t]=(e,n)=>Qt(e,J({method:t},n)),Qt[t]}));const{get:ne,post:ie,put:re,patch:oe,head:se}=Qt,ae={ARRAY_BUFFER:"arraybuffer"};var ue=Object.freeze({__proto__:null,ContentTypes:D,defaults:P,requestMethods:Kt,responseTypes:Zt,retryMethods:Jt,request:Qt,Request:te,get:ne,post:ie,put:re,patch:oe,head:se,Response:It,ResponseTypes:ae,AbortError:Rt,HTTPError:Lt,NetworkError:xt,TimeoutError:Dt,xhr:Pt});const le=navigator.userAgent.toLowerCase(),ce=["googlebot","google-inspectiontool"];function de(t){t=t.toLowerCase();const e=new RegExp(t).test(le);return"safari"===t?e&&new RegExp("version").test(le):e}function he(t){const e=document.createElement("div"),n=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ");for(let t in i){const n=i[t];if(void 0!==e.style[n])return n}return t}const fe=!!de("android")&&(parseFloat(le.replace(/^.* android (\d+)\.(\d+).*$/,"$1.$2"))||!0),pe=window.devicePixelRatio||1,ve=!(!de("windows phone")&&!de("iemobile"))&&(parseFloat(le.replace(/^.* windows phone (os )?(\d+)\.(\d+).*$/,"$2.$3"))||!0),me=!!de("msie")&&parseFloat(le.replace(/^.*msie (\d+).*$/,"$1")),_e=!!de("trident")&&parseFloat(le.replace(/^.*trident\/(\d+)\.(\d+).*$/,"$1.$2"))+4,be=de("ipad;")||de("iphone;")||de("ipod touch;")?parseFloat(le.replace(/^.* os (\d+)_(\d+).*$/,"$1.$2")):navigator.userAgent.includes("Mac")&&"ontouchend"in document,ye=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent),ge="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,we=de("opera")||de("opr"),Te=/^Mozilla\/5\.0 \(.* Mac OS X.*\(KHTML, like Gecko\)(?: Mobile\/[\S]*|)$/i.test(le),Ce=(de("safari")||ye)&&de("apple")&&!de("chrome")&&!de("android");function Ee(t){if(!Ce)return!1;const e=t.split("."),n=function(){if(!de("safari"))return[];const t=le.split(" ").find((function(t){return/version\//.test(t)}));return t?t.replace("version/","").split(".").map((function(t){return parseInt(t,10)})):[]}();for(let t=0;t<3;t++){const i=parseInt(e[t],10)||0,r=n[t]||0;if(i<r)return!0;if(i>r)return!1}return!0}const ke={autoplayPolicy:Ee("11"),hevc:Ee("11"),dolbyVision:Ee("14.1"),spatial:Ee("11.0.2"),fullscreenRequiresDataLoaded:Ee("17.2")},Se={airPlay:"WebKitPlaybackTargetAvailabilityEvent"in window,android:fe,appleMail:Te,hasAutoplayPolicy:fe||be||ke.autoplayPolicy||function(){if(!de("chrome"))return[];const t=le.split(" ").find((function(t){return be?/CriOS\//.test(t):/chrome\//.test(t)}));return t?t.replace("chrome/","").split(".").map((function(t){return parseInt(t,10)})):[]}()[0]>=66,iOS:be,iPadOS:ge,mobileAndroid:fe&&de("mobile"),browser:{bb10:de("bb10"),chrome:de("chrome"),firefox:de("firefox"),ie:me||_e,edge:de("edge"),opera:we,safari:Ce,chromium:"chrome"in window&&!de("crios"),webKit:Ce||de("crios")},mse:bt,devicePixelRatio:pe,iPhone:de("iphone;")||de("ipod touch;")||de("ipod;"),iPad:de("ipad;"),iPadNonRetina:de("ipad;")&&pe<2,mac:de("mac os"),pictureInPictureSupportType:function(){if("pictureInPictureEnabled"in document)return"pip-api";const t=document.createElement("video");return!("function"!=typeof t.webkitSetPresentationMode||!t.webkitSupportsPresentationMode("picture-in-picture"))&&"webkit-presentation-mode"}(),pointerEvents:window.navigator.pointerEnabled||window.navigator.msPointerEnabled||!1,passiveEvents:function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}(),svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||de("windows phone")||window.navigator.maxTouchPoints>1||window.navigator.msMaxTouchPoints||!1,transformProperty:he("transform"),transitionProperty:he("transition"),webp:function(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),windowsPhone:ve,mediaCapabilities:"mediaCapabilities"in navigator,isGoogleBot:(()=>{const t=le.toLowerCase();return ce.some((e=>t.includes(e)))})(),storageAccessAPI:"requestStorageAccess"in document&&"hasStorageAccess"in document,clipboardAPI:"clipboard"in navigator&&"write"in navigator.clipboard,videoContentPreload:!de("iphone"),intersectionObserver:"IntersectionObserver"in window},Ae=/mac os x 10_13/.test(le),Ne=Se.iOS&&Se.iOS>=11,Me="undefined"!=typeof matchMedia&&(matchMedia("(color-gamut: p3)").matches&&screen.pixelDepth>24||matchMedia("(dynamic-range: high), (video-dynamic-range: high)").matches);Se.hevc=function(t="hvc1"){return void 0!==bt?bt.isTypeSupported(`video/mp4; codecs="${t}"`):ke.hevc&&(Ae||Ne)}("hvc1.2.4.H150.90"),Se.hdr=Me,Se.dolbyVision=function(){const t='video/mp4; codecs="dvh1"';let e=void 0!==bt&&bt.isTypeSupported(t);if(!e){const n=document.createElement("video");"canPlayType"in n&&(e="probably"===n.canPlayType(t))}return!((ge||Se.iOS)&&!ke.dolbyVision)&&e}(),Se.vp9hdr=(window.matchMedia("(color-gamut: p3)").matches||window.matchMedia("(color-gamut: rec2020)").matches)&&screen.colorDepth>=48&&(bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.16.09.00"')||bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.16.09.01"')||bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.18.09.00"')||bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.18.09.01"')),Se.av1=void 0!==bt&&bt.isTypeSupported('video/mp4; codecs="av01.0.31M.08.0.110.01.01.01.0"'),Se.webvr=!(!window.navigator||!("getVRDisplays"in window.navigator)),Se.webxr=!!(window.navigator&&"xr"in window.navigator&&"supportsSession"in window.navigator.xr),Se.spatialPlayback=!!Se.mse,Se.stereoscopic=Se.spatialPlayback&&Se.mobileAndroid,Se.fullscreenRequiresDataLoaded=Se.iOS>=17||Se.iPadOS&&ke.fullscreenRequiresDataLoaded;const Oe=window.Map||function(){let t,e,n;const i=()=>{e=[],n=[]},r=n=>-1<(t=e.indexOf(n));return i(),{get size(){return e.length},has:r,clear:i,get:t=>n[e.indexOf(t)],keys:()=>e.slice(),values:()=>n.slice(),entries:()=>e.map(((t,e)=>[t,n[e]])),delete:i=>r(i)&&e.splice(t,1)&&!!n.splice(t,1),forEach(t,i){n.forEach(((n,r)=>t.call(i,n,e[r],this)))},set(i,o){return r(i)?n[t]=o:n[e.push(i)-1]=o,this}}};var Ie=Array.isArray,Re="object"==typeof global&&global&&global.Object===Object&&global,Le="object"==typeof self&&self&&self.Object===Object&&self,xe=Re||Le||Function("return this")(),De=xe.Symbol,Pe=Object.prototype,Be=Pe.hasOwnProperty,$e=Pe.toString,je=De?De.toStringTag:void 0,Ve=Object.prototype.toString,Fe=De?De.toStringTag:void 0;function He(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Fe&&Fe in Object(t)?function(t){var e=Be.call(t,je),n=t[je];try{t[je]=void 0;var i=!0}catch(t){}var r=$e.call(t);return i&&(e?t[je]=n:delete t[je]),r}(t):function(t){return Ve.call(t)}(t)}function Ue(t){return null!=t&&"object"==typeof t}function ze(t){return"symbol"==typeof t||Ue(t)&&"[object Symbol]"==He(t)}var Xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ge=/^\w*$/;function We(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function qe(t){if(!We(t))return!1;var e=He(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Ye=xe["U"],Ke=function(){var t=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ze=Function.prototype.toString;function Je(t){if(null!=t){try{return Ze.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Qe=/^\[object .+?Constructor\]$/,tn=Function.prototype,en=Object.prototype,nn=tn.toString,rn=en.hasOwnProperty,on=RegExp("^"+nn.call(rn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sn(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!We(t)||function(t){return!!Ke&&Ke in t}(t))&&(qe(t)?on:Qe).test(Je(t))}(n)?n:void 0}var an=sn(Object,"create"),un=Object.prototype.hasOwnProperty,ln=Object.prototype.hasOwnProperty;function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function dn(t,e){return t===e||t!=t&&e!=e}function hn(t,e){for(var n=t.length;n--;)if(dn(t[n][0],e))return n;return-1}cn.prototype.clear=function(){this.X=an?an(null):{},this.size=0},cn.prototype.delete=function(t){var e=this.has(t)&&delete this.X[t];return this.size-=e?1:0,e},cn.prototype.get=function(t){var e=this.X;if(an){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return un.call(e,t)?e[t]:void 0},cn.prototype.has=function(t){var e=this.X;return an?void 0!==e[t]:ln.call(e,t)},cn.prototype.set=function(t,e){var n=this.X;return this.size+=this.has(t)?0:1,n[t]=an&&void 0===e?"__lodash_hash_undefined__":e,this};var fn=Array.prototype.splice;function pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}pn.prototype.clear=function(){this.X=[],this.size=0},pn.prototype.delete=function(t){var e=this.X,n=hn(e,t);return!(n<0||(n==e.length-1?e.pop():fn.call(e,n,1),--this.size,0))},pn.prototype.get=function(t){var e=this.X,n=hn(e,t);return n<0?void 0:e[n][1]},pn.prototype.has=function(t){return hn(this.X,t)>-1},pn.prototype.set=function(t,e){var n=this.X,i=hn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var vn=sn(xe,"Map");function mn(t,e){var n=t.X;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function _n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function bn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(bn.Cache||_n),n}_n.prototype.clear=function(){this.size=0,this.X={hash:new cn,map:new(vn||pn),string:new cn}},_n.prototype.delete=function(t){var e=mn(this,t).delete(t);return this.size-=e?1:0,e},_n.prototype.get=function(t){return mn(this,t).get(t)},_n.prototype.has=function(t){return mn(this,t).has(t)},_n.prototype.set=function(t,e){var n=mn(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},bn.Cache=_n;var yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gn=/\\(\\)?/g,wn=function(){var t=bn((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(yn,(function(t,n,i,r){e.push(i?r.replace(gn,"$1"):n||t)})),e}),(function(t){return 500===e.size&&e.clear(),t})),e=t.cache;return t}(),Tn=De?De.prototype:void 0,Cn=Tn?Tn.toString:void 0;function En(t){if("string"==typeof t)return t;if(Ie(t))return function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}(t,En)+"";if(ze(t))return Cn?Cn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function kn(t){return null==t?"":En(t)}function Sn(t,e){return Ie(t)?t:function(t,e){if(Ie(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ze(t))||Ge.test(t)||!Xe.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:wn(kn(t))}function An(t){if("string"==typeof t||ze(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Nn(t,e){for(var n=0,i=(e=Sn(e,t)).length;null!=t&&n<i;)t=t[An(e[n++])];return n&&n==i?t:void 0}function Mn(t,e,n){var i=null==t?void 0:Nn(t,e);return void 0===i?n:i}var On="object"==typeof global&&global&&global.Object===Object&&global,In="object"==typeof self&&self&&self.Object===Object&&self,Rn=(On||In||Function("return this")()).Symbol,Ln=Object.prototype,xn=Ln.hasOwnProperty,Dn=Ln.toString,Pn=Rn?Rn.toStringTag:void 0,Bn=Object.prototype.toString,$n=Rn?Rn.toStringTag:void 0;var jn=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),Vn=Function.prototype,Fn=Object.prototype,Hn=Vn.toString,Un=Fn.hasOwnProperty,zn=Hn.call(Object),Xn=function(){var t,e=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()).Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}(),Gn="@@redux/INIT";function Wn(t,e,n){var i;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(Wn)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var r=t,o=e,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function c(){return o}function d(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return l(),a.push(t),function(){if(e){e=!1,l();var n=a.indexOf(t);a.splice(n,1)}}}function h(t){if(!function(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||"[object Object]"!=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$n&&$n in Object(t)?function(t){var e=xn.call(t,Pn),n=t[Pn];try{t[Pn]=void 0;var i=!0}catch(t){}var r=Dn.call(t);return i&&(e?t[Pn]=n:delete t[Pn]),r}(t):function(t){return Bn.call(t)}(t)}(t))return!1;var e=jn(t);if(null===e)return!0;var n=Un.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Hn.call(n)==zn}(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=r(o,t)}finally{u=!1}for(var e=s=a,n=0;n<e.length;n++)(0,e[n])();return t}return h({type:Gn}),(i={dispatch:h,subscribe:d,getState:c,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");r=t,h({type:Gn})}})[Xn]=function(){var t,e=d;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[Xn]=function(){return this},t},i}function qn(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var Yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function Kn(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,i,r){var o,s=t(n,i,r),a=s.dispatch,u={getState:s.getState,dispatch:function(t){return a(t)}};return o=e.map((function(t){return t(u)})),a=qn.apply(void 0,o)(s.dispatch),Yn({},s,{dispatch:a})}}}
/**
   * @license
   *
   * Portions of this polyfill are a derivative work of the Polymer project, which requires the following licence notice:
   *
   * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
   */var Zn=window.WeakMap||function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};return n.prototype.set=function(e,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Invalid value used as weak map key");var i=e[this.name];return i&&i[0]===e?i[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},n.prototype.get=function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},n.prototype.delete=function(t){var e=t[this.name];return!(!e||e[0]!==t||(e[0]=e[1]=void 0,0))},n.prototype.has=function(t){var e=t[this.name];return!!e&&e[0]===t},n}(),Jn=new Zn,Qn=new Zn;let ti=function(){function t(){F(this,Jn,Object.create(null)),F(this,Qn,void 0),G(this,"eventNames",(()=>Object.keys(V(Jn,this)))),G(this,"fire",((t,...e)=>{if(!t)throw new Error("Tried to fire an undefined event.");if(t in V(Jn,this)){const n=V(Jn,this)[t].slice(0);for(let t=0,i=n.length;t<i;t++)if(n[t].apply(this,e),V(Qn,this)){H(Qn,this,!1);break}}return this})),G(this,"halt",(()=>(H(Qn,this,!0),this))),G(this,"on",((t,e,n)=>{const i=[].concat(t);for(let t=0,r=i.length;t<r;t++){const r=i[t];if(!r)throw new Error("Tried to listen for an undefined event.");V(Jn,this)[r]||(V(Jn,this)[r]=[]),n?V(Jn,this)[r].unshift(e):V(Jn,this)[r].push(e)}return this})),G(this,"once",((t,e,n)=>{const i=(...n)=>{this.off(t,i),e.apply(this,n)};return i.handler=e,this.on(t,i,n)})),G(this,"off",((t,e)=>{if(!t)return H(Jn,this,Object.create(null)),this;const n=[].concat(t);for(let t=0,i=n.length;t<i;t++){const i=n[t];if(!i)throw new Error("Tried to remove an undefined event.");if(i in V(Jn,this)){const t=V(Jn,this)[i];if(e){let n=t.indexOf(e);if(-1===n)for(let i=0,r=t.length;i<r;i++)if(t[i].handler===e){n=i;break}if(-1===n)return this;t.splice(n,1),0===t.length&&delete V(Jn,this)[i]}else delete V(Jn,this)[i]}}return this})),G(this,"prependOn",((t,e)=>this.on(t,e,!0)))}return t.extend=function(e){return Object.assign(e,new t),e},t}();function ei(t){var e=this.X=new pn(t);this.size=e.size}ei.prototype.clear=function(){this.X=new pn,this.size=0},ei.prototype.delete=function(t){var e=this.X,n=e.delete(t);return this.size=e.size,n},ei.prototype.get=function(t){return this.X.get(t)},ei.prototype.has=function(t){return this.X.has(t)},ei.prototype.set=function(t,e){var n=this.X;if(n instanceof pn){var i=n.X;if(!vn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.X=new _n(i)}return n.set(t,e),this.size=n.size,this};var ni=function(){try{var t=sn(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function ii(t,e,n){"__proto__"==e&&ni?ni(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ri=Object.prototype.hasOwnProperty;function oi(t,e,n){var i=t[e];ri.call(t,e)&&dn(i,n)&&(void 0!==n||e in t)||ii(t,e,n)}function si(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=i?i(n[a],t[a],a,n,t):void 0;void 0===u&&(u=t[a]),r?ii(n,a,u):oi(n,a,u)}return n}function ai(t){return Ue(t)&&"[object Arguments]"==He(t)}var ui=Object.prototype,li=ui.hasOwnProperty,ci=ui.propertyIsEnumerable,di=ai(function(){return arguments}())?ai:function(t){return Ue(t)&&li.call(t,"callee")&&!ci.call(t,"callee")},hi="object"==typeof t&&t&&!t.nodeType&&t,fi=hi&&"object"==typeof module&&module&&!module.nodeType&&module,pi=fi&&fi.exports===hi?xe.Buffer:void 0,vi=(pi?pi.isBuffer:void 0)||function(){return!1},mi=/^(?:0|[1-9]\d*)$/;function _i(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&mi.test(t))&&t>-1&&t%1==0&&t<e}function bi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var yi={};function gi(t){return function(e){return t(e)}}yi["[object Float32Array]"]=yi["[object Float64Array]"]=yi["[object Int8Array]"]=yi["[object Int16Array]"]=yi["[object Int32Array]"]=yi["[object Uint8Array]"]=yi["[object Uint8ClampedArray]"]=yi["[object Uint16Array]"]=yi["[object Uint32Array]"]=!0,yi["[object Arguments]"]=yi["[object Array]"]=yi["[object ArrayBuffer]"]=yi["[object Boolean]"]=yi["[object DataView]"]=yi["[object Date]"]=yi["[object Error]"]=yi["[object Function]"]=yi["[object Map]"]=yi["[object Number]"]=yi["[object Object]"]=yi["[object RegExp]"]=yi["[object Set]"]=yi["[object String]"]=yi["[object WeakMap]"]=!1;var wi="object"==typeof t&&t&&!t.nodeType&&t,Ti=wi&&"object"==typeof module&&module&&!module.nodeType&&module,Ci=Ti&&Ti.exports===wi&&Re.process,Ei=function(){try{return Ti&&Ti.require&&Ti.require("util").types||Ci&&Ci.binding&&Ci.binding("util")}catch(t){}}(),ki=Ei&&Ei.isTypedArray,Si=ki?gi(ki):function(t){return Ue(t)&&bi(t.length)&&!!yi[He(t)]},Ai=Object.prototype.hasOwnProperty;function Ni(t,e){var n=Ie(t),i=!n&&di(t),r=!n&&!i&&vi(t),o=!n&&!i&&!r&&Si(t),s=n||i||r||o,a=s?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],u=a.length;for(var l in t)!e&&!Ai.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_i(l,u))||a.push(l);return a}var Mi=Object.prototype;function Oi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Mi)}function Ii(t,e){return function(n){return t(e(n))}}var Ri=Ii(Object.keys,Object),Li=Object.prototype.hasOwnProperty;function xi(t){if(!Oi(t))return Ri(t);var e=[];for(var n in Object(t))Li.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Di(t){return null!=t&&bi(t.length)&&!qe(t)}function Pi(t){return Di(t)?Ni(t):xi(t)}var Bi=Object.prototype.hasOwnProperty;function $i(t){return Di(t)?Ni(t,!0):function(t){if(!We(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Oi(t),n=[];for(var i in t)("constructor"!=i||!e&&Bi.call(t,i))&&n.push(i);return n}(t)}var ji="object"==typeof t&&t&&!t.nodeType&&t,Vi=ji&&"object"==typeof module&&module&&!module.nodeType&&module,Fi=Vi&&Vi.exports===ji?xe.Buffer:void 0,Hi=Fi?Fi.allocUnsafe:void 0;function Ui(t,e){if(e)return t.slice();var n=t.length,i=Hi?Hi(n):new t.constructor(n);return t.copy(i),i}function zi(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function Xi(){return[]}var Gi=Object.prototype.propertyIsEnumerable,Wi=Object.getOwnPropertySymbols,qi=Wi?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s)&&(o[r++]=s)}return o}(Wi(t),(function(e){return Gi.call(t,e)})))}:Xi;function Yi(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Ki=Ii(Object.getPrototypeOf,Object),Zi=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Yi(e,qi(t)),t=Ki(t);return e}:Xi;function Ji(t,e,n){var i=e(t);return Ie(t)?i:Yi(i,n(t))}function Qi(t){return Ji(t,Pi,qi)}function tr(t){return Ji(t,$i,Zi)}var er=sn(xe,"DataView"),nr=sn(xe,"Promise"),ir=sn(xe,"Set"),rr=sn(xe,"WeakMap"),or="[object Map]",sr="[object Promise]",ar="[object Set]",ur="[object WeakMap]",lr="[object DataView]",cr=Je(er),dr=Je(vn),hr=Je(nr),fr=Je(ir),pr=Je(rr),vr=He;(er&&vr(new er(new ArrayBuffer(1)))!=lr||vn&&vr(new vn)!=or||nr&&vr(nr.resolve())!=sr||ir&&vr(new ir)!=ar||rr&&vr(new rr)!=ur)&&(vr=function(t){var e=He(t),n="[object Object]"==e?t.constructor:void 0,i=n?Je(n):"";if(i)switch(i){case cr:return lr;case dr:return or;case hr:return sr;case fr:return ar;case pr:return ur}return e});var mr=vr,_r=Object.prototype.hasOwnProperty,br=xe.Uint8Array;function yr(t){var e=new t.constructor(t.byteLength);return new br(e).set(new br(t)),e}var gr=/\w*$/,wr=De?De.prototype:void 0,Tr=wr?wr.valueOf:void 0;function Cr(t,e){var n=e?yr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Er=Object.create,kr=function(){function t(){}return function(e){if(!We(e))return{};if(Er)return Er(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Sr(t){return"function"!=typeof t.constructor||Oi(t)?{}:kr(Ki(t))}var Ar=Ei&&Ei.isMap,Nr=Ar?gi(Ar):function(t){return Ue(t)&&"[object Map]"==mr(t)},Mr=Ei&&Ei.isSet,Or=Mr?gi(Mr):function(t){return Ue(t)&&"[object Set]"==mr(t)},Ir="[object Arguments]",Rr="[object Function]",Lr="[object Object]",xr={};function Dr(t,e,n,i,r,o){var s,a=1&e,u=2&e,l=4&e;if(n&&(s=r?n(t,i,r,o):n(t)),void 0!==s)return s;if(!We(t))return t;var c=Ie(t);if(c){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&_r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!a)return zi(t,s)}else{var d=mr(t),h=d==Rr||"[object GeneratorFunction]"==d;if(vi(t))return Ui(t,a);if(d==Lr||d==Ir||h&&!r){if(s=u||h?{}:Sr(t),!a)return u?function(t,e){return si(t,Zi(t),e)}(t,function(t,e){return t&&si(e,$i(e),t)}(s,t)):function(t,e){return si(t,qi(t),e)}(t,function(t,e){return t&&si(e,Pi(e),t)}(s,t))}else{if(!xr[d])return r?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return yr(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var n=e?yr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cr(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,gr.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return Tr?Object(Tr.call(t)):{}}(t)}}(t,d,a)}}o||(o=new ei);var f=o.get(t);if(f)return f;o.set(t,s),Or(t)?t.forEach((function(i){s.add(Dr(i,e,n,i,t,o))})):Nr(t)&&t.forEach((function(i,r){s.set(r,Dr(i,e,n,r,t,o))}));var p=c?void 0:(l?u?tr:Qi:u?$i:Pi)(t);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(p||t,(function(i,r){p&&(i=t[r=i]),oi(s,r,Dr(i,e,n,r,t,o))})),s}function Pr(t){return Dr(t,5)}function Br(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function $r(t){return t}xr[Ir]=xr["[object Array]"]=xr["[object ArrayBuffer]"]=xr["[object DataView]"]=xr["[object Boolean]"]=xr["[object Date]"]=xr["[object Float32Array]"]=xr["[object Float64Array]"]=xr["[object Int8Array]"]=xr["[object Int16Array]"]=xr["[object Int32Array]"]=xr["[object Map]"]=xr["[object Number]"]=xr[Lr]=xr["[object RegExp]"]=xr["[object Set]"]=xr["[object String]"]=xr["[object Symbol]"]=xr["[object Uint8Array]"]=xr["[object Uint8ClampedArray]"]=xr["[object Uint16Array]"]=xr["[object Uint32Array]"]=!0,xr["[object Error]"]=xr[Rr]=xr["[object WeakMap]"]=!1;var jr=Math.max;function Vr(t,e,n){return e=jr(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=jr(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),Br(t,this,a)}}function Fr(t){return function(){return t}}var Hr=ni?function(t,e){return ni(t,"toString",{configurable:!0,enumerable:!1,value:Fr(e),writable:!0})}:$r,Ur=Date.now,zr=function(t){var e=0,n=0;return function(){var i=Ur(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Hr);function Xr(t,e){return zr(Vr(t,e,$r),t+"")}function Gr(t,e,n){(void 0!==n&&!dn(t[e],n)||void 0===n&&!(e in t))&&ii(t,e,n)}var Wr=function(t,e,n){for(var i=-1,r=Object(t),o=n(t),s=o.length;s--;){var a=o[++i];if(!1===e(r[a],a,r))break}return t},qr=Function.prototype,Yr=Object.prototype,Kr=qr.toString,Zr=Yr.hasOwnProperty,Jr=Kr.call(Object);function Qr(t){if(!Ue(t)||"[object Object]"!=He(t))return!1;var e=Ki(t);if(null===e)return!0;var n=Zr.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Kr.call(n)==Jr}function to(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function eo(t,e,n,i,r){t!==e&&Wr(e,(function(o,s){if(r||(r=new ei),We(o))!function(t,e,n,i,r,o,s){var a=to(t,n),u=to(e,n),l=s.get(u);if(l)Gr(t,n,l);else{var c=o?o(a,u,n+"",t,e,s):void 0,d=void 0===c;if(d){var h=Ie(u),f=!h&&vi(u),p=!h&&!f&&Si(u);c=u,h||f||p?Ie(a)?c=a:function(t){return Ue(t)&&Di(t)}(a)?c=zi(a):f?(d=!1,c=Ui(u,!0)):p?(d=!1,c=Cr(u,!0)):c=[]:Qr(u)||di(u)?(c=a,di(a)?c=function(t){return si(t,$i(t))}(a):We(a)&&!qe(a)||(c=Sr(u))):d=!1}d&&(s.set(u,c),r(c,u,i,o,s),s.delete(u)),Gr(t,n,c)}}(t,e,s,n,eo,i,r);else{var a=i?i(to(t,s),o,s+"",t,e,r):void 0;void 0===a&&(a=o),Gr(t,s,a)}}),$i)}function no(t,e,n,i,r,o){return We(t)&&We(e)&&(o.set(e,t),eo(t,e,void 0,no,o),o.delete(e)),t}function io(t){return Xr((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(t,e,n){if(!We(n))return!1;var i=typeof e;return!!("number"==i?Di(n)&&_i(e,n.length):"string"==i&&e in n)&&dn(n[e],t)}(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e}))}var ro=io((function(t,e,n,i){eo(t,e,n,i)})),oo=Xr((function(t){return t.push(void 0,no),Br(ro,void 0,t)}));let so=function(t){function e(e){var n;return(n=t.call(this)||this).G=!1,n.W=!1,n.Y=e,n}q(e,t);var n=e.prototype;return n.showPicker=function(){},n.getFile=function(){const t=this.constructor.displayName.replace("ExternalDisplay","");if(this.Y.externalDisplayFiles[t])return this.Y.externalDisplayFiles[t];const e=this.constructor.supportedVideoTypes,n=this.Y.files.filter((t=>-1!==e.indexOf(t.mime))).sort(((t,n)=>t.mime===n.mime?t.priority-n.priority:e.indexOf(t.mime)-e.indexOf(n.mime)));if(!n.length)throw new Error(`No files available for ${this.constructor.displayName} external display.`);return n[0]},X(e,[{key:"active",get:function(){return this.W}},{key:"available",get:function(){return this.G}},{key:"element",get:function(){return document.createElement("div")}}],[{key:"displayName",get:function(){return"ExternalDisplay"}},{key:"supported",get:function(){return!1}},{key:"supportedVideoTypes",get:function(){return[]}}])}(ti);const ao={ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ENTER_PICTURE_IN_PICTURE:"enterpictureinpicture",LEAVE_PICTURE_IN_PICTURE:"leavepictureinpicture",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",RESIZE:"resize",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",WEBKIT_BEGIN_FULLSCREEN:"webkitbeginfullscreen",WEBKIT_END_FULLSCREEN:"webkitendfullscreen",WEBKIT_PRESENTATION_MODE_CHANGED:"webkitpresentationmodechanged"},uo={ADD_TRACK:"addtrack",REMOVE_TRACK:"removetrack",CHANGE:"change"},lo={AVAILABLE:"externaldisplayavailable",UNAVAILABLE:"externaldisplayunavailable",ACTIVATED:"externaldisplayactivated",DEACTIVATED:"externaldisplaydeactivated"},co={AIRPLAY_AVAILABLE:"available",AIRPLAY_UNAVAILABLE:"unavailable",AIRPLAY_ACTIVATED:"activated",AIRPLAY_DEACTIVATED:"deactivated"},ho={SCANNER_CHANGE:"scannerchange",SCANNER_ERROR:"scannererror",FILE_ERROR:"fileerror",FILE_SRC_UPDATE:"filesrcupdate",DOWNLOAD_START:"downloadstart",DOWNLOAD_END:"downloadend",DOWNLOAD_ERROR:"downloaderror",DOWNLOAD_TIMEOUT:"downloadtimeout",DRM_AUTH_FAILURE:"drmauthfailure",DRM_AUTH_SUCCESS:"drmauthsuccess",DRM_FAILURE:"drmfailure",DRM_KEY_SWITCH:"drmkeyswitch",DRM_OUTPUT_RESTRICTED:"drmoutputrestricted",EME_UNSUPPORTED:"emeunsupported",CURRENT_FILE_CHANGE:"currentfilechange",MEDIA_URL_EXPIRED:"mediaurlexpired",MEDIA_URL_BAD_REQUEST:"mediaurlbadrequest",STREAM_CHANGE:"streamchange",STREAM_CHANGE_START:"streamchangestart",STREAM_UPDATED:"streamupdated",STREAM_BUFFER_START:"streambufferstart",STREAM_BUFFER_END:"streambufferend",AVAILABLE_STREAMS_CHANGED:"availablestreamschanged",MEDIA_CAPABILITY_STREAMS_UNSUPPORTED:"mediacapabilitystreamsunsupported",DROPPED_FRAMES:"droppedframes",BANDWIDTH:"bandwidth",STREAM_TARGET_CHANGE:"streamtargetchange",CUE_POINT:"cuepoint",BUFFER_OCCUPANCY:"bufferoccupancy",MANIFEST_TIMEOUT:"manifesttimeout",MANIFEST_LOADED:"manifestloaded",STREAMS_LOADED:"streamsloaded",TEXT_SRC_UPDATE:"texttracksrcupdate",TEXT_TRACKS_AVAILABLE:"texttracksavailable",AV_DURATION_MISMATCH:"avdurationmismatch",BUFFER_STARTED:"bufferstarted",BUFFER_ENDED:"bufferended",QUOTA_EXCEEDED_ERROR:"quotaexceedederror",CHAPTER_CUES_UPDATED:"chaptercuesupdated",APPEND_BUFFER_END:"appendbufferend",DROPPED_FRAME_PERCENT_EXCEEDED:"droppedframepercentexceeded",LOAD_SEGMENT_FAILED:"loadsegmentfailed",AUDIO_TRACK_CHANGED:"audiotrackchanged",SEGMENT_CUES_LOADED:"segmentcuesloaded"},fo={STREAM_ONLINE:"livestreamonline",STREAM_OFFLINE:"livestreamoffline",BUFFER_GAP_JUMP:"livebuffergapjump",BUFFER_GAP_JUMP_PREVENT:"livebuffergapjumpprevent",STALL_JUMP:"livestalljump",LATENCY_UPDATED:"latencyupdated"},po={CAMERA_UPDATE:"cameraupdate",CAMERA_CHANGE:"camerachange",MOTION_START:"motionstart",MOTION_END:"motionend",SPATIAL_UNSUPPORTED:"spatialunsupported",WEBVR_ENTER:"entervr",WEBVR_EXIT:"exitvr",WEBVR_HARDWARE_AVAILABLE:"webvrhardwareavailable",AMBISONIC_UNSUPPORTED:"ambisonicunsupported"},vo={MEDIASESSION_PLAY:"mediasessionplay",MEDIASESSION_PAUSE:"mediasessionpause",MEDIASESSION_SEEK_FORWARD:"mediasessionseekforward",MEDIASESSION_SEEK_TO:"mediasessionseekto",MEDIASESSION_SEEK_BACKWARD:"mediasessionseekbackward"},mo=Object.assign({},ao,uo,lo,co,ho,po,fo,vo);var _o=n((function(t,e){
/*! For license information please see hls-parser.min.js.LICENSE.txt */
self,t.exports=function(){return t={851:(t,e,n)=>{var i=n(771),r=i.getOptions,o=i.setOptions,s=n(463),a=n(367),u=n(890);t.exports={parse:s,stringify:a,types:u,getOptions:r,setOptions:o}},463:(t,e,n)=>{function i(t,e){var n;if(void 0===x||null==t[x.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[x.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(void 0!==x&&x.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[x.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var u=n(771),l=n(890),c=l.Rendition,d=l.Variant,h=l.SessionData,f=l.Key,p=l.MediaInitializationSection,v=l.DateRange,m=l.SpliceInfo,_=l.MasterPlaylist,b=l.MediaPlaylist,y=l.Segment,g=l.PartialSegment,w=l.RenditionReport;function T(t){return u.trim(t,'"')}function C(t){var e=u.splitAt(t,",");return{duration:u.toNumber(e[0]),title:decodeURIComponent(escape(e[1]))}}function E(t){var e=u.splitAt(t,"@");return{length:u.toNumber(e[0]),offset:e[1]?u.toNumber(e[1]):-1}}function k(t,e){e.IV&&t.compatibleVersion<2&&(t.compatibleVersion=2),(e.KEYFORMAT||e.KEYFORMATVERSIONS)&&t.compatibleVersion<5&&(t.compatibleVersion=5)}function S(t){var e=u.splitByCommaWithPreservingQuotes(t),n={};return e.forEach((function(t){var e,i,o=r(u.splitAt(t,"="),2),s=o[0],a=o[1],l=T(a);switch(s){case"URI":n[s]=l;break;case"START-DATE":case"END-DATE":n[s]=new Date(l);break;case"IV":n[s]=(e=l,16!==(i=u.hexToByteSequence(e)).length&&u.INVALIDPLAYLIST("IV must be a 128-bit unsigned integer"),i);break;case"BYTERANGE":n[s]=E(l);break;case"RESOLUTION":n[s]=function(t){var e=u.splitAt(t,"x");return{width:u.toNumber(e[0]),height:u.toNumber(e[1])}}(l);break;case"END-ON-NEXT":case"DEFAULT":case"AUTOSELECT":case"FORCED":case"PRECISE":case"CAN-BLOCK-RELOAD":case"INDEPENDENT":case"GAP":n[s]="YES"===l;break;case"DURATION":case"PLANNED-DURATION":case"BANDWIDTH":case"AVERAGE-BANDWIDTH":case"FRAME-RATE":case"TIME-OFFSET":case"CAN-SKIP-UNTIL":case"HOLD-BACK":case"PART-HOLD-BACK":case"PART-TARGET":case"BYTERANGE-START":case"BYTERANGE-LENGTH":case"LAST-MSN":case"LAST-PART":case"SKIPPED-SEGMENTS":n[s]=u.toNumber(l);break;default:s.startsWith("SCTE35-")?n[s]=u.hexToByteSequence(l):s.startsWith("X-")?n[s]=function(t){return t.startsWith('"')?T(t):t.startsWith("0x")||t.startsWith("0X")?u.hexToByteSequence(t):u.toNumber(t)}(a):n[s]=l}})),n}function A(){u.INVALIDPLAYLIST("The file contains both media and master playlist tags.")}function N(t,e,n){var r,o=(r=e.attributes,new c({type:r.TYPE,uri:r.URI,groupId:r["GROUP-ID"],language:r.LANGUAGE,assocLanguage:r["ASSOC-LANGUAGE"],name:r.NAME,isDefault:r.DEFAULT,autoselect:r.AUTOSELECT,forced:r.FORCED,instreamId:r["INSTREAM-ID"],characteristics:r.CHARACTERISTICS,channels:r.CHANNELS})),s=t[u.camelify(n)],a=function(t,e){var n,r=!1,o=i(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.name===e.name)return"All EXT-X-MEDIA tags in the same Group MUST have different NAME attributes.";s.isDefault&&(r=!0)}}catch(t){o.e(t)}finally{o.f()}return r&&e.isDefault?"EXT-X-MEDIA A Group MUST NOT have more than one member with a DEFAULT attribute of YES.":""}(s,o);a&&u.INVALIDPLAYLIST(a),s.push(o),o.isDefault&&(t.currentRenditions[u.camelify(n)]=s.length-1)}function M(t,e,n,r,o){var s,a=new d({uri:n,bandwidth:e.BANDWIDTH,averageBandwidth:e["AVERAGE-BANDWIDTH"],codecs:e.CODECS,resolution:e.RESOLUTION,frameRate:e["FRAME-RATE"],hdcpLevel:e["HDCP-LEVEL"]}),l=i(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;if("EXT-X-MEDIA"===c.name){var h=c.attributes,f=h.TYPE;if(f&&h["GROUP-ID"]||u.INVALIDPLAYLIST("EXT-X-MEDIA TYPE attribute is REQUIRED."),e[f]===h["GROUP-ID"]&&(N(a,c,f),"CLOSED-CAPTIONS"===f)){var p,v=i(a.closedCaptions);try{for(v.s();!(p=v.n()).done;){var m=p.value.instreamId;if(m&&m.startsWith("SERVICE")&&o.compatibleVersion<7){o.compatibleVersion=7;break}}}catch(t){v.e(t)}finally{v.f()}}}}}catch(t){l.e(t)}finally{l.f()}return function(t,e,n){["AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(i){"CLOSED-CAPTIONS"===i&&"NONE"===t[i]?(n.isClosedCaptionsNone=!0,e.closedCaptions=[]):t[i]&&!e[u.camelify(i)].find((function(e){return e.groupId===t[i]}))&&u.INVALIDPLAYLIST("".concat(i," attribute MUST match the value of the GROUP-ID attribute of an EXT-X-MEDIA tag whose TYPE attribute is ").concat(i,"."))}))}(e,a,o),a.isIFrameOnly=r,a}function O(t,e){if(t.method!==e.method)return!1;if(t.uri!==e.uri)return!1;if(t.iv){if(!e.iv)return!1;if(t.iv.length!==e.iv.length)return!1;for(var n=0;n<t.iv.length;n++)if(t.iv[n]!==e.iv[n])return!1}else if(e.iv)return!1;return t.format===e.format&&t.formatVersion===e.formatVersion}function I(t,e,n,i,r,o,s){for(var a=new y({uri:e,mediaSequenceNumber:r,discontinuitySequence:o}),l=!1,c=!1,d=function(e){var n=t[e],i=n.name,r=n.value,o=n.attributes;if("EXTINF"===i)!Number.isInteger(r.duration)&&s.compatibleVersion<3&&(s.compatibleVersion=3),Math.round(r.duration)>s.targetDuration&&u.INVALIDPLAYLIST("EXTINF duration, when rounded to the nearest integer, MUST be less than or equal to the target duration"),a.duration=r.duration,a.title=r.title;else if("EXT-X-BYTERANGE"===i)s.compatibleVersion<4&&(s.compatibleVersion=4),a.byterange=r;else if("EXT-X-DISCONTINUITY"===i)a.parts.length>0&&u.INVALIDPLAYLIST("EXT-X-DISCONTINUITY must appear before the first EXT-X-PART tag of the Parent Segment."),a.discontinuity=!0;else if("EXT-X-KEY"===i)a.parts.length>0&&u.INVALIDPLAYLIST("EXT-X-KEY must appear before the first EXT-X-PART tag of the Parent Segment."),k(s,o),a.key=new f({method:o.METHOD,uri:o.URI,iv:o.IV,format:o.KEYFORMAT,formatVersion:o.KEYFORMATVERSIONS});else if("EXT-X-MAP"===i)a.parts.length>0&&u.INVALIDPLAYLIST("EXT-X-MAP must appear before the first EXT-X-PART tag of the Parent Segment."),s.compatibleVersion<5&&(s.compatibleVersion=5),s.hasMap=!0,a.map=new p({uri:o.URI,byterange:o.BYTERANGE});else if("EXT-X-PROGRAM-DATE-TIME"===i)a.programDateTime=r;else if("EXT-X-DATERANGE"===i){var d={};Object.keys(o).forEach((function(t){(t.startsWith("SCTE35-")||t.startsWith("X-"))&&(d[t]=o[t])})),a.dateRange=new v({id:o.ID,classId:o.CLASS,start:o["START-DATE"],end:o["END-DATE"],duration:o.DURATION,plannedDuration:o["PLANNED-DURATION"],endOnNext:o["END-ON-NEXT"],attributes:d})}else if("EXT-X-CUE-OUT"===i)a.markers.push(new m({type:"OUT",duration:r}));else if("EXT-X-CUE-IN"===i)a.markers.push(new m({type:"IN"}));else if("EXT-X-CUE-OUT-CONT"===i||"EXT-X-CUE"===i||"EXT-OATCLS-SCTE35"===i||"EXT-X-ASSET"===i||"EXT-X-SCTE35"===i)a.markers.push(new m({type:"RAW",tagName:i,value:r}));else if("EXT-X-PRELOAD-HINT"!==i||o.TYPE)if("EXT-X-PRELOAD-HINT"===i&&"PART"===o.TYPE&&c)u.INVALIDPLAYLIST("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist.");else if("EXT-X-PART"!==i&&"EXT-X-PRELOAD-HINT"!==i||o.URI){if("EXT-X-PRELOAD-HINT"===i&&"MAP"===o.TYPE)l&&u.INVALIDPLAYLIST("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist."),l=!0,s.hasMap=!0,a.map=new p({hint:!0,uri:o.URI,byterange:{length:o["BYTERANGE-LENGTH"],offset:o["BYTERANGE-START"]||0}});else if("EXT-X-PART"===i||"EXT-X-PRELOAD-HINT"===i&&"PART"===o.TYPE){"EXT-X-PART"!==i||o.DURATION||u.INVALIDPLAYLIST("EXT-X-PART: DURATION attribute is mandatory"),"EXT-X-PRELOAD-HINT"===i&&(c=!0);var h=new g({hint:"EXT-X-PRELOAD-HINT"===i,uri:o.URI,byterange:"EXT-X-PART"===i?o.BYTERANGE:{length:o["BYTERANGE-LENGTH"],offset:o["BYTERANGE-START"]||0},duration:o.DURATION,independent:o.INDEPENDENT,gap:o.GAP});a.parts.push(h)}}else u.INVALIDPLAYLIST("EXT-X-PART / EXT-X-PRELOAD-HINT: URI attribute is mandatory");else u.INVALIDPLAYLIST("EXT-X-PRELOAD-HINT: TYPE attribute is mandatory")},h=n;h<=i;h++)d(h);return a}function R(t,e,n,i,r){var o=e.discontinuity,s=e.key,a=e.map,l=e.byterange,c=e.uri;if(o&&(e.discontinuitySequence=n+1),s||(e.key=i),a||(e.map=r),l&&-1===l.offset){var d=t.segments;if(d.length>0){var h=d[d.length-1];h.byterange&&h.uri===c?l.offset=h.byterange.offset+h.byterange.length:u.INVALIDPLAYLIST("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST be a sub-range of the same media resource")}else u.INVALIDPLAYLIST("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST appear in the Playlist file")}return t.segments.push(e),[e.discontinuitySequence,e.key,e.map]}function L(t,e){var n=r(function(t){var e=t.indexOf(":");return-1===e?[t.slice(1).trim(),null]:[t.slice(1,e).trim(),t.slice(e+1).trim()]}(t),2),i=n[0],o=n[1],s=function(t){switch(t){case"EXTM3U":case"EXT-X-VERSION":return"Basic";case"EXTINF":case"EXT-X-BYTERANGE":case"EXT-X-DISCONTINUITY":case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-PROGRAM-DATE-TIME":case"EXT-X-DATERANGE":case"EXT-X-CUE-OUT":case"EXT-X-CUE-IN":case"EXT-X-CUE-OUT-CONT":case"EXT-X-CUE":case"EXT-OATCLS-SCTE35":case"EXT-X-ASSET":case"EXT-X-SCTE35":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":return"Segment";case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":case"EXT-X-ENDLIST":case"EXT-X-PLAYLIST-TYPE":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return"MediaPlaylist";case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":return"MasterPlaylist";case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-START":return"MediaorMasterPlaylist";default:return"Unknown"}}(i);if(function(t,e){if("Segment"===t||"MediaPlaylist"===t)return void 0===e.isMasterPlaylist?void(e.isMasterPlaylist=!1):void(e.isMasterPlaylist&&A());if("MasterPlaylist"===t){if(void 0===e.isMasterPlaylist)return void(e.isMasterPlaylist=!0);!1===e.isMasterPlaylist&&A()}}(s,e),"Unknown"===s)return null;"MediaPlaylist"===s&&"EXT-X-RENDITION-REPORT"!==i&&(e.hash[i]&&u.INVALIDPLAYLIST("There MUST NOT be more than one Media Playlist tag of each type in any Media Playlist"),e.hash[i]=!0);var a=r(function(t,e){switch(t){case"EXTM3U":case"EXT-X-DISCONTINUITY":case"EXT-X-ENDLIST":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-CUE-IN":return[null,null];case"EXT-X-VERSION":case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":case"EXT-X-CUE-OUT":return[u.toNumber(e),null];case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-DATERANGE":case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":case"EXT-X-START":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return[null,S(e)];case"EXTINF":return[C(e),null];case"EXT-X-BYTERANGE":return[E(e),null];case"EXT-X-PROGRAM-DATE-TIME":return[new Date(e),null];default:return[e,null]}}(i,o),2);return{name:i,category:s,value:a[0],attributes:a[1]}}function D(t,e){var n;return e.isMasterPlaylist?n=function(t,e){var n,o=new _,s=i(t.entries());try{for(s.s();!(n=s.n()).done;){var a=r(n.value,2),l=a[0],c=a[1],d=c.name,p=c.value,v=c.attributes;if("EXT-X-VERSION"===d)o.version=p;else if("EXT-X-STREAM-INF"===d){var m=t[l+1];("string"!=typeof m||m.startsWith("#EXT"))&&u.INVALIDPLAYLIST("EXT-X-STREAM-INF must be followed by a URI line");var b=M(t,v,m,!1,e);b&&o.variants.push(b)}else if("EXT-X-I-FRAME-STREAM-INF"===d){var y=M(t,v,v.URI,!0,e);y&&o.variants.push(y)}else"EXT-X-SESSION-DATA"===d?function(){var t=new h({id:v["DATA-ID"],value:v.VALUE,uri:v.URI,language:v.LANGUAGE});o.sessionDataList.find((function(e){return e.id===t.id&&e.language===t.language}))&&u.INVALIDPLAYLIST("A Playlist MUST NOT contain more than one EXT-X-SESSION-DATA tag with the same DATA-ID attribute and the same LANGUAGE attribute."),o.sessionDataList.push(t)}():"EXT-X-SESSION-KEY"===d?function(){"NONE"===v.METHOD&&u.INVALIDPLAYLIST("EXT-X-SESSION-KEY: The value of the METHOD attribute MUST NOT be NONE");var t=new f({method:v.METHOD,uri:v.URI,iv:v.IV,format:v.KEYFORMAT,formatVersion:v.KEYFORMATVERSIONS});o.sessionKeyList.find((function(e){return O(e,t)}))&&u.INVALIDPLAYLIST("A Master Playlist MUST NOT contain more than one EXT-X-SESSION-KEY tag with the same METHOD, URI, IV, KEYFORMAT, and KEYFORMATVERSIONS attribute values."),k(e,v),o.sessionKeyList.push(t)}():"EXT-X-INDEPENDENT-SEGMENTS"===d?(o.independentSegments&&u.INVALIDPLAYLIST("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist"),o.independentSegments=!0):"EXT-X-START"===d&&(o.start&&u.INVALIDPLAYLIST("EXT-X-START tag MUST NOT appear more than once in a Playlist"),"number"!=typeof v["TIME-OFFSET"]&&u.INVALIDPLAYLIST("EXT-X-START: TIME-OFFSET attribute is REQUIRED"),o.start={offset:v["TIME-OFFSET"],precise:v.PRECISE||!1})}}catch(t){s.e(t)}finally{s.f()}if(e.isClosedCaptionsNone){var g,w=i(o.variants);try{for(w.s();!(g=w.n()).done;)g.value.closedCaptions.length>0&&u.INVALIDPLAYLIST("If there is a variant with CLOSED-CAPTIONS attribute of NONE, all EXT-X-STREAM-INF tags MUST have this attribute with a value of NONE")}catch(t){w.e(t)}finally{w.f()}}return o}(t,e):!(n=function(t,e){var n,o=new b,s=-1,a=0,l=!1,c=0,d=null,h=null,f=!1,p=i(t.entries());try{for(p.s();!(n=p.n()).done;){var v=r(n.value,2),m=v[0],_=v[1],y=_.name,g=_.value,T=_.attributes;if("Segment"!==_.category){if("EXT-X-VERSION"===y)void 0===o.version?o.version=g:u.INVALIDPLAYLIST("A Playlist file MUST NOT contain more than one EXT-X-VERSION tag.");else if("EXT-X-TARGETDURATION"===y)o.targetDuration=e.targetDuration=g;else if("EXT-X-MEDIA-SEQUENCE"===y)o.segments.length>0&&u.INVALIDPLAYLIST("The EXT-X-MEDIA-SEQUENCE tag MUST appear before the first Media Segment in the Playlist."),o.mediaSequenceBase=a=g;else if("EXT-X-DISCONTINUITY-SEQUENCE"===y)o.segments.length>0&&u.INVALIDPLAYLIST("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before the first Media Segment in the Playlist."),l&&u.INVALIDPLAYLIST("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before any EXT-X-DISCONTINUITY tag."),o.discontinuitySequenceBase=c=g;else if("EXT-X-ENDLIST"===y)o.endlist=!0;else if("EXT-X-PLAYLIST-TYPE"===y)o.playlistType=g;else if("EXT-X-I-FRAMES-ONLY"===y)e.compatibleVersion<4&&(e.compatibleVersion=4),o.isIFrame=!0;else if("EXT-X-INDEPENDENT-SEGMENTS"===y)o.independentSegments&&u.INVALIDPLAYLIST("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist"),o.independentSegments=!0;else if("EXT-X-START"===y)o.start&&u.INVALIDPLAYLIST("EXT-X-START tag MUST NOT appear more than once in a Playlist"),"number"!=typeof T["TIME-OFFSET"]&&u.INVALIDPLAYLIST("EXT-X-START: TIME-OFFSET attribute is REQUIRED"),o.start={offset:T["TIME-OFFSET"],precise:T.PRECISE||!1};else if("EXT-X-SERVER-CONTROL"===y)T["CAN-BLOCK-RELOAD"]||u.INVALIDPLAYLIST("EXT-X-SERVER-CONTROL: CAN-BLOCK-RELOAD=YES is mandatory for Low-Latency HLS"),o.lowLatencyCompatibility={canBlockReload:T["CAN-BLOCK-RELOAD"],canSkipUntil:T["CAN-SKIP-UNTIL"],holdBack:T["HOLD-BACK"],partHoldBack:T["PART-HOLD-BACK"]};else if("EXT-X-PART-INF"===y)T["PART-TARGET"]||u.INVALIDPLAYLIST("EXT-X-PART-INF: PART-TARGET attribute is mandatory"),o.partTargetDuration=T["PART-TARGET"];else if("EXT-X-RENDITION-REPORT"===y)T.URI||u.INVALIDPLAYLIST("EXT-X-RENDITION-REPORT: URI attribute is mandatory"),0===T.URI.search(/^[a-z]+:/)&&u.INVALIDPLAYLIST("EXT-X-RENDITION-REPORT: URI must be relative to the playlist uri"),o.renditionReports.push(new w({uri:T.URI,lastMSN:T["LAST-MSN"],lastPart:T["LAST-PART"]}));else if("EXT-X-SKIP"===y)T["SKIPPED-SEGMENTS"]||u.INVALIDPLAYLIST("EXT-X-SKIP: SKIPPED-SEGMENTS attribute is mandatory"),e.compatibleVersion<9&&(e.compatibleVersion=9),o.skip=T["SKIPPED-SEGMENTS"],a+=o.skip;else if("string"==typeof _){-1===s&&u.INVALIDPLAYLIST("A URI line is not preceded by any segment tags"),o.targetDuration||u.INVALIDPLAYLIST("The EXT-X-TARGETDURATION tag is REQUIRED");var C=I(t,_,s,m-1,a++,c,e);if(C){var E=r(R(o,C,c,d,h),3);c=E[0],d=E[1],h=E[2],!f&&C.parts.length>0&&(f=!0)}s=-1}}else-1===s&&(s=m),"EXT-X-DISCONTINUITY"===y&&(l=!0)}}catch(t){p.e(t)}finally{p.f()}if(-1!==s){var k=I(t,"",s,t.length-1,a++,c,e);if(k){var S=k.parts;S.length>0&&!o.endlist&&!S[S.length-1].hint&&u.INVALIDPLAYLIST("If the Playlist contains EXT-X-PART tags and does not contain an EXT-X-ENDLIST tag, the Playlist must contain an EXT-X-PRELOAD-HINT tag with a TYPE=PART attribute"),R(o,k,d,h),!f&&k.parts.length>0&&(f=!0)}}return function(t){for(var e=new Oe,n=new Oe,r=!1,o=!1,s=t.length-1;s>=0;s--){var a=t[s],l=a.programDateTime,c=a.dateRange;if(l&&(o=!0),c&&c.start){r=!0,c.endOnNext&&(c.end||c.duration)&&u.INVALIDPLAYLIST("An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.");var d=c.start.getTime(),h=c.duration||0;c.end&&c.duration&&d+1e3*h!==c.end.getTime()&&u.INVALIDPLAYLIST("END-DATE MUST be equal to the value of the START-DATE attribute plus the value of the DURATION"),c.endOnNext&&(c.end=e.get(c.classId)),e.set(c.classId,c.start);var f=c.end?c.end.getTime():c.start.getTime()+1e3*(c.duration||0),p=n.get(c.classId);if(p){var v,m=i(p);try{for(m.s();!(v=m.n()).done;){var _=v.value;(_.start<=d&&_.end>d||_.start>=d&&_.start<f)&&u.INVALIDPLAYLIST("DATERANGE tags with the same CLASS should not overlap")}}catch(t){m.e(t)}finally{m.f()}p.push({start:d,end:f})}else n.set(c.classId,[{start:d,end:f}])}}r&&!o&&u.INVALIDPLAYLIST("If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.")}(o.segments),o.lowLatencyCompatibility&&function(t,e){var n=t.lowLatencyCompatibility,o=t.targetDuration,s=t.partTargetDuration,a=t.segments,l=t.renditionReports,c=n.canSkipUntil,d=n.holdBack,h=n.partHoldBack;if(c<6*o&&u.INVALIDPLAYLIST("The Skip Boundary must be at least six times the EXT-X-TARGETDURATION."),d<3*o&&u.INVALIDPLAYLIST("HOLD-BACK must be at least three times the EXT-X-TARGETDURATION."),e){void 0===s&&u.INVALIDPLAYLIST("EXT-X-PART-INF is required if a Playlist contains one or more EXT-X-PART tags"),void 0===h&&u.INVALIDPLAYLIST("EXT-X-PART: PART-HOLD-BACK attribute is mandatory"),h<s&&u.INVALIDPLAYLIST("PART-HOLD-BACK must be at least PART-TARGET");var f,p=i(a.entries());try{for(p.s();!(f=p.n()).done;){var v=r(f.value,2),m=v[0],_=v[1].parts;_.length>0&&m<a.length-3&&u.INVALIDPLAYLIST("Remove EXT-X-PART tags from the Playlist after they are greater than three target durations from the end of the Playlist.");var b,y=i(_.entries());try{for(y.s();!(b=y.n()).done;){var g=r(b.value,2),w=g[0],T=g[1].duration;void 0!==T&&(T>s&&u.INVALIDPLAYLIST("PART-TARGET is the maximum duration of any Partial Segment"),w<_.length-1&&T<.85*s&&u.INVALIDPLAYLIST("All Partial Segments except the last part of a segment must have a duration of at least 85% of PART-TARGET"))}}catch(t){y.e(t)}finally{y.f()}}}catch(t){p.e(t)}finally{p.f()}}var C,E=i(l);try{for(E.s();!(C=E.n()).done;){var k=C.value,S=a[a.length-1];k.lastMSN||(k.lastMSN=S.mediaSequenceNumber),!k.lastPart&&S.parts.length>0&&(k.lastPart=S.parts.length-1)}}catch(t){E.e(t)}finally{E.f()}}(o,f),o}(t,e)).isIFrame&&e.hasMap&&e.compatibleVersion<6&&(e.compatibleVersion=6),e.compatibleVersion>1&&(!n.version||n.version<e.compatibleVersion)&&u.INVALIDPLAYLIST("EXT-X-VERSION needs to be ".concat(e.compatibleVersion," or higher.")),n}t.exports=function(t){var e={version:void 0,isMasterPlaylist:void 0,hasMap:!1,targetDuration:0,compatibleVersion:1,isClosedCaptionsNone:!1,hash:{}},n=D(function(t,e){var n=[];return t.split("\n").forEach((function(t){var i=t.trim();if(i)if(i.startsWith("#")){if(i.startsWith("#EXT")){var r=L(i,e);return void(r&&n.push(r))}}else n.push(i)})),0!==n.length&&"EXTM3U"===n[0].name||u.INVALIDPLAYLIST("The EXTM3U tag MUST be the first line."),n}(t,e),e);return n.source=t,n}},367:(t,e,n)=>{function i(t){return(i="function"==typeof x&&"symbol"==typeof x.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof x&&t.constructor===x&&t!==x.prototype?"symbol":typeof t})(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(void 0!==x&&x.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[x.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var n;if(void 0===x||null==t[x.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[x.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e="function"==typeof Oe?new Oe:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return h(t,arguments,v(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),p(i,t)})(t)}function h(t,e,n){return(h=f()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&p(r,n.prototype),r}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=n(771),_=["#EXTINF","#EXT-X-BYTERANGE","#EXT-X-DISCONTINUITY","#EXT-X-STREAM-INF","#EXT-X-CUE-OUT","#EXT-X-CUE-IN","#EXT-X-KEY","#EXT-X-MAP"],b=["#EXT-X-MEDIA"],y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(o,t);var e,n,i,r=(e=o,n=f(),function(){var t,i=v(e);if(n){var r=v(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return c(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).baseUri=t,e}return(i=[{key:"push",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=function(){var e=a[s];if(!e.startsWith("#"))return l(v(o.prototype),"push",t).call(t,e),"continue";if(_.some((function(t){return e.startsWith(t)})))return l(v(o.prototype),"push",t).call(t,e),"continue";if(t.includes(e)){if(b.some((function(t){return e.startsWith(t)})))return"continue";m.INVALIDPLAYLIST("Redundant item (".concat(e,")"))}l(v(o.prototype),"push",t).call(t,e)},s=0,a=n;s<a.length;s++)r()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(o.prototype,i),o}(d(Array));function g(t,e){var n=1e3;e&&(n=Math.pow(10,e));var i=Math.round(t*n)/n;return e?i.toFixed(e):i}function w(t){var e=['DATA-ID="'.concat(t.id,'"')];return t.language&&e.push('LANGUAGE="'.concat(t.language,'"')),t.value?e.push('VALUE="'.concat(t.value,'"')):t.uri&&e.push('URI="'.concat(t.uri,'"')),"#EXT-X-SESSION-DATA:".concat(e.join(","))}function T(t,e){var n=e?"#EXT-X-SESSION-KEY":"#EXT-X-KEY",i=["METHOD=".concat(t.method)];return t.uri&&i.push('URI="'.concat(t.uri,'"')),t.iv&&(16!==t.iv.length&&m.INVALIDPLAYLIST("IV must be a 128-bit unsigned integer"),i.push("IV=".concat(m.byteSequenceToHex(t.iv)))),t.format&&i.push('KEYFORMAT="'.concat(t.format,'"')),t.formatVersion&&i.push('KEYFORMATVERSIONS="'.concat(t.formatVersion,'"')),"".concat(n,":").concat(i.join(","))}function C(t,e){var n=e.isIFrameOnly?"#EXT-X-I-FRAME-STREAM-INF":"#EXT-X-STREAM-INF",i=["BANDWIDTH=".concat(e.bandwidth)];if(e.averageBandwidth&&i.push("AVERAGE-BANDWIDTH=".concat(e.averageBandwidth)),e.isIFrameOnly&&i.push('URI="'.concat(e.uri,'"')),e.codecs&&i.push('CODECS="'.concat(e.codecs,'"')),e.resolution&&i.push("RESOLUTION=".concat(e.resolution.width,"x").concat(e.resolution.height)),e.frameRate&&i.push("FRAME-RATE=".concat(g(e.frameRate,3))),e.hdcpLevel&&i.push("HDCP-LEVEL=".concat(e.hdcpLevel)),e.audio.length>0){i.push('AUDIO="'.concat(e.audio[0].groupId,'"'));var r,s=o(e.audio);try{for(s.s();!(r=s.n()).done;){var a=r.value;t.push(E(a))}}catch(t){s.e(t)}finally{s.f()}}if(e.video.length>0){i.push('VIDEO="'.concat(e.video[0].groupId,'"'));var u,l=o(e.video);try{for(l.s();!(u=l.n()).done;){var c=u.value;t.push(E(c))}}catch(t){l.e(t)}finally{l.f()}}if(e.subtitles.length>0){i.push('SUBTITLES="'.concat(e.subtitles[0].groupId,'"'));var d,h=o(e.subtitles);try{for(h.s();!(d=h.n()).done;){var f=d.value;t.push(E(f))}}catch(t){h.e(t)}finally{h.f()}}if(m.getOptions().allowClosedCaptionsNone&&0===e.closedCaptions.length)i.push("CLOSED-CAPTIONS=NONE");else if(e.closedCaptions.length>0){i.push('CLOSED-CAPTIONS="'.concat(e.closedCaptions[0].groupId,'"'));var p,v=o(e.closedCaptions);try{for(v.s();!(p=v.n()).done;){var _=p.value;t.push(E(_))}}catch(t){v.e(t)}finally{v.f()}}t.push("".concat(n,":").concat(i.join(","))),e.isIFrameOnly||t.push("".concat(e.uri))}function E(t){var e=["TYPE=".concat(t.type),'GROUP-ID="'.concat(t.groupId,'"'),'NAME="'.concat(t.name,'"')];return void 0!==t.isDefault&&e.push("DEFAULT=".concat(t.isDefault?"YES":"NO")),void 0!==t.autoselect&&e.push("AUTOSELECT=".concat(t.autoselect?"YES":"NO")),void 0!==t.forced&&e.push("FORCED=".concat(t.forced?"YES":"NO")),t.language&&e.push('LANGUAGE="'.concat(t.language,'"')),t.assocLanguage&&e.push('ASSOC-LANGUAGE="'.concat(t.assocLanguage,'"')),t.instreamId&&e.push('INSTREAM-ID="'.concat(t.instreamId,'"')),t.characteristics&&e.push('CHARACTERISTICS="'.concat(t.characteristics,'"')),t.channels&&e.push('CHANNELS="'.concat(t.channels,'"')),t.uri&&e.push('URI="'.concat(t.uri,'"')),"#EXT-X-MEDIA:".concat(e.join(","))}function k(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=!1;if(e.byterange&&t.push("#EXT-X-BYTERANGE:".concat(S(e.byterange))),e.discontinuity&&t.push("#EXT-X-DISCONTINUITY"),e.key){var s=T(e.key);s!==n&&(t.push(s),n=s)}if(e.map){var a=function(t){var e=['URI="'.concat(t.uri,'"')];return t.byterange&&e.push('BYTERANGE="'.concat(S(t.byterange),'"')),"#EXT-X-MAP:".concat(e.join(","))}(e.map);a!==i&&(t.push(a),i=a)}if(e.programDateTime&&t.push("#EXT-X-PROGRAM-DATE-TIME:".concat(m.formatDate(e.programDateTime))),e.dateRange&&t.push(function(t){var e=['ID="'.concat(t.id,'"')];return t.start&&e.push('START-DATE="'.concat(m.formatDate(t.start),'"')),t.end&&e.push('END-DATE="'.concat(t.end,'"')),t.duration&&e.push("DURATION=".concat(t.duration)),t.plannedDuration&&e.push("PLANNED-DURATION=".concat(t.plannedDuration)),t.classId&&e.push('CLASS="'.concat(t.classId,'"')),t.endOnNext&&e.push("END-ON-NEXT=YES"),Object.keys(t.attributes).forEach((function(n){n.startsWith("X-")?"number"==typeof t.attributes[n]?e.push("".concat(n,"=").concat(t.attributes[n])):e.push("".concat(n,'="').concat(t.attributes[n],'"')):n.startsWith("SCTE35-")&&e.push("".concat(n,"=").concat(m.byteSequenceToHex(t.attributes[n])))})),"#EXT-X-DATERANGE:".concat(e.join(","))}(e.dateRange)),e.markers.length>0&&A(t,e.markers),e.parts.length>0&&(o=N(t,e.parts)),o)return[n,i];var u=r<3?Math.round(e.duration):g(e.duration,function(t){var e=t.toString(10),n=e.indexOf(".");return-1===n?0:e.length-n-1}(e.duration));return t.push("#EXTINF:".concat(u,",").concat(unescape(encodeURIComponent(e.title||"")))),Array.prototype.push.call(t,"".concat(e.uri)),[n,i]}function S(t){var e=t.offset,n=t.length;return"".concat(n,"@").concat(e)}function A(t,e){var n,i=o(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if("OUT"===r.type)t.push("#EXT-X-CUE-OUT:".concat(r.duration));else if("IN"===r.type)t.push("#EXT-X-CUE-IN");else if("RAW"===r.type){var s=r.value?":".concat(r.value):"";t.push("#".concat(r.tagName).concat(s))}}}catch(t){i.e(t)}finally{i.f()}}function N(t,e){var n,i=!1,r=o(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.hint){var a=[];if(a.push("TYPE=PART"),a.push('URI="'.concat(s.uri,'"')),s.byterange){var u=s.byterange,l=u.offset,c=u.length;a.push("BYTERANGE-START=".concat(l)),c&&a.push("BYTERANGE-LENGTH=".concat(c))}t.push("#EXT-X-PRELOAD-HINT:".concat(a.join(","))),i=!0}else{var d=[];d.push("DURATION=".concat(s.duration)),d.push('URI="'.concat(s.uri,'"')),s.byterange&&d.push("BYTERANGE=".concat(S(s.byterange))),s.independent&&d.push("INDEPENDENT=YES"),s.gap&&d.push("GAP=YES"),t.push("#EXT-X-PART:".concat(d.join(",")))}}}catch(t){r.e(t)}finally{r.f()}return i}t.exports=function(t){m.PARAMCHECK(t),m.ASSERT("Not a playlist","playlist"===t.type);var e=new y(t.uri);return e.push("#EXTM3U"),t.version&&e.push("#EXT-X-VERSION:".concat(t.version)),t.independentSegments&&e.push("#EXT-X-INDEPENDENT-SEGMENTS"),t.start&&e.push("#EXT-X-START:TIME-OFFSET=".concat(g(t.start.offset)).concat(t.start.precise?",PRECISE=YES":"")),t.isMasterPlaylist?function(t,e){var n,i=o(e.sessionDataList);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.push(w(r))}}catch(t){i.e(t)}finally{i.f()}var s,a=o(e.sessionKeyList);try{for(a.s();!(s=a.n()).done;){var u=s.value;t.push(T(u,!0))}}catch(t){a.e(t)}finally{a.f()}var l,c=o(e.variants);try{for(c.s();!(l=c.n()).done;)C(t,l.value)}catch(t){c.e(t)}finally{c.f()}}(e,t):function(t,e){var n="",i="";if(e.targetDuration&&t.push("#EXT-X-TARGETDURATION:".concat(e.targetDuration)),e.lowLatencyCompatibility){var s=e.lowLatencyCompatibility,a=s.canBlockReload,u=s.canSkipUntil,l=s.holdBack,c=s.partHoldBack,d=[];d.push("CAN-BLOCK-RELOAD=".concat(a?"YES":"NO")),void 0!==u&&d.push("CAN-SKIP-UNTIL=".concat(u)),void 0!==l&&d.push("HOLD-BACK=".concat(l)),void 0!==c&&d.push("PART-HOLD-BACK=".concat(c)),t.push("#EXT-X-SERVER-CONTROL:".concat(d.join(",")))}e.partTargetDuration&&t.push("#EXT-X-PART-INF:PART-TARGET=".concat(e.partTargetDuration)),e.mediaSequenceBase&&t.push("#EXT-X-MEDIA-SEQUENCE:".concat(e.mediaSequenceBase)),e.discontinuitySequenceBase&&t.push("#EXT-X-DISCONTINUITY-SEQUENCE:".concat(e.discontinuitySequenceBase)),e.playlistType&&t.push("#EXT-X-PLAYLIST-TYPE:".concat(e.playlistType)),e.isIFrame&&t.push("#EXT-X-I-FRAMES-ONLY"),e.skip>0&&t.push("#EXT-X-SKIP:SKIPPED-SEGMENTS=".concat(e.skip));var h,f=o(e.segments);try{for(f.s();!(h=f.n()).done;){var p=r(k(t,h.value,n,i,e.version),2);n=p[0],i=p[1]}}catch(t){f.e(t)}finally{f.f()}e.endlist&&t.push("#EXT-X-ENDLIST");var v,m=o(e.renditionReports);try{for(m.s();!(v=m.n()).done;){var _=v.value,b=[];b.push('URI="'.concat(_.uri,'"')),b.push("LAST-MSN=".concat(_.lastMSN)),void 0!==_.lastPart&&b.push("LAST-PART=".concat(_.lastPart)),t.push("#EXT-X-RENDITION-REPORT:".concat(b.join(",")))}}catch(t){m.e(t)}finally{m.f()}}(e,t),e.join("\n")}},890:(t,e,n)=>{function i(t){return(i="function"==typeof x&&"symbol"==typeof x.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof x&&t.constructor===x&&t!==x.prototype?"symbol":typeof t})(t)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=n(771),d=function t(e){l(this,t),c.PARAMCHECK(e),this.type=e},h=function(t){r(n,t);var e=s(n);function n(t){var i,r=t.isMasterPlaylist,o=t.uri,s=t.version,a=t.independentSegments,u=void 0!==a&&a,d=t.start,h=t.source;return l(this,n),i=e.call(this,"playlist"),c.PARAMCHECK(r),i.isMasterPlaylist=r,i.uri=o,i.version=s,i.independentSegments=u,i.start=d,i.source=h,i}return n}(d),f=function(t){r(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,n),i.isMasterPlaylist=!0,t=e.call(this,i);var r=i.variants,o=void 0===r?[]:r,s=i.currentVariant,a=i.sessionDataList,u=void 0===a?[]:a,c=i.sessionKeyList,d=void 0===c?[]:c;return t.variants=o,t.currentVariant=s,t.sessionDataList=u,t.sessionKeyList=d,t}return n}(h),p=function(t){r(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,n),i.isMasterPlaylist=!1,t=e.call(this,i);var r=i.targetDuration,o=i.mediaSequenceBase,s=void 0===o?0:o,a=i.discontinuitySequenceBase,u=void 0===a?0:a,c=i.endlist,d=void 0!==c&&c,h=i.playlistType,f=i.isIFrame,p=i.segments,v=void 0===p?[]:p,m=i.lowLatencyCompatibility,_=i.partTargetDuration,b=i.renditionReports,y=void 0===b?[]:b,g=i.skip,w=void 0===g?0:g,T=i.hash;return t.targetDuration=r,t.mediaSequenceBase=s,t.discontinuitySequenceBase=u,t.endlist=d,t.playlistType=h,t.isIFrame=f,t.segments=v,t.lowLatencyCompatibility=m,t.partTargetDuration=_,t.renditionReports=y,t.skip=w,t.hash=T,t}return n}(h),v=function(t){r(n,t);var e=s(n);function n(t){var i,r=t.uri,o=t.mimeType,s=t.data,a=t.duration,u=t.title,c=t.byterange,d=t.discontinuity,h=t.mediaSequenceNumber,f=void 0===h?0:h,p=t.discontinuitySequence,v=void 0===p?0:p,m=t.key,_=t.map,b=t.programDateTime,y=t.dateRange,g=t.markers,w=void 0===g?[]:g,T=t.parts,C=void 0===T?[]:T;return l(this,n),(i=e.call(this,"segment")).uri=r,i.mimeType=o,i.data=s,i.duration=a,i.title=u,i.byterange=c,i.discontinuity=d,i.mediaSequenceNumber=f,i.discontinuitySequence=v,i.key=m,i.map=_,i.programDateTime=b,i.dateRange=y,i.markers=w,i.parts=C,i}return n}(d),m=function(t){r(n,t);var e=s(n);function n(t){var i,r=t.hint,o=void 0!==r&&r,s=t.uri,a=t.duration,u=t.independent,d=t.byterange,h=t.gap;return l(this,n),i=e.call(this,"part"),c.PARAMCHECK(s),i.hint=o,i.uri=s,i.duration=a,i.independent=u,i.duration=a,i.byterange=d,i.gap=h,i}return n}(d);t.exports={Rendition:function t(e){var n=e.type,i=e.uri,r=e.groupId,o=e.language,s=e.assocLanguage,a=e.name,u=e.isDefault,d=e.autoselect,h=e.forced,f=e.instreamId,p=e.characteristics,v=e.channels;l(this,t),c.PARAMCHECK(n,r,a),c.CONDITIONALASSERT(["SUBTITLES"===n,i],["CLOSED-CAPTIONS"===n,f],["CLOSED-CAPTIONS"===n,!i],[h,"SUBTITLES"===n]),this.type=n,this.uri=i,this.groupId=r,this.language=o,this.assocLanguage=s,this.name=a,this.isDefault=u,this.autoselect=d,this.forced=h,this.instreamId=f,this.characteristics=p,this.channels=v},Variant:function t(e){var n=e.uri,i=e.isIFrameOnly,r=void 0!==i&&i,o=e.bandwidth,s=e.averageBandwidth,a=e.codecs,u=e.resolution,d=e.frameRate,h=e.hdcpLevel,f=e.audio,p=void 0===f?[]:f,v=e.video,m=void 0===v?[]:v,_=e.subtitles,b=void 0===_?[]:_,y=e.closedCaptions,g=void 0===y?[]:y,w=e.currentRenditions,T=void 0===w?{audio:0,video:0,subtitles:0,closedCaptions:0}:w;l(this,t),c.PARAMCHECK(n,o),this.uri=n,this.isIFrameOnly=r,this.bandwidth=o,this.averageBandwidth=s,this.codecs=a,this.resolution=u,this.frameRate=d,this.hdcpLevel=h,this.audio=p,this.video=m,this.subtitles=b,this.closedCaptions=g,this.currentRenditions=T},SessionData:function t(e){var n=e.id,i=e.value,r=e.uri,o=e.language;l(this,t),c.PARAMCHECK(n,i||r),c.ASSERT("SessionData cannot have both value and uri, shoud be either.",!(i&&r)),this.id=n,this.value=i,this.uri=r,this.language=o},Key:function t(e){var n=e.method,i=e.uri,r=e.iv,o=e.format,s=e.formatVersion;l(this,t),c.PARAMCHECK(n),c.CONDITIONALPARAMCHECK(["NONE"!==n,i]),c.CONDITIONALASSERT(["NONE"===n,!(i||r||o||s)]),this.method=n,this.uri=i,this.iv=r,this.format=o,this.formatVersion=s},MediaInitializationSection:function t(e){var n=e.hint,i=void 0!==n&&n,r=e.uri,o=e.mimeType,s=e.byterange;l(this,t),c.PARAMCHECK(r),this.hint=i,this.uri=r,this.mimeType=o,this.byterange=s},DateRange:function t(e){var n=e.id,i=e.classId,r=e.start,o=e.end,s=e.duration,a=e.plannedDuration,u=e.endOnNext,d=e.attributes,h=void 0===d?{}:d;l(this,t),c.PARAMCHECK(n),c.CONDITIONALPARAMCHECK([!0===u,i]),c.CONDITIONALASSERT([o,r],[o,r<=o],[s,s>=0],[a,a>=0]),this.id=n,this.classId=i,this.start=r,this.end=o,this.duration=s,this.plannedDuration=a,this.endOnNext=u,this.attributes=h},SpliceInfo:function t(e){var n=e.type,i=e.duration,r=e.tagName,o=e.value;l(this,t),c.PARAMCHECK(n),c.CONDITIONALPARAMCHECK(["OUT"===n,i]),c.CONDITIONALPARAMCHECK(["RAW"===n,r]),this.type=n,this.duration=i,this.tagName=r,this.value=o},Playlist:h,MasterPlaylist:f,MediaPlaylist:p,Segment:v,PartialSegment:m,RenditionReport:function t(e){var n=e.uri,i=e.lastMSN,r=e.lastPart;l(this,t),c.PARAMCHECK(n),this.uri=n,this.lastMSN=i,this.lastPart=r}}},771:t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(void 0!==x&&x.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[x.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n;if(void 0===x||null==t[x.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[x.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function i(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var o={};function s(t){if(o.strictMode)throw t;o.silent}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if("number"==typeof t)return t;var n=10===e?Number.parseFloat(t,e):Number.parseInt(t,e);return Number.isNaN(n)?0:n}t.exports={THROW:s,ASSERT:function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a,u=n(r.entries());try{for(u.s();!(a=u.n()).done;){var l=e(a.value,2),c=l[0];l[1]||s(new Error("".concat(t," : Failed at [").concat(c,"]")))}}catch(t){u.e(t)}finally{u.f()}},CONDITIONALASSERT:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=n(i.entries());try{for(a.s();!(o=a.n()).done;){var u=e(o.value,2),l=u[0],c=e(u[1],2),d=c[0],h=c[1];d&&(h||s(new Error("Conditional Assert : Failed at [".concat(l,"]"))))}}catch(t){a.e(t)}finally{a.f()}},PARAMCHECK:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=n(i.entries());try{for(a.s();!(o=a.n()).done;){var u=e(o.value,2),l=u[0];void 0===u[1]&&s(new Error("Param Check : Failed at [".concat(l,"]")))}}catch(t){a.e(t)}finally{a.f()}},CONDITIONALPARAMCHECK:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=n(i.entries());try{for(a.s();!(o=a.n()).done;){var u=e(o.value,2),l=u[0],c=e(u[1],2),d=c[0],h=c[1];d&&void 0===h&&s(new Error("Conditional Param Check : Failed at [".concat(l,"]")))}}catch(t){a.e(t)}finally{a.f()}},INVALIDPLAYLIST:function(t){s(new Error("Invalid Playlist : ".concat(t)))},toNumber:u,hexToByteSequence:function(t){(t.startsWith("0x")||t.startsWith("0X"))&&(t=t.slice(2));for(var e=[],n=0;n<t.length;n+=2)e.push(u(t.slice(n,n+2),16));return Buffer.from(e)},byteSequenceToHex:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length;n<=e&&s(new Error("end must be larger than start : start=".concat(e,", end=").concat(n)));for(var i=[],r=e;r<n;r++)i.push("0".concat((255&t[r]).toString(16).toUpperCase()).slice(-2));return"0x".concat(i.join(""))},tryCatch:function(t,e){try{return t()}catch(t){return e(t)}},splitAt:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=-1,r=0,o=0;r<t.length;r++)if(t[r]===e){if(o++===n)return[t.slice(0,r),t.slice(r+1)];i=r}return-1!==i?[t.slice(0,i),t.slice(i+1)]:[t]},trim:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return t?(t=t.trim()," "===e||(t.startsWith(e)&&(t=t.slice(1)),t.endsWith(e)&&(t=t.slice(0,-1))),t):t},splitByCommaWithPreservingQuotes:function(t){for(var e=[],n=!0,i=0,r=[],o=0;o<t.length;o++){var s=t[o];n&&","===s?(e.push(t.slice(i,o).trim()),i=o+1):'"'!==s&&"'"!==s||(n?(r.push(s),n=!1):s===r[r.length-1]?(r.pop(),n=!0):r.push(s))}return e.push(t.slice(i).trim()),e},camelify:function(t){var e,i=[],r=!1,o=n(t);try{for(o.s();!(e=o.n()).done;){var s=e.value;"-"!==s&&"_"!==s?r?(i.push(s.toUpperCase()),r=!1):i.push(s.toLowerCase()):r=!0}}catch(t){o.e(t)}finally{o.f()}return i.join("")},formatDate:function(t){var e=t.getUTCFullYear(),n=("0"+(t.getUTCMonth()+1)).slice(-2),i=("0"+t.getUTCDate()).slice(-2),r=("0"+t.getUTCHours()).slice(-2),o=("0"+t.getUTCMinutes()).slice(-2),s=("0"+t.getUTCSeconds()).slice(-2),a=("00"+t.getUTCMilliseconds()).slice(-3);return"".concat(e,"-").concat(n,"-").concat(i,"T").concat(r,":").concat(o,":").concat(s,".").concat(a,"Z")},hasOwnProp:function(t,e){return Object.hasOwnProperty.call(t,e)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=Object.assign(o,t)},getOptions:function(){return Object.assign({},o)}}}},e={},function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}(851);var t,e}()}));const bo={},yo={variant:0,audio:0,subtitles:0};let go=function(t){function e(e,n){var i;return(i=t.call(this,e)||this).type=i.type.toLowerCase(),i.index=yo[i.type]++,i.id=i.uri,i.label=i.name,i.codecs=Co(n,i.type),i.url=null,i.playlist=null,i}return q(e,t),e.prototype.getSegmentBySN=function(t){return this.playlist.getSegmentBySN(t)},X(e,[{key:"mimeType",get:function(){return this.playlist&&Eo(this.playlist.segments[0].uri,this.type)}},{key:"initSegment",get:function(){const t=this;return{get url(){var e;return null==(e=t.playlist)?void 0:e.initSegment.url}}}},{key:"segments",get:function(){var t;return(null==(t=this.playlist)?void 0:t.segments)||[]}},{key:"targetDuration",get:function(){var t;return null==(t=this.playlist)?void 0:t.targetDuration}},{key:"hasProgramDateTime",get:function(){return this.playlist.hasProgramDateTime}},{key:"age",get:function(){var t;return null==(t=this.playlist)?void 0:t.age}},{key:"edge",get:function(){var t;return null==(t=this.playlist)?void 0:t.edge}},{key:"parts",get:function(){var t;return(null==(t=this.playlist)?void 0:t.parts)||[]}},{key:"partTargetDuration",get:function(){var t;return null==(t=this.playlist)?void 0:t.partTargetDuration}},{key:"lowLatencyCompatibility",get:function(){return this.playlist.lowLatencyCompatibility}}])}(_o.types.Rendition);_o.types.Variant;_o.types.MasterPlaylist;const wo={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/]},To="avc1.42E01E,mp4a.40.2";function Co(t=To,e){const n=t.split(","),i=wo[e.toLowerCase()]||[];return n.find((t=>i.some((e=>e.test(t.trim())))))}function Eo(t,e){const n=t.split(".").pop().split("?")[0],i={fmp4:"mp4",m4s:"mp4",ts:"mp2t"}[n]||n||"mp4";return`${e.toLowerCase()}/${i}`}const ko=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){let e=!1;return function(n,i){var o=function(){if(/json=1/.test(t))return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(Qt(t).json(),(function(t){const n=t.url;return e=!0,n}))}();return o&&o.then?o.then(i):i(o)}(0,(function(n){return e?n:t}))}));_o.types.MediaPlaylist;_o.types.Segment,_o.types.PartialSegment;_o.setOptions({silent:!0});
/*! (c) Andrea Giammarchi - ISC */
var So={};try{So.Set=Set}catch(t){!function(t,e){var n=e(i.prototype,{size:{configurable:!0,get:function(){return this.K.length}}});function i(t){e(this,{K:{value:[]}}),t&&t.forEach(this.add,this)}function r(e,n){return-1<(t=e.K.indexOf(n))}function o(t){return[t,t]}n.add=function(t){return r(this,t)||this.K.push(t),this},n.clear=function(){var t=this.K.length;this.K.splice(0,t)},n.delete=function(e){return r(this,e)&&!!this.K.splice(t,1)},n.entries=function(){return this.K.map(o)},n.forEach=function(t,e){this.K.forEach((function(n,i){t.call(e,n,n,this)}),this)},n.has=function(t){return r(this,t)},n.keys=n.values=function(){return this.K.slice(0)},So.Set=i}(0,Object.defineProperties)}var Ao=So.Set;function No(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}let AirPlayExternalDisplay=function(t){function AirPlayExternalDisplay(e){var n;return(n=t.call(this,e)||this).Z=document.createElement("video"),n.Z.setAttribute("data-airplay",""),n.Z.setAttribute("x-webkit-airplay","allow"),n.addVideoEventListeners(),n}q(AirPlayExternalDisplay,t);var e=AirPlayExternalDisplay.prototype;return e.addVideoEventListeners=function(t=this.Z){t.addEventListener(ao.LOADED_METADATA,(t=>{this.fire(ao.LOADED_METADATA,t)})),t.addEventListener("webkitplaybacktargetavailabilitychanged",(t=>{switch(t.availability){case"available":this.G||(this.G=!0,this.fire(co.AIRPLAY_AVAILABLE));break;case"not-available":this.G&&(this.G=!1,this.fire(co.AIRPLAY_UNAVAILABLE))}})),t.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",(t=>{if(t.target.webkitCurrentPlaybackTargetIsWireless)return this.W=!0,void this.fire(co.AIRPLAY_ACTIVATED);this.W=!1,this.fire(co.AIRPLAY_DEACTIVATED)}))},e.showPicker=function(){this.Z.webkitShowPlaybackTargetPicker(),this.loadMetadata().then((()=>this.Z.webkitShowPlaybackTargetPicker())).catch((()=>{}))},e.loadMetadata=function(){try{const t=this;return t.Z.readyState>=1?r.resolve():No(new r(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(e){return t.Z.addEventListener(ao.LOADED_METADATA,(()=>{e()})),No(ko(t.getFile().src),(function(e){t.Z.src=e}))}))))}catch(t){return r.reject(t)}},X(AirPlayExternalDisplay,[{key:"element",get:function(){return this.Z},set:function(t){if(!(t instanceof HTMLVideoElement))throw new TypeError("The element for AirPlay must be a <video>.");t!==this.Z&&(this.addVideoEventListeners(t),this.Z=t,this.Z.setAttribute("x-webkit-airplay","allow"))}}],[{key:"displayName",get:function(){return"AirPlayExternalDisplay"}},{key:"supported",get:function(){return"WebKitPlaybackTargetAvailabilityEvent"in window}},{key:"supportedVideoTypes",get:function(){return["application/vnd.apple.mpegurl","video/mp4"]}}])}(so);(()=>{const t=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\./);t&&(parseInt(t[1],10),parseInt(t[2],10))})();const Mo=function(t){for(let e=0,n=this.length;e<n;e++)if(this[e].id===`${t}`)return this[e];return null};function Oo(t=[]){return t.item=function(t){return this[t]},t.getTrackById=Mo,t}function Io(t){const e=window.atob(t),n=e.length,i=new Uint8Array(n);for(let t=0;t<n;t++)i[t]=e.charCodeAt(t);return i}function Ro(t,e,n,i){let r=0,o=0,s=0,a=0;const u=t,l=e,c=n/i;return u/l>=c?(o=l,r=(c*l).toFixed(2)):(r=u,o=(u/c).toFixed(2)),s=Math.max((u-r)/2,0),a=Math.max((l-o)/2,0),{width:r,height:o,left:s,top:a}}function Lo(t){if(function(t){return"webkitDisplayingFullscreen"in t&&t.webkitDisplayingFullscreen}(t))return!0;const e=[document.fullscreenElement,document.webkitFullscreenElement,document.webkitCurrentFullScreenElement,document.mozFullScreenElement,document.msFullscreenElement].find((t=>void 0!==t));return Boolean(e)}function xo(t,e){let n=t;return e&&(n+=`;codecs="${e}"`),n}function Do(t,e=3){if(t=parseFloat(t),isNaN(t))return 0;const n=Math.pow(10,e);return Math.round(t*n)/n}let TelecineError=function(t,e){this.name=t,this.message=e,Object.freeze(this)};const Po=new Zn;let Bo=function(){function t(t,e={}){const n=parseFloat(t);if(isNaN(n))throw new TypeError("Time must be a number.");if(n<0)throw new TypeError("Time must be a positive number.");this.time=t,this.data=e,this.id=Ot();try{const n="undefined"==typeof VTTCue?TextTrackCue:VTTCue;this.vttCue=new n(t,t+.25,JSON.stringify(e)),this.vttCue.id=this.id}catch(t){throw new TelecineError("CuePointsNotSupported","Cue points are not supported in this browser.")}Po.set(this.vttCue,this),Object.freeze(this)}return t.fromVTTCue=function(e){if(Po.has(e))return Po.get(e);let n={};try{n=JSON.parse(e.text)}catch(t){}return new t(e.startTime,n)},t}();function $o(t,e,n){let i;try{document.removeChild({})}catch(r){i=Object.create(Object.getPrototypeOf(r),{name:{value:e,configurable:!0,writable:!0},code:{value:t,configurable:!0,writable:!0},message:{value:n,configurable:!0,writable:!0},toString:{value:()=>`${e}: DOM Exception ${t}`,configurable:!0,writable:!0}})}return Object.freeze(i)}const jo=(t,e)=>{if(!t||void 0===t[e])throw $o(1,"INDEX_SIZE_ERR");return t[e]};function Vo(t=[],e=[]){return Object.freeze({get length(){return t.length},start:e=>jo(t,e),end:t=>jo(e,t),[x.iterator]:()=>function(t,e){let n=0;return{[x.iterator](){return this},next:()=>n<t.length?{done:!1,value:e?[t[n],e[n++]]:t[n++]}:{done:!0}}}(t,e)})}Vo.from=function(t){if(!(t instanceof TimeRanges))throw new TypeError("Can only create a TelecineTimeRange from a TimeRanges object.");const e=[],n=[];for(let i=0,r=t.length;i<r;i++)e.push(t.start(i)),n.push(t.end(i));return Vo(e,n)};const Fo="DRMFailure",Ho="MediaUnknownError",Uo="MediaUrlBadRequest",zo="PlayInterrupted",Xo="inline",Go="picture-in-picture";function Wo(){}const qo=document.createElement("video"),Yo={"application/vnd.apple.mpegurl":"application/vnd.apple.mpegurl","video/mp4":'video/mp4; codecs="avc1.64001E"',"video/webm":'video/webm; codecs="vp8, vorbis"',"video/x-flv":'video/x-flv; codecs="vp6"'},Ko=function(){const t="undefined"==typeof TextTrack?{}:TextTrack;return{disabled:"DISABLED"in t?t.DISABLED:"disabled",hidden:"HIDDEN"in t?t.HIDDEN:"hidden",showing:"SHOWING"in t?t.SHOWING:"showing"}}();function Zo(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const Jo=function(){const t=document.createElement("track");return"track"in t&&"oncuechange"in t.track}(),Qo=new Zn;let ts=function(t){function e(e,n={}){var i;(i=t.call(this)||this).J=e,i.tt=n,i.et=null,i.nt=null,i.it=[];let r=e.querySelector("video");return r||(r=document.createElement("video"),r.preload="none",i.J.appendChild(r)),r.setAttribute("tabindex","-1"),i.Y=r,n.playRequest&&(i.rt=n.playRequest,i.rt.video=r),n.htmlScanner&&n.htmlScanner.controls&&(i.Y.controls=!0),i.ot=i.handleVideoEvent.bind(i),i.st=i.handleAudioEvent.bind(i),i.addVideoEventListeners(),i.addAudioEventListeners(),i.ut="none",i.lt=!1,i.ct=!1,i.dt=-1,i.ht=!1,i}q(e,t),e.supported=function(){return e.supportedVideoTypes.length>0};var n=e.prototype;return n.deactivate=function(){this.et&&(this.et.off(ho.FILE_SRC_UPDATE),this.et.off("texttracksrcupdate")),this.removeVideoEventListeners(),this.removeAudioEventListeners(),this.ht||this.removeSnapshot(),this.Y.style.display="none"},n.reactivate=function(){this.addVideoEventListeners(),this.addAudioEventListeners(),this.Y.style.display=""},n.addVideoEventListeners=function(t=this.Y){Object.keys(ao).forEach((e=>{const n=ao[e];t.addEventListener(n,this.ot)}))},n.addAudioEventListeners=function(t=this.Y){var e;null!=t&&t.audioTracks&&"function"==typeof(null==(e=t.audioTracks)?void 0:e.addEventListener)&&(t.audioTracks.addEventListener(uo.ADD_TRACK,this.st),t.audioTracks.addEventListener(uo.REMOVE_TRACK,this.st),t.audioTracks.addEventListener(uo.CHANGE,this.st))},n.removeVideoEventListeners=function(t=this.Y){Object.keys(ao).forEach((e=>{const n=ao[e];t.removeEventListener(n,this.ot)}))},n.removeAudioEventListeners=function(t=this.Y){var e;null!=t&&t.audioTracks&&"function"==typeof(null==(e=t.audioTracks)?void 0:e.removeEventListener)&&(t.audioTracks.removeEventListener(uo.ADD_TRACK,this.st),t.audioTracks.removeEventListener(uo.REMOVE_TRACK,this.st),t.audioTracks.removeEventListener(uo.CHANGE,this.st))},n.play=function(t){return this.rt.start(t).catch((t=>{var e;if("sd-fallback"!==(null==(e=this.et.drmHandler)?void 0:e.state)||"AbortError"!==t.name)throw this.ft(t),t}))},n.ft=function(t){this.fire(ao.ERROR,new TelecineError(null==t?void 0:t.name,null==t?void 0:t.message))},n.pause=function(){this.rt.cancel(),this.Y.pause()},n.onpause=function(){},n.ontimeupdate=function(){this.dt=this.currentTime},n.addTextTrack=function(t){let e,n;return t.src?(e=document.createElement("track"),e.kind=t.kind,e.src=t.src,e.id=`telecine-track-${t.id}`,e.srclang=t.language,e.label=t.label,this.Y.appendChild(e),n=e.track):(n=this.Y.addTextTrack(t.kind,t.label,t.language),this._t=this._t||{},this._t[`telecine-track-${t.id}`]=n),this.yt(t,n,e),n},n.yt=function(t,e,n){e.addEventListener("cuechange",(()=>t.dispatchEvent("cuechange"))),this.Y.addEventListener("timeupdate",(()=>{Lo(this.Y)&&(t.mode=e.mode)}));const i=()=>{const n=Se.iOS&&Lo(this.Y);!t.gt||n?t.mode=e.mode:e.mode=Ko[t.mode]},r=[];if(n?n.addEventListener("load",i):i(),["loadeddata","seeking"].forEach((t=>{this.Y.addEventListener(t,i),r.push([t,i])})),t.gt&&(e.mode=Ko[t.mode]),!Jo){let n=[];const i=()=>{if(e&&"disabled"!==Ko[e.mode]){if(n.length!==e.activeCues.length)return t.dispatchEvent("cuechange"),void(n=a(e.activeCues));for(let i=0,r=e.activeCues.length;i<r;i++)if(e.activeCues[i].startTime!==n[i].startTime)return t.dispatchEvent("cuechange"),void(n=a(t.activeCues))}};this.Y.addEventListener("timeupdate",i),r.push(["timeupdate",i])}return Qo.set(t,r),e},n.removeTextTrack=function(t){const e=this.Y.querySelector(`#telecine-track-${t.id}`);e&&this.Y.removeChild(e);const n=Qo.get(t);Array.isArray(n)&&n.forEach((([t,e])=>{this.Y.removeEventListener(t,e)}))},n.getCuesForTrack=function(t){const e=this.getTrackById(`telecine-track-${t.id}`);return e?a(e.cues):[]},n.getActiveCuesForTrack=function(t){const e=this.getTrackById(`telecine-track-${t.id}`);return e&&e.activeCues?a(e.activeCues):[]},n.setModeForTrack=function(t,e){const n=this.getTrackById(`telecine-track-${t.id}`);return n&&n.mode!==Ko[e]&&(n.mode=Ko[e],Jo||"disabled"===e||t.dispatchEvent("cuechange")),this},n.setSrcForTrack=function(t,e){const n=this.Y.querySelector(`#telecine-track-${t.id}`);return n&&null===n.track.cues&&(n.src=e),this},n.enableAudioTrack=function(t){if(!this.constructor.supportsVideoElementAudioTracks||!this.audioTracks)return null;if(!t)return null;if(!this.audioTracks.getTrackById(t))return null;let e=null;for(let n=0;n<this.audioTracks.length;n++){const i=this.audioTracks[n].id===t;this.audioTracks[n].enabled=i,i&&(e=this.audioTracks[n])}return e},n.wt=function(t,e,n=null){let i;this.Tt||(this.Tt=this.Y.addTextTrack("chapters"),this.Tt.mode="hidden");const r=t.timecode,o=n?n.timecode:e,s=window.VTTCue||window.TextTrackCue;try{i=new s(r,o,t.title)}catch(t){throw new TelecineError("ChaptersNotSupported","Chapters are not supported in this browser.")}i.size=(o-r)/e,i.id=r,this.Tt.addCue(i)},n.addChapter=function(t,e){const n=this.video.chapters,i={timecode:t,title:e};n.push(i),n.sort(((t,e)=>t.timecode-e.timecode));const r=n[n.indexOf(i)+1];this.wt(i,this.video.duration,r),this.Ct(this.Tt,this.video.duration)},n.removeChapter=function(t){try{this.Tt.removeCue(t)}catch(t){throw new TelecineError("ChaptersNotSupported","Chapters are not supported in this browser.")}const e=this.video.chapters.find((e=>e.timecode===t.timecode));this.video.chapters.splice(e,1),this.Ct(this.Tt,this.video.duration)},n.Ct=function(t,e){for(let n=0;n<t.cues.length;n++){let i=t.cues[n],r=t.cues[n+1];const o=r?r.startTime:e;i.endTime=o,i.size=(o-i.startTime)/e}this.fire(ho.CHAPTER_CUES_UPDATED)},n.addChapters=function(t,e){0!==t.length&&e&&(t=t.filter((t=>this.Et(t,e)))).sort(((t,e)=>t.timecode-e.timecode)).forEach(((n,i)=>this.wt(n,e,t[i+1])))},n.addCuePoint=function(t,e={}){if(this.kt||(this.kt=this.Y.addTextTrack("metadata"),this.kt.mode="hidden",this.kt.addEventListener("cuechange",(t=>{a(t.target.activeCues).forEach((t=>{this.fire(ho.CUE_POINT,Bo.fromVTTCue(t))}))})),this.Y.addEventListener("canplay",(t=>{this.kt.mode="hidden"}))),t=parseFloat(t),isNaN(t))throw new TypeError("Time must be a number.");if(t<0||t>=this.duration)throw new TypeError("Time must be a positive number less than the duration of the video.");const n=new Bo(t,e);return this.kt.addCue(n.vttCue),n},n.removeCuePoint=function(t){if(!t)throw new TelecineError("InvalidCuePoint","The specified cue point is not valid.");return this.kt.removeCue(t.vttCue),!0},n.removeAllCuePoints=function(){return this.kt&&this.kt.length&&a(this.kt.cues).forEach((t=>{this.kt.removeCue(t)})),!0},n.requestPictureInPicture=function(){try{const t=this;return Zo(function(e,n){var i=function(){if(t.Y.readyState<1)return function(t){if(!void 0)return t&&t.then?t.then(Wo):r.resolve()}(t.St())}();return i&&i.then?i.then(n):n()}(0,(function(){switch(Se.pictureInPictureSupportType){case"pip-api":return t.Y.requestPictureInPicture();case"webkit-presentation-mode":return t.Y.webkitSetPresentationMode(Go);default:throw new Error("Picture-in-picture is not supported by this browser")}})))}catch(t){return r.reject(t)}},n.St=function(){return this.preload="auto",new r((t=>{this.once(ao.LOADED_METADATA,t)}))},n.exitPictureInPicture=function(){try{const t=this;switch(Se.pictureInPictureSupportType){case"pip-api":return Zo(document.exitPictureInPicture());case"webkit-presentation-mode":return Zo(t.Y.webkitSetPresentationMode(Xo));default:throw new Error("Picture-in-picture is not supported by this browser")}}catch(t){return r.reject(t)}},n.onerror=function(){if(!this.Y.error)return!1;switch(this.Y.error.code){case this.Y.error.MEDIA_ERR_SRC_NOT_SUPPORTED:return this.At("MediaSrcNotSupportedError","The media was not suitable."),this.Nt(),!1;case this.Y.error.MEDIA_ERR_DECODE:return-1!==this.dt&&Se.iOS?(this.Y.load(),this.currentTime=this.dt,this.dt=-1,!1):(this.At("MediaDecodeError","The media could not be decoded."),this.Nt(),!1);case this.Y.error.MEDIA_ERR_NETWORK:return this.At("MediaNetworkError","A network error ocurred while fetching the media."),!1;case this.Y.error.MEDIA_ERR_ABORTED:return this.At("MediaAbortedError","The user agent aborted the fetching of the media."),!1;default:return this.At(Ho,"An unknown error occurred."),!1}},n.At=function(t,e){this.fire(ao.ERROR,new TelecineError(t,e))},n.onended=function(){if(this.Y.paused||this.Y.pause(),this.currentTime<this.Y.duration)return!1},n.onwaiting=function(){return!1},n.onwebkitbeginfullscreen=function(){this.ct=!0},n.onwebkitendfullscreen=function(){this.Y.webkitPresentationMode===Xo&&!0===this.Y.controls&&(this.Y.controls=!1),this.ct=!1},n.onwebkitpresentationmodechanged=function(){this.fire(this.pictureInPictureActive?ao.ENTER_PICTURE_IN_PICTURE:ao.LEAVE_PICTURE_IN_PICTURE)},n.shouldHandleVideoEvent=function(t){return!0},n.handleVideoEvent=function(t){t.target===this.Y&&!1!==this.shouldHandleVideoEvent(t)&&("function"==typeof this[`on${t.type}`]&&!1===this[`on${t.type}`](t)||this.fire(t.type))},n.handleAudioEvent=function(){this.fire(ho.AUDIO_TRACK_CHANGED)},n.swapVideo=function(t,e){const n=t.paused;this.removeVideoEventListeners(t),this.removeAudioEventListeners(t),t.parentElement.replaceChild(e,t),t.pause(),e.currentTime=t.currentTime,n||e.play(),this.addVideoEventListeners(e),this.addAudioEventListeners(e),this.Y=e},n.onexternaldisplayactivated=function(t){this.lt||(this.Y!==t.element&&(this.Mt=this.Y,this.swapVideo(this.Y,t.element)),this.lt=!0)},n.onexternaldisplaydeactivated=function(t){this.lt&&(this.Mt&&(this.swapVideo(t.element,this.Mt),this.Mt=null),this.lt=!1)},n.setVideoSrc=function(t){this.Y.src=t},n.canSeekTo=function(t){const e=this.duration;if(e&&t>e&&(t=e),this.Y.seekable.length>0)for(let e=0,n=this.Y.seekable.length;e<n;e++)if(this.Y.seekable.start(e)<=t&&this.Y.seekable.end(e)>=t)return!0;return!1},n.seekToTime=function(t){return this.canSeekTo(t)?(this.Y.currentTime=t,r.resolve(this.Y.currentTime)):new r((e=>{const n=()=>{this.canSeekTo(t)&&(Object.keys(ao).forEach((t=>{const e=ao[t];this.Y.removeEventListener(e,n)})),this.Y.currentTime=t,e(this.Y.currentTime))};Object.keys(ao).forEach((t=>{const e=ao[t];this.Y.addEventListener(e,n)}))}))},n.takeSnapshot=function(){let t=this.J.querySelector("[telecine-snapshot]");t||(t=document.createElement("canvas"),t.setAttribute("telecine-snapshot",""),this.J.appendChild(t)),t.setAttribute("width",`${this.J.clientWidth}px`),t.setAttribute("height",`${this.J.clientHeight}px`),t.style.display="";const{width:e,height:n,left:i,top:r}=Ro(this.Y.clientWidth,this.Y.clientHeight,this.Y.videoWidth,this.Y.videoHeight);t.style.cssText=`position:absolute;width:${e}px;height:${n}px;left:${i}px;top:${r}px`;const o=t.getContext("2d");t.width>0&&t.height>0&&o.drawImage(this.Y,0,0,t.width,t.height)},n.removeSnapshot=function(){const t=this.J.querySelector("[telecine-snapshot]");t&&(t.style.display="none")},n.getTrackById=function(t){if(this._t&&this._t[t])return this._t[t];if("function"==typeof this.Y.textTracks.getTrackById)return this.Y.textTracks.getTrackById(t);const e=document.getElementById(t);return e?e.track:null},n.initDrm=function(){const t=this.et.drmHandler;t&&t.init(this)},n.showExternalDisplayPicker=function(t){if(!this.it.length)throw new TelecineError("ExternalDisplayUnvailable","No external displays are available.");if(!t)return void this.it[0].showPicker();const e=this.it.filter((e=>e.constructor.displayName.replace("ExternalDisplay","")===t))[0];if(!e)throw new TelecineError("InvalidExternalDisplay","The specified external display is not available.");e.showPicker()},n.setCaptionsShouldDisplay=function(t){},n.setCaptionsShouldLoad=function(t){},n.Ot=function(){if(this.It.length<1)return null;const t=this.It.slice(0).sort(((t,e)=>t.priority-e.priority));return t[0]},n.Rt=function(){const t=this.Ot();t?this.currentFile=t:this.fire(ho.SCANNER_ERROR,{reason:"all files failed"})},n.Et=function(t,e){return void 0!==t.timecode&&t.timecode>=0&&t.timecode<=e&&void 0!==t.title},n.Nt=function(){const t=this.It.indexOf(this.nt);this.It.splice(t,1),this.Rt()},X(e,[{key:"audioTracks",get:function(){return this.Y.audioTracks}},{key:"chaptersTrack",get:function(){return this.Tt}},{key:"manifest",get:function(){return this.Lt}},{key:"manifestLoaded",get:function(){return!!this.Lt}},{key:"buffered",get:function(){return Vo.from(this.Y.buffered)}},{key:"cuePoints",get:function(){var t,e;return null!=(t=this.kt)&&t.cues&&"function"==typeof(null==(e=this.kt)?void 0:e.cues[x.iterator])?a(this.kt.cues).map((t=>Bo.fromVTTCue(t))):[]}},{key:"currentFile",get:function(){return this.nt},set:function(t){const n=!this.Y.paused,i=this.currentTime,r=!this.nt||t.video.id!==this.nt.video.id;if(r||this.takeSnapshot(),this.nt=t,r&&(this.Y.preload=this.ut),this.constructor===e&&this.Y.readyState>0&&(this.Y.currentTime=0),(Se.iOS||Se.android)&&this.nt.video.title){let t=this.nt.video.title;this.nt.video.subtitle&&(t=`${t} ${this.nt.video.subtitle}`),this.Y.setAttribute("title",t)}else this.Y.removeAttribute("title");this.setVideoSrc(this.nt.src,r),this.fire(ho.CURRENT_FILE_CHANGE,t),Se.iOS&&!r&&this.play().catch(this.ft.bind(this)),this.constructor!==e||r?n&&this.play().catch(this.ft.bind(this)):(this.seekToTime(i).then((t=>(n&&this.play().catch(this.ft.bind(this)),t))).catch((()=>{})),this.once("canplay",(()=>this.removeSnapshot())),this.once("playing",(()=>this.removeSnapshot())))}},{key:"currentTime",get:function(){return this.Y.currentTime},set:function(t){this.seekToTime(t)}},{key:"duration",get:function(){return this.Y.duration}},{key:"ended",get:function(){return this.Y.ended}},{key:"externalDisplayAvailable",get:function(){return this.it.some((t=>t.available))}},{key:"externalDisplayActive",get:function(){return this.it.some((t=>t.active))}},{key:"loop",get:function(){return this.Y.loop},set:function(t){this.Y.loop=t}},{key:"isLowerProfileAvailable",get:function(){return null}},{key:"muted",get:function(){return this.Y.muted},set:function(t){this.Y.muted=t}},{key:"playsinline",get:function(){return this.Y.playsinline},set:function(t){this.Y.playsinline=t,t?this.Y.setAttribute("playsinline",""):this.Y.removeAttribute("playsinline")}},{key:"paused",get:function(){return this.Y.paused}},{key:"defaultPlaybackRate",get:function(){return this.Y.defaultPlaybackRate},set:function(t){this.Y.defaultPlaybackRate=t}},{key:"playbackRate",get:function(){return this.Y.playbackRate},set:function(t){this.Y.playbackRate=t}},{key:"played",get:function(){return this.Y.played}},{key:"seekable",get:function(){return this.Y.seekable}},{key:"seeking",get:function(){return this.Y.seeking}},{key:"preload",get:function(){return this.ut},set:function(t){this.Y.preload=t,this.ut=t}},{key:"autoPictureInPicture",get:function(){return this.Y.autoPictureInPicture},set:function(t){this.Y.autoPictureInPicture=t}},{key:"disablePictureInPicture",get:function(){return this.Y.disablePictureInPicture},set:function(t){this.Y.disablePictureInPicture=t}},{key:"pictureInPictureActive",get:function(){return this.Y.webkitPresentationMode===Go||!!document.pictureInPictureElement}},{key:"pictureInPictureEnabled",get:function(){if(this.disablePictureInPicture)return!1;switch(Se.pictureInPictureSupportType){case"pip-api":return document.pictureInPictureEnabled;case"webkit-presentation-mode":return!0;default:return!1}}},{key:"video",get:function(){return this.et},set:function(t){if(this.reactivate(),this.et!==t){if(this.et&&(this.et.off(ho.FILE_SRC_UPDATE),this.et.off("texttracksrcupdate")),this.removeAllCuePoints(),this.et=t,this.It=t.files.filter((t=>-1!==this.constructor.supportedVideoTypes.indexOf(t.mime))),this.et.on(ho.FILE_SRC_UPDATE,(t=>{t===this.nt&&this.Rt()})),this.et.on("texttracksrcupdate",(t=>{this.video.currentScanner&&this.video.currentScanner.setSrcForTrack(t,t.src)})),this.tt.externalDisplays&&this.tt.externalDisplays.length){this.it=[];let e=this.constructor.supportedExternalDisplays;Array.isArray(e)||(e=[]);const n=e.map((t=>t.displayName));this.tt.externalDisplays.filter((t=>t.supported&&-1!==n.indexOf(t.displayName))).forEach((e=>{const n=new e(t),i=e.displayName.replace("ExternalDisplay","");n.on(ao.LOADED_METADATA,(t=>this.fire(ao.LOADED_METADATA,t))),n.on("available",(()=>this.fire(lo.AVAILABLE,{type:i}))),n.on("unavailable",(()=>this.fire(lo.UNAVAILABLE,{type:i}))),n.on("activated",(()=>{"function"==typeof this.onexternaldisplayactivated&&this.onexternaldisplayactivated(n),this.fire(lo.ACTIVATED,{type:i})})),n.on("deactivated",(()=>{"function"==typeof this.onexternaldisplaydeactivated&&this.onexternaldisplaydeactivated(n),this.fire(lo.DEACTIVATED,{type:i})})),this.it.push(n)}))}this.Rt(),Se.iOS&&this.it.forEach((t=>{"AirPlay"===t.constructor.displayName&&(t.element=this.Y)})),this.initDrm()}}},{key:"videoElement",get:function(){return this.Y}},{key:"videoWidth",get:function(){return this.Y.videoWidth}},{key:"videoHeight",get:function(){return this.Y.videoHeight}},{key:"volume",get:function(){return pt(this.Y.volume)},set:function(t){this.Y.volume=ft(t)}},{key:"readyState",get:function(){return this.Y.readyState}}],[{key:"displayName",get:function(){return"HTMLScanner"}},{key:"supportedVideoTypes",get:function(){const t=[];if("function"!=typeof qo.canPlayType)return t;for(const e in Yo){const n=Yo[e];Se.android&&"application/vnd.apple.mpegurl"===e||(Se.android&&!Se.mobileAndroid&&"video/mp4"===e&&Se.android instanceof String?parseInt(Se.android.split(".")[0],10)>3&&t.push(e):qo.canPlayType(n).replace(/^no$/,"")&&t.push(e))}return t}},{key:"supportedAudioTypes",get:function(){return[]}},{key:"supportedExternalDisplays",get:function(){return[AirPlayExternalDisplay]}},{key:"supportsVideoElementAudioTracks",get:function(){return void 0!==qo.audioTracks&&this.supportedVideoTypes.includes("application/vnd.apple.mpegurl")}}])}(ti);function es(t,e=[]){if(0===t.length)return 0;let n=0,i=0;for(let r=0;r<t.length;r++){const o=e[r]||1;i+=o,n+=t[r]*o}return n/i}function ns(t){const e=et(t).sort(((t,e)=>t-e)),n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2}let is=function(t){function e(){return t.apply(this,arguments)||this}return q(e,t),e}(rt(Error));function rs(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const os=ss((function(t,e){const n=this;return function(t,e){var i=function(){if(!V(ys,n))return rs($(As,n,Vs).call(n),(function(t){H(ys,n,new t({keepOriginalTimestamps:!0}))}))}();return i&&i.then?i.then(e):e()}(0,(function(){return new r((i=>{V(ys,n).on("data",(e=>{V(ys,n).off("data");let r=new Uint8Array(e.initSegment.byteLength+e.data.byteLength);r.set(e.initSegment,0),r.set(e.data,e.initSegment.byteLength),i(t.data.isInitSegmentRequest?e.initSegment:r)})),V(ys,n).push(new Uint8Array(e)),V(ys,n).flush()}))}))}));function ss(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const as=ss((function(){const t=this;return function(){var e=function(){if(V(gs,t))return function(t){if(!void 0)return t&&t.then?t.then(us):r.resolve()}(V(gs,t))}();if(e&&e.then)return e.then(us)}()}));function us(){}var ls=new Zn,cs=new Zn,ds=new Zn,hs=new Zn,fs=new Zn,ps=new Zn,vs=new Zn,ms=new Zn,_s=new Zn,bs=new Zn,ys=new Zn,gs=new Zn,ws=new Zn,Ts=new Zn,Cs=new Zn,Es=new Zn,ks=new Zn,Ss=new Zn,As=new WeakSet;let Ns=function(t){function e(e={}){var n;U(n=t.call(this)||this,As),F(n,ls,void 0),F(n,cs,void 0),F(n,ds,void 0),F(n,hs,100),F(n,fs,void 0),F(n,ps,void 0),F(n,vs,void 0),F(n,ms,new Ao),F(n,_s,void 0),F(n,bs,!1),F(n,ys,void 0),F(n,gs,void 0),F(n,ws,!1),F(n,Ts,[]),F(n,Cs,[]),F(n,Es,[]),F(n,ks,[]),F(n,Ss,[]),H(cs,n,vt("Fetcher","color: #586e75"));const{includeWithSpeeds:i=!0,parallel:r=1,retryAbortErrors:o=!0,retryCount:s=3,timeout:a=0}=e;return H(ls,n,i),H(ds,n,r),H(fs,n,o),H(ps,n,s),H(vs,n,a),$(As,n,Os).call(n),n}q(e,t);var n=e.prototype;return n.getPercentileSpeed=function(t=5,e=.8){return function(t,e){if(0===t.length)return 0;const n=et(t).sort(((t,e)=>t-e));if(e<=0)return n[0];if(e>=1)return n[n.length-1];const i=n.length*e,r=Math.floor(i),o=r+1,s=i%1;return o>=n.length?n[r]:n[r]*(1-s)+n[o]*s}(V(Ss,this).slice(-t),e)},n.getAverageSpeed=function(t=5,e=[]){return es(V(Ss,this).slice(-t),e)},n.getHarmonicAverageSpeed=function(t=5){return function(t){if(0===t.length)return 0;let e=0;for(let n=0;n<t.length;n++)e+=1/t[n];return t.length/e}(V(Ss,this).slice(-t))},n.getMedianSpeed=function(t=5){return ns(V(Ss,this).slice(-t))},n.getResponseSpeeds=function(){return V(Ss,this)},n.getProgressSpeeds=function(){return V(ks,this)},n.getFailedSegments=function(){return V(Cs,this)},n.getSuccessfulSegments=function(){return V(Es,this)},n.resetResponseSpeeds=function(){V(Ss,this).length=0},n.add=function(t){return new r(((e,n)=>{const i=$(As,this,Ls).call(this,t,e,n);$(As,this,Is).call(this,i),V(bs,this)&&!V(ws,this)&&$(As,this,Rs).call(this)}))},n.abort=function(t=null){V(Ts,this).filter((e=>!t||t===e.stream)).forEach((t=>{t.reject(new is("Stream manually aborted")),this.fire("downloadabort",t.identifier)})),H(Ts,this,V(Ts,this).filter((e=>t&&t!==e.stream))),V(ms,this).forEach((e=>{t&&t!==e.stream||e.request.abort()}))},n.start=function(){V(bs,this)||(H(bs,this,!0),$(As,this,Rs).call(this))},n.stop=function(){H(bs,this,!1)},n.saveResponseSpeeds=function(t,e,n){const i=e/1e3,r=t.perfTimings;if(V(ls,this)&&t.includeWithBandwidthChecks){const e=8*n,o=r&&n<=16e3;let s=e/i;if(t.excludeConnectTime&&n>16e3&&n<=2e5){const t=(50*Math.max(0,1-e/16e5)+150)/1e3;s=e/Math.max(.1,i-t)}else if(o){const t=r.fetchStart||r.workerStart||r.requestStart||0;s=e/(i-Math.max(0,r.responseStart-t)/1e3)}V(Ss,this).push(s)}V(Ss,this).length>100&&V(Ss,this).shift()},X(e,[{key:"pendingFetches",get:function(){const t=[];return V(ms,this).forEach((e=>{const n=V(_s,this).get(e);n&&(n.elapsedTime=Tt()-e.data.requestSendTime,t.push(n))})),t}}])}(ti);function Ms(t){let e=0;for(;e<V(Ts,this).length&&!(V(Ts,this)[e].priority>t.priority);e++);V(Ts,this).splice(e,0,t)}function Os(){H(_s,this,new Zn),window.addEventListener("online",(()=>{this.start(),V(gs,this)&&(V(gs,this).resolve(),H(gs,this,null))})),window.addEventListener("offline",(()=>{this.stop(),this.abort(),H(gs,this,yt())}))}function Is(t){t.hasOwnProperty("priority")?$(As,this,Ms).call(this,t):V(Ts,this).push(t)}function Rs(){if(!V(bs,this))return;H(ws,this,!0);const t=V(ds,this)-V(ms,this).size;for(let e=0;e<t;e++)$(As,this,Ds).call(this)}function Ls(t,e,n){let i=t;return"object"==typeof t&&t.id&&(i=t.id),Object.assign({},t,{identifier:i,resolve:e,reject:n})}function xs(){0!==V(ms,this).size||0!==V(Ts,this).length?V(ms,this).size<V(ds,this)&&$(As,this,Rs).call(this):H(ws,this,!1)}function Ds(){if(0===V(Ts,this).length)return void H(ws,this,!1);const t=V(Ts,this).shift(),{url:e,byteRange:n,isInitSegmentRequest:i,identifier:r,stream:o,timeout:s}=t,a={stream:o,data:{url:e,isInitSegmentRequest:i,requestSendTime:Tt(),uuid:Ot()}};let u=V(vs,this);"number"==typeof s&&s>=0&&(u=s);const l={url:e,type:D.SEGMENT,responseType:ae.ARRAY_BUFFER,retry:V(ps,this),hooks:{beforeRetry:[$(As,this,as).bind(this)]},onDownloadProgress:$(As,this,Ps).call(this,r,a),headers:n&&{Range:`bytes=${n}`},retryAbortErrors:V(fs,this),timeout:u};this.fire("downloadstart",r),a.request=Qt(l).then($(As,this,Bs).call(this,a,t)).catch($(As,this,js).call(this,a,t)),V(ms,this).add(a)}function Ps(t,e){let n=0,i=0,r=Tt();return o=>{if(o.lengthComputable){const s=8*(o.loaded-i),a=Tt(),u=a-r,l={startTime:r,length:u,bitrate:s/(u/1e3),index:n};n>0&&(V(ks,this).length>=V(hs,this)&&V(ks,this).shift(),V(ks,this).push(l)),r=a,i=o.loaded,n+=1,V(_s,this).set(e,{bytesTotal:o.total,bytesLoaded:o.loaded,percent:o.loaded/o.total,identifier:t}),this.fire("progress",t)}}}function Bs(t,e){const n=this,i=Tt(),{identifier:r,resolve:o}=e;return ss((function(s){let a=Tt()-i;return rs(s.arrayBuffer(),(function(i){return Object.prototype.hasOwnProperty.call(s,"perfTimings")&&Object.prototype.hasOwnProperty.call(s.perfTimings,"responseStart")&&(e.perfTimings=s.perfTimings),t.data.duration=Tt()-t.data.requestSendTime,V(ms,n).delete(t),V(_s,n).delete(t),n.saveResponseSpeeds(e,a,i.byteLength),n.fire("downloadend",r,{request:t,response:s}),V(Es,n).push({url:t.data.url,status:200,duration:t.data.duration}),rs($(As,n,$s).call(n,t,i),(function(t){o(i=t),$(As,n,xs).call(n)}))}))}))}function $s(t,e){return t.data.url&&t.data.url.match(".ts$")?$(As,this,os).call(this,t,e):r.resolve(new Uint8Array(e))}function js(t,e){const{identifier:n,reject:i,size:r}=e;return e=>{const o=Tt()-t.data.requestSendTime;if(t.data.duration=o,e instanceof Rt)V(Cs,this).push({url:t.data.url,status:"abort",duration:o}),this.fire("downloadabort",n);else if(e instanceof Lt)V(Cs,this).push({url:t.data.url,status:e.response.status,duration:o}),this.fire("downloaderror",n,e.response.status);else if(e instanceof Dt){if(V(Cs,this).push({url:t.data.url,status:"timeout",duration:o}),"number"==typeof r&&r>0&&e.timeoutMs>0){let t=8*r/(e.timeoutMs/1e3);t*=.5,V(cs,this).call(this,"Adding degraded speed of",t,"after timeout of",e.timeoutMs,"ms"),V(Ss,this).push(t)}this.fire("downloadtimeout",n,{timeoutMs:e.timeoutMs})}V(_s,this).delete(t),V(ms,this).delete(t),i(e),$(As,this,xs).call(this)}}function Vs(){return ht("module/mux-mp4.js")}var Fs=new Zn,Hs=new Zn,Us=new Zn,zs=new Zn,Xs=new Zn,Gs=new Zn,Ws=new Zn,qs=new Zn,Ys=new Zn,Ks=new Zn,Zs=new Zn,Js=new Zn,Qs=new Zn,ta=new Zn,ea=new Zn,na=new Zn,ia=new Zn,ra=new Zn,oa=new Zn,sa=new Zn,aa=new Zn,ua=new Zn,la=new Zn,ca=new WeakSet;let da=function(t){function e(e,n){var i;return U(i=t.call(this)||this,ca),F(i,Fs,void 0),F(i,Hs,void 0),F(i,Us,void 0),F(i,zs,void 0),F(i,Xs,void 0),F(i,Gs,void 0),F(i,Ws,-1),F(i,qs,!1),F(i,Ys,!1),F(i,Ks,{}),F(i,Zs,void 0),F(i,Js,!0),F(i,Qs,null),F(i,ta,!0),F(i,ea,!1),F(i,na,!1),F(i,ia,void 0),F(i,ra,null),F(i,oa,void 0),F(i,sa,null),F(i,aa,[]),F(i,ua,void 0),F(i,la,[]),H(Gs,i,vt("Buffer","color: #586e75")),H(Xs,i,n),H(oa,i,e),H(Fs,i,$(ca,i,fa).bind(i)),H(Hs,i,$(ca,i,ba).bind(i)),H(Us,i,$(ca,i,_a).bind(i)),H(zs,i,$(ca,i,Ta).bind(i)),V(oa,i).on("durationset",V(Fs,i)),i}q(e,t);var n=e.prototype;return n.addStream=function(t){t.on("segmentadd",V(zs,this));const e=V(aa,this).push(t)-1;t.index=e,-1===V(Ws,this)&&($(ca,this,ma).call(this,e),H(ea,this,!0))},n.getBufferState=function(){return V(Ks,this)},n.setBufferState=function(t){H(Ks,this,t)},n.streamIndexAtTime=function(t){if(V(Ks,this)[void 0])return this.activeStreamIndex;const e=$(ca,this,ha).call(this,t)-1,n=V(Ks,this)[e];return(null==n?void 0:n.stream)||-1},n.switchTo=function(t,e=!0,n={}){let i;i="number"==typeof t?t:t.index;let o=V(Ws,this)!==i;const s=o;if(!o&&V(ea,this)&&(o=!0),o){H(ea,this,!1);const t=V(Ws,this),n=V(aa,this)[t];this.fire("streamchangestart",t,i),n&&s&&e&&n.abort(),H(ua,this,i),$(ca,this,ma).call(this,i)}return $(ca,this,Ta).call(this),new r((t=>{o?H(ra,this,(()=>{V(ua,this)===i&&(H(ra,this,null),t(),this.fire("streamchange",i,n))})):t()}))},n.isTimeInBuffer=function(t){if(!V(sa,this))return V(Gs,this).warn("SourceBuffer is not set."),!1;for(let e=0;e<V(sa,this).buffered.length;e++){const n=V(sa,this).buffered.start(e),i=V(sa,this).buffered.end(e);if(n<=t&&i>=t)return!0}return!1},n.hasAppendedFinalSegment=function(){return void 0!==V(Zs,this)&&this.isTimeInBuffer(V(Zs,this))},n.clear=function(){V(aa,this).forEach((t=>t.clear()))},n.remove=function(t,e=V(oa,this).mediaSource.duration){return new r((n=>{V(la,this).push([t,e,n]),$(ca,this,Ta).call(this)}))},n.removeEventListeners=function(){V(sa,this)&&(V(sa,this).removeEventListener("updateend",V(Us,this)),$(ca,this,va).call(this,V(sa,this))&&V(sa,this).removeEventListener("bufferedchange",V(Hs,this)))},n.removeSorcerer=function(){V(oa,this).off("durationset",V(Fs,this)),H(oa,this,null)},X(e,[{key:"activeStream",get:function(){return V(aa,this)[V(Ws,this)]||null}},{key:"activeStreamIndex",get:function(){return V(Ws,this)}},{key:"endTime",get:function(){if(!V(sa,this))return void V(Gs,this).warn("SourceBuffer is not set.");const t=V(sa,this).buffered;return t.length>0?t.end(t.length-1):void 0}},{key:"sourceBuffer",get:function(){return V(sa,this)},set:function(t){H(sa,this,t),$(ca,this,pa).call(this),this.fire("sourcebufferattach")}},{key:"streams",get:function(){return V(aa,this)}}])}(ti);function ha(t){let e=Math.floor(t/6);return t>6&&t%6>=2?e+=1:t<8&&(e=1),e}function fa(){const t=V(oa,this).mediaSource.duration,e=$(ca,this,ha).call(this,t);for(let t=0;t<e;t++)V(Ks,this)[t]={segment:t,stream:null,type:V(Xs,this)}}function pa(){V(sa,this)?(V(sa,this).addEventListener("updateend",V(Us,this)),$(ca,this,va).call(this,V(sa,this))&&V(sa,this).addEventListener("bufferedchange",V(Hs,this))):V(Gs,this).warn("SourceBuffer is not set.")}function va(t){return"undefined"!=typeof ManagedSourceBuffer&&t instanceof ManagedSourceBuffer}function ma(t){H(ta,this,!0),H(Ws,this,t),V(oa,this).setStreamIndex(t)}function _a(){$(ca,this,ga).call(this),$(ca,this,wa).call(this),$(ca,this,Ta).call(this)}function ba(t){var e;(null==(e=t.removedRanges)?void 0:e.length)>0&&V(Gs,this).call(this,"Browser removed %s buffer:",V(Xs,this),(t=>{const e=[];for(let n=0;n<t.length;n++)e.push(`${t.start(n)}-${t.end(n)}`);return e.join(", ")})(t.removedRanges))}function ya(){if(V(sa,this))try{const t=V(sa,this).buffered,e=V(oa,this).Y.buffered;if(t.length&&e.length){const n=t.start(0),i=e.start(0);n<i&&V(oa,this).removeBuffer(0,i)}}catch(t){V(Gs,this).error("Error failed to handle mismatch between video and sourceBuffer.")}else V(Gs,this).warn("SourceBuffer is not set.")}function ga(){if(V(Ys,this)&&this.endTime)return H(Ys,this,!1),H(Zs,this,this.endTime),V(oa,this).checkEndOfStream(),void $(ca,this,ya).call(this);this.activeStream&&!this.activeStream.hasNextSegment()&&void 0!==V(Zs,this)&&V(Zs,this)>0&&"open"===V(oa,this).readyState&&V(oa,this).checkEndOfStream()}function wa(){V(Qs,this)&&(this.fire("appendbufferend",V(Qs,this)),H(Qs,this,null),V(ra,this)&&V(ra,this).call(this))}function Ta(){if(!V(sa,this))return V(Gs,this).warn("SourceBuffer is not set. Waiting for sourcebufferattach event."),void this.on("sourcebufferattach",V(zs,this));this.activeStream&&"closed"!==V(oa,this).readyState&&(V(sa,this).updating||(V(la,this).length?$(ca,this,Ca).call(this):V(na,this)||V(qs,this)||(V(ta,this)?$(ca,this,Ea).call(this):$(ca,this,ka).call(this))))}function Ca(){const t=V(sa,this),e=V(la,this).shift();if(!e||!t)return void V(Gs,this).warn("No entries to remove or sourceBuffer is not set.");const[n,i,r]=e,o=()=>{t.removeEventListener("updateend",o),r(),void 0!==V(ia,this)&&clearTimeout(V(ia,this)),H(ia,this,setTimeout((()=>{H(na,this,!1),$(ca,this,Ta).call(this)}),5e3))};t.addEventListener("updateend",o),t.remove(n,i)}function Ea(){H(ta,this,!1),H(qs,this,!0),this.activeStream?this.activeStream.getInitSegment().then((t=>(H(Qs,this,null),V(sa,this)&&t&&V(sa,this).appendBuffer(t),H(qs,this,!1),t))).catch((t=>{V(Gs,this).error("Error appending init segment to the buffer:",t),H(ta,this,!0),H(qs,this,!1)})):V(Gs,this).error("No active stream to append init segment.")}function ka(){if(!this.activeStream||!V(sa,this))return void V(Gs,this).error("No active stream or sourceBuffer to append segment.");const t=this.activeStream.getNextSegment();if(!t)return;const e=this.activeStream.getIdForSegment(t);this.activeStream.isFinal(t)&&H(Ys,this,!0),H(Qs,this,e),this.fire("appendbufferstart",e);try{V(sa,this).appendBuffer(t),V(Ks,this)[e.segment]=e,V(Js,this)&&(H(Js,this,!1),this.fire("initialbufferstart"))}catch(e){if("QuotaExceededError"===e.name){H(na,this,!0),this.fire("quotaexceedederror",V(sa,this).buffered),V(Gs,this).error("Error QuotaExceededError.");const e=6;if(V(oa,this).Y.currentTime>e){const t=0,n=V(oa,this).Y.currentTime-e;V(Gs,this).call(this,`Removing buffer from ${t} to ${n}`),V(oa,this).removeBuffer(t,n)}this.activeStream.dequeueSegment(t)}}}function Sa(){}var Aa=new Zn,Na=new Zn,Ma=new Zn,Oa=new Zn,Ia=new Zn,Ra=new Zn,La=new Zn;let xa=function(t){function e(e,n="",i=new Ns){var r;return G(r=t.call(this)||this,"codec",void 0),G(r,"index",NaN),F(r,Aa,void 0),F(r,Na,new Zn),F(r,Ma,void 0),F(r,Oa,void 0),F(r,Ia,!0),F(r,Ra,[]),F(r,La,{}),H(Aa,r,vt("Stream","color: #586e75")),H(Oa,r,e),r.codec=n,H(Ma,r,i),V(Ma,r).start(),r}q(e,t),e.isValidSegmentUrl=function(t){return"string"==typeof t||"object"==typeof t&&"url"in t&&"byteRange"in t&&"string"==typeof t.url&&"string"==typeof t.byteRange};var n=e.prototype;return n.getIdForSegment=function(t){return e.isValidSegmentUrl(t)?V(La,this)[t]:V(Na,this).get(t).id},n.getSegmentUrl=function(t){return"object"==typeof t&&"url"in t?t.url:t},n.getSegmentByteRange=function(t){return"object"==typeof t&&"byteRange"in t?t.byteRange:void 0},n.isFinal=function(t){return V(Na,this).get(t).final},n.addSegment=function(t,{identifier:n=null,isFinalSegment:i=!1,loadOnly:o=!1,priority:s=0,includeWithBandwidthChecks:a=!0,excludeConnectTime:u=!1,timeout:l=null,size:c=null}={}){if(V(Ia,this)&&this.getInitSegment(),e.isValidSegmentUrl(t)){V(La,this)[t]=n||t;const e=this.getIdForSegment(t);return this.fire("queued",e),V(Ma,this).add({byteRange:this.getSegmentByteRange(t),excludeConnectTime:u,id:e,includeWithBandwidthChecks:a,isInitSegmentRequest:!1,priority:s,size:c,stream:this,timeout:l,url:this.getSegmentUrl(t)}).then((r=>{V(Na,this).set(r,{id:n||t,final:i}),V(Ra,this).push(r),this.fire("bufferqueueadd",e),o||this.fire("segmentadd")}))}return V(Na,this).set(t,{id:n,final:i}),V(Ra,this).push(t),this.fire("bufferqueueadd",n),r.resolve()},n.clear=function(){H(Ra,this,[])},n.abort=function(){try{const t=this;return function(t){return t&&t.then||(t=r.resolve(t)),t}(function(e,n){var i=function(){if(V(Ia,t))return function(t){if(t&&t.then)return t.then(Sa)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return function(t){if(!void 0)return t&&t.then?t.then(Sa):r.resolve()}(t.getInitSegment())}),(function(e){V(Aa,t).error("Error getting init segment:",e)})))}();return i&&i.then?i.then(n):n()}(0,(function(){V(Ma,t).abort(t)})))}catch(t){return r.reject(t)}},n.hasNextSegment=function(){return V(Ra,this).length>0},n.getNextSegment=function(){return V(Ra,this).shift()},n.dequeueSegment=function(t){V(Ra,this).unshift(t)},n.getInitSegment=function(){const t=this.getSegmentUrl(V(Oa,this));return t?(H(Ia,this,!1),e.isValidSegmentUrl(t)?V(Ma,this).add({byteRange:this.getSegmentByteRange(V(Oa,this)),id:null,isInitSegmentRequest:!0,priority:0,stream:this,url:t}).then((t=>(H(Oa,this,t),V(Oa,this)))):r.resolve(V(Oa,this))):r.resolve(null)},X(e,[{key:"pendingFetches",get:function(){return V(Ma,this).pendingFetches}}])}(ti);var Da=new Zn,Pa=new Zn,Ba=new Zn,$a=new Zn,ja=new Zn,Va=new Zn,Fa=new Zn,Ha=new Zn,Ua=new Zn,za=new Zn,Xa=new Zn,Ga=new WeakSet;let Wa=function(){function t(t,e=-1){U(this,Ga),G(this,"streamIndex",void 0),F(this,Da,void 0),F(this,Pa,void 0),F(this,Ba,void 0),F(this,$a,void 0),F(this,ja,!1),F(this,Va,void 0),F(this,Fa,{}),F(this,Ha,{}),F(this,Ua,0),F(this,za,0),F(this,Xa,!1),H($a,this,t),this.streamIndex=e,H(Da,this,this.start.bind(this)),H(Pa,this,this.stop.bind(this)),H(Ba,this,$(Ga,this,Za).bind(this))}var e=t.prototype;return e.init=function(){$(Ga,this,qa).call(this)},e.start=function(){H(ja,this,!0),$(Ga,this,Ka).call(this)},e.stop=function(){H(ja,this,!1)},e.destroy=function(){this.stop(),$(Ga,this,Ya).call(this)},e.getDroppedFrameRate=function(t,e=-1,n="average"){const i=V(Fa,this)[e];if(!i||i.length<t)return 0;const r=i.slice(-t);return"median"===n?ns(r):es(r)},e.getDroppedFrameTotal=function(){return{dropped:$(Ga,this,Ja).call(this),total:$(Ga,this,Qa).call(this)}},t}();function qa(){V(Xa,this)||(V($a,this).addEventListener("playing",V(Da,this)),V($a,this).addEventListener("pause",V(Pa,this)),V($a,this).addEventListener("ended",V(Pa,this)),document.addEventListener("visibilitychange",V(Ba,this)),H(Xa,this,!0))}function Ya(){V($a,this).removeEventListener("playing",V(Da,this)),V($a,this).removeEventListener("pause",V(Pa,this)),V($a,this).removeEventListener("ended",V(Pa,this)),document.removeEventListener("visibilitychange",V(Ba,this)),H(Xa,this,!1)}function Ka(){if(!V(ja,this)||-1===this.streamIndex)return;if(Se.browser.safari&&(document.hidden||"hidden"===document.visibilityState))return;void 0!==V(Va,this)&&clearTimeout(V(Va,this));const t=$(Ga,this,Ja).call(this),e=t-V(Ua,this);H(Ua,this,t);const n=$(Ga,this,tu).call(this),i=n-V(za,this);H(za,this,n),V(Fa,this)[this.streamIndex]||(V(Fa,this)[this.streamIndex]=[]),V(Ha,this)[this.streamIndex]||(V(Ha,this)[this.streamIndex]=[]),V(Fa,this)[this.streamIndex].length>100&&V(Fa,this)[this.streamIndex].shift(),V(Ha,this)[this.streamIndex].length>100&&V(Ha,this)[this.streamIndex].shift(),V(Fa,this)[this.streamIndex].push(e),V(Ha,this)[this.streamIndex].push(i),H(Va,this,setTimeout((()=>{$(Ga,this,Ka).call(this)}),1e3))}function Za(){!Se.browser.safari||document.hidden&&"hidden"===document.visibilityState||$(Ga,this,Ka).call(this)}function Ja(){return"function"==typeof V($a,this).getVideoPlaybackQuality?V($a,this).getVideoPlaybackQuality().droppedVideoFrames:V($a,this).webkitDroppedFrameCount||0}function Qa(){return"function"==typeof V($a,this).getVideoPlaybackQuality?V($a,this).getVideoPlaybackQuality().totalVideoFrames:V($a,this).webkitDecodedFrameCount||0}function tu(){if("function"==typeof V($a,this).getVideoPlaybackQuality){const t=V($a,this).getVideoPlaybackQuality();return t.totalVideoFrames-t.droppedVideoFrames}return V($a,this).webkitDecodedFrameCount||0}var eu=new Zn,nu=new Zn,iu=new Zn,ru=new Zn,ou=new Zn,su=new Zn,au=new Zn,uu=new Zn,lu=new Zn,cu=new Zn,du=new Zn;let hu=function(t){function e(e,n={}){var i;G(i=t.call(this)||this,"_video",void 0),G(i,"allowSegmentRequests",void 0),F(i,eu,void 0),F(i,nu,void 0),F(i,iu,void 0),F(i,ru,void 0),F(i,ou,void 0),F(i,su,void 0),F(i,au,void 0),F(i,uu,void 0),F(i,lu,void 0),F(i,cu,void 0),F(i,du,void 0),G(i,"isInstanceofManagedMediaSource",(t=>"undefined"!=typeof ManagedMediaSource&&t instanceof ManagedMediaSource)),H(su,i,vt("MediaSorcerer","color: #586e75")),i.Y=e,H(uu,i,n),i.allowSegmentRequests=!0;const r=V(uu,i).disableMMS;H(au,i,new(_t(r))),V(su,i).log("Media Source API: "+i.xt(V(au,i)));const{fetcherTimeout:o=0,fetcherRetryAbortErrors:s=!0}=V(uu,i);return H(lu,i,new Wa(e)),H(ou,i,new Ns({parallel:1,timeout:o,retryAbortErrors:s})),H(eu,i,i.Dt.bind(i)),H(nu,i,i.Pt.bind(i)),H(ru,i,{audio:null,video:null}),H(iu,i,[]),H(du,i,null),i.Bt(),i}q(e,t);var n=e.prototype;return n.setStreamIndex=function(t){V(lu,this).streamIndex=t},n.getCurrentSpeed=function({type:t="average",howMany:e=10,weights:n=[],percentile:i}={}){return"harmonicAverage"===t?V(ou,this).getHarmonicAverageSpeed(e):"average"===t?V(ou,this).getAverageSpeed(e,n):"median"===t?V(ou,this).getMedianSpeed(e):V(ou,this).getPercentileSpeed(e,i)},n.getResponseSpeeds=function(){return V(ou,this).getResponseSpeeds()},n.getFailedSegments=function(){return V(ou,this).getFailedSegments()},n.getSuccessfulSegments=function(){return V(ou,this).getSuccessfulSegments()},n.getDroppedFrameRate=function(t,e=this.activeStreamIndex,n="average"){return V(lu,this).getDroppedFrameRate(t,e,n)},n.getDroppedFrameTotal=function(){return V(lu,this).getDroppedFrameTotal()},n.clear=function(){V(iu,this).forEach((t=>t.clear()))},n.initFrameDropper=function(){V(lu,this).init()},n.streamIndexAtTime=function(t,e){const n=V(ru,this)[e];return n?n.streamIndexAtTime(t):-1},n.removeBuffer=function(t=0,e=this.Y.duration){if(t>=(e=e||0))return r.resolve();const n=V(iu,this).map((n=>n.remove(t,e)));return r.all(n)},n.setLiveSeekableRange=function(t,e){var n;"open"===(null==(n=V(au,this))?void 0:n.readyState)&&V(au,this).setLiveSeekableRange(t,e)},n.addStream=function(t,e){const n=this.$t(t);if(!V(ru,this)[n]){const e=new da(this,n);V(ru,this)[n]=e,V(iu,this).push(e),V(cu,this).then((()=>{let i;try{i=V(au,this).addSourceBuffer(t)}catch(t){if(22!==t.code)return V(su,this).error(t),void this.fire("srcnotsupported",t);i=V(ru,this)[n]}if(V(uu,this).duration){const t=.1;i.appendWindowEnd=V(uu,this).duration+t}e.sourceBuffer=i})).catch((t=>{V(su,this).error(t)})),["appendbufferstart","appendbufferend","streamchange","streamchangestart","initialbufferstart","quotaexceedederror"].forEach((t=>{e.on(t,(e=>{this.fire(t,e)}))}))}const i=new xa(e,t,V(ou,this));["queued","bufferqueueadd"].forEach((t=>{i.on(t,(e=>{this.fire(t,e)}))}));const r=V(ru,this)[n];return r&&r.addStream(i),i},n.checkEndOfStream=function(){if(!V(iu,this).every((t=>t.hasAppendedFinalSegment())))return;const t=()=>{this.Y.removeEventListener("timeupdate",t),this.endOfStream()};this.Y.addEventListener("timeupdate",t)},n.abortFetches=function(){V(ou,this).abort()},n.endOfStream=function(){if(!V(iu,this).every((t=>t.isTimeInBuffer(this.Y.currentTime)))){const t=1;if(!(Se.browser.firefox&&this.Y.currentTime<t))return}"open"===V(au,this).readyState&&(this.jt()||(V(su,this).log("Firing MediaSource.endOfStream()"),V(au,this).endOfStream(),this.fire("endofstream")))},n.destroy=function(){this.clear(),this.Vt(),this.off(),V(lu,this).destroy(),V(ou,this).abort();const t=this.Y.querySelectorAll("source");(this.Y.src||t.length>0)&&(this.Y.removeAttribute("src"),t.forEach((t=>{this.Y.removeChild(t)})),this.Y.load())},n.xt=function(t){return this.isInstanceofManagedMediaSource(t)?"ManagedMediaSource":"MediaSource"},n.Bt=function(){H(cu,this,new r((t=>{H(du,this,t),V(au,this).addEventListener("sourceopen",V(nu,this)),V(au,this).addEventListener("sourceclose",V(eu,this))}))),["downloadstart","downloadend","downloadabort","downloaderror","downloadtimeout","progress"].forEach((t=>{V(ou,this).on(t,((...e)=>{this.fire.apply(this,[t].concat(e))}))})),this.isInstanceofManagedMediaSource(V(au,this))&&(V(au,this).addEventListener("startstreaming",(()=>{V(su,this).log("startstreaming event fired"),this.allowSegmentRequests=!0})),V(au,this).addEventListener("endstreaming",(()=>{V(su,this).log("endstreaming event fired"),this.allowSegmentRequests=!1})))},n.jt=function(){for(let t=0;t<V(au,this).sourceBuffers.length;t++)if(V(au,this).sourceBuffers[t].updating)return!0;return!1},n.Pt=function(){V(su,this).log("MediaSource open"),V(au,this).removeEventListener("sourceopen",V(nu,this)),URL.revokeObjectURL(this.Y.src),this.Y.querySelectorAll("source").forEach((t=>{var e;0===(null==(e=t.src)?void 0:e.indexOf("blob"))&&URL.revokeObjectURL(t.src)})),V(uu,this).duration&&(V(au,this).duration=V(uu,this).duration,this.fire("durationset")),V(du,this)&&V(du,this).call(this)},n.Dt=function(){V(su,this).log("MediaSource closed"),V(au,this).removeEventListener("sourceclose",V(eu,this)),this.fire("sourceclose")},n.Vt=function(){V(iu,this).forEach((t=>t.removeEventListeners()))},n.$t=function(t){return 0===t.indexOf("audio")?"audio":"video"},X(e,[{key:"activeStreamIndex",get:function(){return 1===V(iu,this).length&&this.video?this.video.activeStreamIndex:(V(su,this).warn("The activeStreamIndex property on MediaSorcerer only works with single streams"),-1)}},{key:"mediaSource",get:function(){return V(au,this)}},{key:"pendingFetches",get:function(){return V(ou,this).pendingFetches}},{key:"readyState",get:function(){return V(au,this).readyState}},{key:"streams",get:function(){return 1===V(iu,this).length&&this.video?this.video.streams:(V(su,this).warn("The streams property on MediaSorcerer only works with single streams"),!1)}},{key:"audio",get:function(){return V(ru,this).audio?V(ru,this).audio:(V(su,this).warn("No audio streams have been added to MediaSorcerer"),!1)}},{key:"video",get:function(){return V(ru,this).video?V(ru,this).video:(V(su,this).warn("No video streams have been added to MediaSorcerer"),!1)}}])}(ti),fu=function(t){function e(e,n={}){var i;return(i=t.call(this,e)||this).tt=n,i.blacklisted=[],i.whitelisted=[],i.MAX_LOADABLE_SEGMENTS_AUTO=3,i.MAX_LOADABLE_SEGMENTS_LOCKED=15,i.SEGMENT_DURATION=6,i}q(e,t);var n=e.prototype;return n.isTimeInBuffer=function(t,e,n){return this.Ft(t,t,e,n,1)},n.getDistanceFromBuffer=function(t,e){let n=t;for(let i=0;i<e.length;i++)if(e.start(i)<=t&&e.end(i)>=t){n=e.end(i);break}return n-t},n.blacklist=function(t){this.blacklisted[t]=1},n.lock=function(t=[]){this.whitelisted=t},n.filterStreams=function(t,e,n,i=null){const r=[];let o,s=!1;for(let a=0;a<t.length;a++)if(o&&o[0]===t[a].width&&o[1]===t[a].height)r.push(t[a]);else{if(s)break;this.blacklisted[a]&&-1===this.whitelisted.indexOf(a)||this.whitelisted.length&&-1===this.whitelisted.indexOf(a)||(this.whitelisted.length?r.push(t[a]):(this.Ht(e,n,t[a].width,t[a].height,i)>=(n<1e3/(window.devicePixelRatio||1)?1.75:1)&&(s=!0),r.push(t[a]),o=[t[a].width,t[a].height]))}return r},n.getCurrentSpeed=function(){let t="average",e=3,n=[1,2,5];return this.tt.tests&&this.tt.tests.harmonic_average&&this.tt.tests.harmonic_average.group&&(t="harmonicAverage",e=this.Ut(),n=[]),this.scanner.sorcerer.getCurrentSpeed({type:t,howMany:e,weights:n})},n.shouldUseSurroundSound=function(t,e){return"240p"!==t[e].quality},n.getAudioIndexFromVideo=function(t,e,n){if(0===e.length)return!1;if(!t[n])return 0;const i=e.filter((({channels:t})=>t>2));if(i.length>0&&this.shouldUseSurroundSound(t,n)){const t=i[i.length-1];return e.indexOf(t)}return e.length>1&&0===n&&t[n].height<=360&&t.length>1?"mp4a.40.2"===e[0].codecs&&e[0].bitrate<8e4&&"240p"!==t[n].quality?1:0:e.length-1},n.zt=function(t,e,n,i){const r=n/i,o=t-e*r,s=e-t/r;let a=t-o,u=e-s;return o>0&&(u=e),s>0&&(a=t),[a,u]},n.Ht=function(t,e,n,i,r=null){const o=this.zt(t,e,n,i);let s=n*i;r&&(s*=r);const a=window.devicePixelRatio||1;return s/(o[0]*o[1]*a*a)},n.Ut=function(){const t=function(t,e){return t&&t.tests&&t.tests[e]?t.tests[e]:null}(this.tt,"lookahead_count");return t&&t.group&&t.data.count?t.data.count:t&&t.data.segment_lookahead_count?t.data.segment_lookahead_count:this.MAX_LOADABLE_SEGMENTS_AUTO},n.Xt=function(t,e,n){const i=n&&n.bitrate>11e6;return 1===this.whitelisted.length?i?30:this.MAX_LOADABLE_SEGMENTS_LOCKED*this.SEGMENT_DURATION:this.Ut()*this.SEGMENT_DURATION},n.Ft=function(t,e,n,i,r=0){if(!n)return!1;e=Math.min(e,i);for(let i=0;i<n.length;i++){const o=n.start(i),s=n.end(i),a=Do(o)-r,u=Do(s)+r;if(a<=t&&u>=e){if(e<o||t>s)continue;return!0}}return!1},n.Gt=function(t){return t.video.length>0&&t.audio.length>0},n.Wt=function(t,e,n,i){let r=1;return this.Gt(i)&&(r=.1),this.Ft(t.start,t.end,e,n,r)},X(e,[{key:"displayName",get:function(){return"MediaSource"}}])}(function(){function t(t){this.scanner=t,this.STREAM_TYPE_VIDEO="video",this.STREAM_TYPE_AUDIO="audio"}var e=t.prototype;return e.destroy=function(){},e.shouldPowerUp=function(t,e){return!1},e.shouldPowerDown=function(t,e){return!1},e.canPowerUp=function(t,e){return 1!==t.length&&e<t.length-1},e.canPowerDown=function(t,e){return 1!==t.length&&e>0},e.filterStreams=function(t){return t},X(t,[{key:"displayName",get:function(){return"Brain"}}])}());let pu=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).BANDWIDTH_UPSWITCH_THRESHOLD=.85,i.BANDWIDTH_DOWNSWITCH_THRESHOLD=.9,i.DEFAULT_TIMEOUT=8e3,i.SEGMENT_RELATIVE_TIMEOUT_RATIO=4/3,i.MINIMUM_TIMEOUT=1e3,i.FRAME_DROP_WINDOW_SECONDS=10,i}q(e,t);var n=e.prototype;return n.shouldPowerUp=function(t,e,n){n&&this.tt.startingBandwidthThreshold&&(this.BANDWIDTH_UPSWITCH_THRESHOLD=this.tt.startingBandwidthThreshold);let i=t.indexOf(e);if(-1===i&&(i=0),!this.canPowerUp(t,i))return r.resolve({index:!1,reasonForSwitch:null});const o=this.getCurrentSpeed();if(!o)return r.resolve({index:!1,reasonForSwitch:null});const s=this.qt(o,this.BANDWIDTH_UPSWITCH_THRESHOLD,t);return s===i||!n&&s>i&&wt(this.scanner.currentTime,this.scanner.Y.buffered)<1.5*this.SEGMENT_DURATION?r.resolve({index:!1,reasonForSwitch:null}):r.resolve({index:s,reasonForSwitch:3})},n.shouldPowerDown=function(t,e){const n=t.indexOf(e);if(-1===n){const e=this.isTimeInBuffer(this.scanner.Y.duration,this.scanner.Y.buffered,this.scanner.Y.duration);return this.whitelisted.length||this.blacklisted.length||!e?r.resolve({index:t.length-1,reasonForSwitch:6}):r.resolve({index:!1,reasonForSwitch:null})}if(!this.canPowerDown(t,n))return r.resolve({index:!1,reasonForSwitch:null});const i=this.getCurrentSpeed();if(!i)return r.resolve({index:!1,reasonForSwitch:null});if(this.hasTooManyDroppedFrames(n,e,this.tt.droppedFrameSwitchPercent))return this.blacklist(n),r.resolve({index:n-1,reasonForSwitch:2});const o=this.qt(i,this.BANDWIDTH_DOWNSWITCH_THRESHOLD,t);return o===n?r.resolve({index:!1,reasonForSwitch:null}):r.resolve({index:o,reasonForSwitch:1})},n.hasTooManyDroppedFrames=function(t,e,n){return this.scanner.sorcerer.getDroppedFrameRate(this.FRAME_DROP_WINDOW_SECONDS,t,"median")/e.framerate*100>=n},n.getTimeEstimateToLoad=function(t,e){var n;const i=null==e||null==(n=e.segments)?void 0:n[t];if(!i)return 3;const r=this.getCurrentSpeed(),o=i.end-i.start;return i.size?(8*i.size+e.audioBitrate*o)/r*1.3:o*(e.avg_bitrate+e.audioBitrate)/r*1.3},n.canPlayFromTimeInStream=function(t,e){if(!this.isTimeInBuffer(t,this.scanner.Y.buffered,this.scanner.Y.duration))return!1;if(!e)return!1;const n=this.getSegmentsToLoad(!1,this.STREAM_TYPE_VIDEO,e);if(0===n.length)return!0;const i=wt(t,this.scanner.Y.buffered);return this.getTimeEstimateToLoad(n[0],e)<i},n.getSegmentsToLoad=function(t,e=this.STREAM_TYPE_VIDEO,n){const i=this.scanner.Y;if(i.webkitCurrentPlaybackTargetIsWireless)return[];const r=this.scanner.currentTime,o=[],s=r+this.Xt(r,i.duration,n),a=this.scanner.sorcerer[e].activeStreamIndex,u=this.scanner.Yt[e][a];if(!u)return o;const l=this.scanner.sorcerer[e].sourceBuffer;let c=null;l&&(c=l.buffered);for(let e=0;e<u.segments.length;e++){const n=u.segments[e];if(n.end<r||n.start>s)continue;const i=r>=n.start&&r<n.end,a=this.Wt(n,c,this.scanner.Y.duration,this.scanner.Yt);!t&&a||t&&a&&i||(i||s>=n.start)&&o.push(e)}return o},n.getSegmentRelativeTimeout=function(t,e,n){var i;const r=null==e?void 0:e.avg_bitrate,o=null==(i=t[0])?void 0:i.avg_bitrate;if(!r||!o||!n)return this.DEFAULT_TIMEOUT;if(r===o)return this.DEFAULT_TIMEOUT;const s=n*this.SEGMENT_RELATIVE_TIMEOUT_RATIO;return Math.max(this.MINIMUM_TIMEOUT,Math.min(this.DEFAULT_TIMEOUT,s))},n.qt=function(t,e,n){let i=0;for(let r=i;r<n.length;r++)t*e>n[r].avg_bitrate+n[r].audioBitrate&&(i=r);return i},X(e,[{key:"displayName",get:function(){return"Skyfire"}}])}(fu),vu=function(){function t(t,e){this.Y=t,this.Kt=e}var e=t.prototype;return e.start=function(){return clearInterval(this.Zt),this.Zt=setInterval(this.Jt.bind(this),200),this.Jt()},e.stop=function(){clearInterval(this.Zt)},e.onSegmentAppended=function(){this.Jt()},e.Jt=function(){const t=this.Y.buffered,e=this.Y.currentTime,n=this.Qt(t,e);if(0===this.Y.readyState)return!1;if(this.Y.paused)return!1;const i=this.Y.duration;if(e>=i)return this.Y.currentTime=i-.1,!0;if(t.length<=n)return!1;const r=t.start(n);return!(r>=i)&&!(r-e>.5||0!==n||(this.stop(),this.te("audio",r),this.te("video",r),this.Y.currentTime=r,0))},e.Qt=function(t,e){if(!t||!t.length)return null;let n=0;for(;n<t.length;n++){const i=t.start(n),r=t.end(n);if(i>e&&(0===n||r-e<=.1))break}return n>=0?n:null},e.te=function(t,e){const n=this.Kt(0,t);n&&n.segments&&n.segments[0]&&(n.segments[0].start=e)},t}();const mu="br",_u="bl",bu="pr",yu="sid",gu="cid",wu="sf",Tu="st",Cu="ot";let Eu=function(){function t(t,e={}){this.ee=t,this.sessionId=e.sessionId,this.clipId=e.clipId}var e=t.prototype;return e.getLogAsQueryParam=function(t,e){return this.ne(this.re(t,e))},e.re=function(t,e){let n={};return Object.assign(n,this.oe()),Object.assign(n,this.se(t,e)),n},e.ne=function(t){return St({CMCD:this.ae(t)})},e.oe=function(){return{[yu]:`"${this.sessionId}"`,[gu]:`"${this.clipId}"`,[Tu]:this.ue(),[wu]:this.le()}},e.se=function(t,e){return{[bu]:this.ee.playbackRate,[mu]:this.ee.getBitrateAtTime(this.ee.currentTime,e,"max")/1e3,[Cu]:this.ce(e),[_u]:this.de(t)}},e.ce=function(t){switch(t){case"audio":return"a";case"video":return"v";default:return"av"}},e.de=function(t){return Math.round(1e3*(parseFloat(t.end)-parseFloat(t.start)))},e.ue=function(){switch(this.ee.displayName){case"HLSLiveScanner":case"NativeHLSLiveScanner":return"l";default:return"v"}},e.le=function(){switch(this.ee.displayName){case"HLSLiveScanner":case"NativeHLSLiveScanner":return'"hls"';default:return'"dash"'}},e.ae=function(t){let e=[],n="";for(var i=0,r=Object.entries(t);i<r.length;i++){const[t,n]=r[i];e.push({key:t,value:n})}return e.sort((function(t,e){return t.key.localeCompare(e.key)})).forEach((({key:t,value:e})=>{n+=`${t}=${e},`})),n.replace(/,\s*$/,"")},t}();function ku(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const Su=["supported"];function Au(t,e){var n=t();return n&&n.then?n.then(e):e(n)}const Nu=new Oe;function Mu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const Ou=vt("MediaCapabilities","color: white; background-color: green"),Iu=Mu((function(t){let e;const n=xu(t);return Nu.get(n)||Au((function(){if(Se.mediaCapabilities){const i=t.codecs.replace(/,.+/,""),r={type:"media-source",video:{contentType:`${t.mime_type}; codecs=${i}`,width:t.width,height:t.height,bitrate:t.bitrate,framerate:t.framerate}};return ku(navigator.mediaCapabilities.decodingInfo(r),(function(t){e=t,Nu.set(n,e)}))}}),(function(){return e}))})),Ru=Mu((function(t=[]){let e=!1,n=t,i=[],o=[];return Au((function(){if(Se.mediaCapabilities)return function(){if(0!==t.length)return function(s,a){try{var u=ku(r.all(t.map((function(t){return ku(Iu(t))}))),(function(r){if(r){if(n=function(t,e){return t.filter(((t,n)=>Su.every((t=>e[n][t]))||(Ou(`Stream ${t.quality} is not supported`,e[n]),!1)))}(t,r),0===n.length)return Ou("No compatible streams found. Returning all available streams as safeguard."),e=!0,{compatibleStreams:t,incompatibleStreams:i,incompatibleStreamsAttributes:o};n.length<t.length?(i=t.filter((t=>-1===n.indexOf(t))),o=i.map(Lu),Ou("Some streams are not supported. Returning compatible streams.")):Ou("All streams are supported.")}}))}catch(t){return a(t)}return u&&u.then?u.then(void 0,a):u}(0,(function(t){Ou("Error checking stream capabilities",t)}));Ou("No streams to check for MediaCapabilities support")}();Ou("MediaCapabilities API not supported")}),(function(t){return e?t:{compatibleStreams:n,incompatibleStreams:i,incompatibleStreamsAttributes:o}}))}));function Lu(t){const e=xu(t),n=Nu.get(e);return n?Su.filter((t=>!n[t])):[]}function xu(t){return`${t.mime_type};${t.codecs};${t.width};${t.height};${t.bitrate};${t.framerate}`}function Du(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function Pu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const Bu="video",$u="audio";let ju=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).reset(),i.manifestLoadDurations=[],i.he=!1,n.mediaSourceScanner&&(i.fe=n.mediaSourceScanner.maxPreloadStreamIndex),i}q(e,t),e.supported=function(t){const e=_t(t);return void 0!==e&&e.isTypeSupported};var n=e.prototype;return n.deactivate=function(){t.prototype.deactivate.call(this),this.sorcerer&&this.sorcerer.destroy(),this.reset()},n.reset=function(){this.pe=new Ao,this.ve={},Se.browser.safari&&(this.me=new vu(this.Y,this.Kt.bind(this))),this.resetBrain(),this._e(),this.be=!1,this.ye=!1,this.Lt=null,this.Yt={},this.Yt[$u]=[],this.Yt[Bu]=[],this.ge=[],this.we=null,this.Te=null,this.Ce=null,this.Ee=null,this.ke=null,this.Se=null,this.Ae=!1,this.Ne=null,this.Me=!1,this.Oe=!1,this.Ie=null,this.Re=null,this.Le=!1,this.xe=[],this.De={},this.Pe=0,this.Be=null,this.he=!1,clearInterval(this.$e),clearTimeout(this.je)},n.resetBrain=function(){const t=this.tt.mediaSourceScanner||{};t.tests=this.tt.tests,this.Ve&&this.Ve.destroy(),this.Ve=new pu(this,t)},n.preloadStream=function(){if(this.Ie)return this.Ie;let t=0,e=1;this.Yt.audio.length&&(e=2);let n=this.sorcerer.video.activeStreamIndex;this.xe.length&&(n=this.xe[0]);let i=0;const o=this.Ve.getSegmentsToLoad(!1,Bu,n);o.length>0&&(i=o[0]);let s=()=>{};const a=(t=!1)=>{t&&(n=this.sorcerer.video.activeStreamIndex),this.Be=n,this.Fe(!0)},u=n=>{t+=1,t<e||(n.segment===i&&0===this.xe.length?this.He(!0).then((e=>{let{index:i,reasonForSwitch:r}=e,o={reasonForSwitch:r};if(!1!==i&&i>n.stream){if(this.sorcerer.video.switchTo(i,!1,o),this.Yt.audio.length){const t=this.Ve.getAudioIndexFromVideo(this.Yt.video,this.Yt.audio,i);this.sorcerer.audio.switchTo(t,!1)}return t=0,void a(!0)}s()})).catch(console.error):s())};return this.Ie=new r((t=>{s=()=>{const e=this.Kt(n).segments[0].end,i=this.Ue(!0);if(this.currentTime>=i&&(this.currentTime=i),this.currentTime>e&&(this.sorcerer.clear(),this.pe=new Ao),this.sorcerer.video.switchTo(n,!1),this.Yt.audio.length){const t=this.Ve.getAudioIndexFromVideo(this.Yt.video,this.Yt.audio,n);this.sorcerer.audio.switchTo(t,!1)}this.sorcerer.off("bufferqueueadd",u),this.Be=null,this.be=!0,t()},this.sorcerer.on("bufferqueueadd",u),a()})),this.Ie},n.loadManifest=function(t){try{const e=this;return Du(e.video.metadata.p2pReady,(function(){const n=Date.now();return Se.browser.ie&&t&&-1!==t.indexOf("archive_playlist")?(setTimeout((()=>{e.At(Ho,"An unknown error occurred.")}),250),new r((()=>{}))):Qt({url:t,timeout:1e4,type:D.MANIFEST}).then((i=>(i.url&&i.url!==t&&-1!==i.url.indexOf("live-archive")&&(e.Te=i.url.split("/").slice(0,-2).join("/")),e.manifestLoadDurations.push({url:t,status:i.status,duration:Date.now()-n}),e.fire(ho.MANIFEST_LOADED),i.text()))).then(Pu((function(n){let i;return function(r,o){var s=function(){if(-1!==t.indexOf(".mpd"))return Du(e.ze(),(function({parseMPD:r}){const o=e.et.enabledAudioTrack,s={audioLang:null==o?void 0:o.language};i=r(n,t,s)}));i=JSON.parse(n)}();return s&&s.then?s.then(o):o()}(0,(function(){return i}))}))).catch((i=>{if(e.manifestLoadDurations.push({url:t,status:i.response&&i.response.status,duration:Date.now()-n}),e.reset(),i instanceof Lt&&410===i.response.status)return e.fire(ho.MEDIA_URL_EXPIRED),new r((()=>{}));throw i instanceof Lt&&400===i.response.status?e.fire(ho.MEDIA_URL_BAD_REQUEST,i.response.url):i instanceof Dt&&e.fire(ho.MANIFEST_TIMEOUT),i}))}))}catch(t){return r.reject(t)}},n.setVideoSrc=function(t,e,n=!0){if(n&&!e&&this.we){var i;if(("metadata"===this.ut||"none"===this.ut&&!this.paused)&&!this.be)return void this.we.then((()=>{const e=this.paused;this.setVideoSrc(t,e,!1)})).catch(console.error);if("sd-fallback"===(null==(i=this.et.drmHandler)?void 0:i.state))return void this.we.then((()=>{this.setVideoSrc(t,!0,!1),this.paused&&this.play()})).catch(console.error);if("auto"===this.ut)return void this.we.then((()=>{this.setVideoSrc(t,!1,!1)})).catch(console.error)}e&&this.reset(),e||!this.paused||this.sorcerer||(e=!0);let r=this.Xe;e&&(r=this.Ge);const o=t.split("/");o.pop();const s=`${o.join("/")}/`;this.Ae=!e,this.we=this.We(t,this.ut).then(this.loadManifest.bind(this)).then((t=>("string"==typeof this.Te&&-1!==this.Te.indexOf("live-archive")||(this.Te=s),t))).then(r.bind(this)),e&&"auto"===this.ut&&(this.we=this.qe(this.we,this.preloadStream.bind(this),!1)),this.we=this.Ye(this.we)},n.getBitrateAtTime=function(t,e="video",n="average"){if(!this.sorcerer)return 0;const i=this.sorcerer.streamIndexAtTime(t,e),r=this.Yt[e][i];return r?r["average"===n?"avg_bitrate":"bitrate"]??r.bitrate:0},n.lockStreamIndexes=function(){const t=this.xe.map((t=>this.Yt[Bu].indexOf(this.Yt[Bu][t]))),e=!this.paused;if(e&&(this.Ke=!0,this.Y.pause()),this.De[Bu]=!1,this.Ve.lock(t),!this.ye&&"auto"!==this.ut)return;const n=Math.max(this.currentTime-7,0),i=Math.min(this.currentTime+7,this.Y.duration);this.sorcerer.removeBuffer(n,i).then((()=>{!this.ye&&"auto"===this.ut||this.ended?this.Ze():(this.seekToTime(this.currentTime),e&&this.paused&&(this.Je=!0,this.Y.play()))})).catch(console.error)},n.seekToTime=function(t){if(t===this.currentTime)return r.resolve();if(null===this.Ee||(this.Qe&&(this.Qe(),this.Qe=null),this.tn=null,this.Ee=null,this.ke=null),this.Ee=t,this.en(),this.be)for(const t in this.Yt)if(this.Yt[t].length>0){const e=this.sorcerer[t].activeStreamIndex;this.sorcerer[t].streams[e].abort()}return this.tn=this.nn(t),r.all([this.we,this.Re]).then((()=>{this.Ze()})).catch(console.error),this.rn&&0===t&&this.fire(ao.SEEKING),this.we.then((()=>this.tn)).catch((t=>{}))},n.takeSnapshot=function(){this.ht&&t.prototype.takeSnapshot.call(this)},n.initDrm=function(){},n.onstalled=function(){return!1},n.onseeked=function(t){this.ye&&this.Fe()},n.onended=function(e){return t.prototype.onended.call(this,e),!0},n.onseeking=function(t){this.ye},n.en=function(){this.sn(),clearTimeout(this.an),this.an=setTimeout((()=>{this.un()}),200)},n.sn=function(){this.ln||(this.ln=!0)},n.un=function(){this.ln=!1},n.ontimeupdate=function(e){if(!this.sorcerer)return!1;if(t.prototype.ontimeupdate.call(this),this.me&&this.me.stop(),0===this.currentTime)return this.ye;if(this.Ee)return!1;if(this.ye||(this.ye=!0),this.Oe&&this.currentTime>=this.Oe){const t=2;this.sorcerer.removeBuffer(0,this.Oe-t),this.Oe=!1}const n=this.sorcerer.getDroppedFrameTotal();this.fire(ho.DROPPED_FRAMES,n);const i=this.sorcerer.getResponseSpeeds(),r=this.Yt[Bu][this.sorcerer.video.activeStreamIndex],o=this.tt.tests&&this.tt.tests.download_bitrate;if((!o||!o.group)&&r&&this.Ve.getCurrentSpeed){const t={speed:this.Ve.getCurrentSpeed(),bitrate:r.avg_bitrate,speeds:i};this.fire(ho.BANDWIDTH,t)}const s=this.Y.buffered.length;if(!s)return!0;const a=this.Y.buffered.end(s-1);return Math.ceil(a)===Math.ceil(this.Y.duration)||(Math.abs(this.currentTime-a)<.2?(this.Le||(this.fire(ho.STREAM_BUFFER_START,{hasLowerStreamIndex:this.sorcerer[Bu].activeStreamIndex>0}),this.Le=!0),!1):void 0)},n.cn=function(){return!!this.ended||Math.ceil(this.currentTime)===Math.ceil(this.Y.duration)},n.dn=function(){if(!this.sorcerer)return!1;if("closed"===this.sorcerer.readyState)return!1;if(this.Y.webkitCurrentPlaybackTargetIsWireless)return!1;if(this.cn())return!1;if(null!==this.Be){try{this.hn()}catch(t){return this.fn(t),!1}return!0}if(0===this.currentTime&&!this.be)return this.ye;const t=this.Ze();return t&&"function"==typeof t.catch&&t.catch(this.fn.bind(this)),!0},n.fn=function(t){t.code===DOMException.INVALID_STATE_ERR?this.fire(ho.SCANNER_ERROR,{reason:t}):this.fire(ho.LOAD_SEGMENT_FAILED,new TelecineError(`${ho.LOAD_SEGMENT_FAILED} - ${t.name}`,t.message)),clearInterval(this.$e)},n.onprogress=function(){this.Ve.canPlayFromTimeInStream(this.currentTime,this.Kt())&&this.Le&&(this.fire(ho.STREAM_BUFFER_END),this.Le=!1)},n.onwaiting=function(){return!this.me||!this.me.start()},n.onerror=function(){return!!this.Y.error&&(this.Y.error.code===this.Y.error.MEDIA_ERR_DECODE?(this.fire(ho.SCANNER_ERROR,{reason:`encountered media decode error. Message: "${this.Y.error.message}"`}),!1):this.Y.error.code===this.Y.error.MEDIA_ERR_SRC_NOT_SUPPORTED?(this.he=!0,this.fire(ho.SCANNER_ERROR,{reason:`encountered media source not supported error. Message: "${this.Y.error.message}"`}),!1):t.prototype.onerror.call(this))},n.pause=function(){t.prototype.pause.call(this)},n.play=function(){return this.Fe(),t.prototype.play.call(this,(()=>(this.Se&&this.Se(),this.Ae||this.be||"auto"===this.ut||(this.we=this.qe(this.we,this.preloadStream.bind(this))),this.we.then((()=>r.resolve(this.tn))))))},n.onpause=function(){return this.Ke?(this.Ke=!1,!1):(t.prototype.onpause.call(this),!0)},n.onplay=function(){return!this.Je||(this.Je=!1,!1)},n.qe=function(t,e,n=!0){let i=t.then(e);return n&&(i=this.Ye(i)),i},n.Ye=function(t){return t.catch((t=>(this.fire(ho.FILE_ERROR,{reason:t}),new r((()=>{})))))},n.pn=function(){this.be&&this.Yt[Bu][this.sorcerer.video.activeStreamIndex].bitrate/1e3>12e3&&(this.Re=this.sorcerer.removeBuffer())},n.We=function(t,e){return new r((n=>{"none"!==e||this.Ae&&!this.paused?n(t):this.Se=()=>{n(t),this.Se=null}}))},n.nn=function(t=this.Ee){return new r((e=>{const n=this.ye&&0===t,i=this.Ve.canPlayFromTimeInStream(t,this.Kt());n||i?e(t):(this.pn(),this.ke=e)})).then((t=>{this.Ee=null,this.tn=null;const e=new r(((t,e)=>{this.Qe=e;const n=()=>{t(this.Y.currentTime),this.Y.removeEventListener("seeked",n)};this.Y.addEventListener("seeked",n)}));return this.Y.currentTime=t,e}))},n.vn=function(t,e){"auto"!==t&&"auto"===e&&(this.we=this.qe(this.we,this.preloadStream.bind(this))),t!==e&&"none"!==e&&this.Se&&this.Se()},n.mn=function(t){const e=t.audio.reduce(((t,e)=>t+e.duration),0),n=t.video.reduce(((t,e)=>t+e.duration),0),i=e/t.audio.length,r=n/t.video.length;return i+4<r?r-i:0},n._n=function(t){return t.video.every((t=>t.segments.every((t=>"size"in t))))},n.Xe=function(t){const e=this;return new r(Pu((function(n,i){if(e.Lt=t,e.Yt[Bu]=e.bn(t.video),t.audio){const n=e.mn(t);if(n>0)return e.fire(ho.AV_DURATION_MISMATCH,n),e.fire(ho.SCANNER_ERROR,{reason:"Encountered A/V duration mismatch"}),void i();const r=t.audio.filter((t=>"opus"===t.codecs)),o=t.audio.filter((t=>"opus"!==t.codecs)),s=Se.browser.safari||Se.iOS||Se.iPadOS||!_t().isTypeSupported('audio/mp4; codecs="opus"')||!r.length?o:r;e.Yt[$u]=e.yn(s)}for(let n=0;n<e.Yt[Bu].length;n++){let i=0;if(t.audio){const t=e.Ve.getAudioIndexFromVideo(e.Yt.video,e.Yt.audio,n),r=e.Yt[$u][t];r&&(i=r.avg_bitrate)}e.Yt[Bu][n].audioBitrate=i}return e.gn(e.Yt[Bu],e.Yt[$u],e.Lt.key_info),e._n(t)||e.resetBrain(),e.fire(ho.STREAMS_LOADED,e.Yt),Du(Ru(e.Yt[Bu]),(function({compatibleStreams:t,incompatibleStreams:i,incompatibleStreamsAttributes:r}){e.Yt[Bu]=t,i.length&&(e.fire(ho.AVAILABLE_STREAMS_CHANGED),e.fire(ho.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,{incompatibleStreams:i,incompatibleStreamsAttributes:r})),n()}))})))},n.wn=function(t,e){if(this.sorcerer&&this.sorcerer.destroy(),this.sorcerer=new hu(t,e),this.sorcerer.isInstanceofManagedMediaSource(this.sorcerer.mediaSource)){const e=document.createElement("source");e.type="video/mp4",e.src=URL.createObjectURL(this.sorcerer.mediaSource),t.appendChild(e);const{src:n,mime:i}=this.et.externalDisplayFiles.AirPlay,r=document.createElement("source");r.type=i,r.src=n,t.appendChild(r)}else t.src=URL.createObjectURL(this.sorcerer.mediaSource);this.successfulSegments=this.sorcerer.getSuccessfulSegments(),this.failedSegments=this.sorcerer.getFailedSegments(),this.Fe()},n.Fe=function(t=!1){this.Tn(500),clearTimeout(this.je),this.je=setTimeout((()=>{this.Tn(5e3)}),6e4),t&&this.dn()},n.Tn=function(t){clearInterval(this.$e),this.$e=setInterval((()=>{this.dn()}),t)},n.Ue=function(t=!1){let e=t?1/0:0;for(const n in this.Yt)this.Yt[n].length&&(e=Math[t?"min":"max"](e,this.Yt[n][0].duration));return e},n.Ge=function(t){return this.Xe(t).then((()=>{const e=this.video&&this.video.metadata.percentShown?this.video.metadata.percentShown:null,n=this.Ve.filterStreams(this.Yt[Bu],this.Y.clientWidth,this.Y.clientHeight,e).length-1;let i=this.Yt[Bu][0];this.xe.length&&(i=this.Yt[Bu][this.xe[0]]),void 0!==this.fe&&n<=this.Yt[Bu].indexOf(t.video[this.fe])&&(i=this.Yt[Bu][n]),this.wn(this.Y,{duration:this.Ue(),fetcherTimeout:8e3,fetcherRetryAbortErrors:!1,disableMMS:this.tt.disableMMS}),this.sorcerer.on("srcnotsupported",(()=>{this.fire(ho.SCANNER_ERROR,{reason:"this codec is not supported for mediasource playback"})})),this.Y.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",(t=>{const e=!this.Y.webkitCurrentPlaybackTargetIsWireless,n="closed"===this.sorcerer.readyState;e&&n&&this.fire(ho.SCANNER_ERROR,{reason:"MediaSource was closed during AirPlay, falling back to Native HLS playback."})}));const r=this.Yt[Bu].indexOf(i);for(const t in this.Yt)this.Yt[t].forEach(((e,n)=>{let i=this.Cn(n,"init",t);this.En(n,t)&&this.Yt[t][n].init_segment_range&&(i={url:i,byteRange:this.kn(n,"init",t)}),this.sorcerer.addStream(`${e.mime_type}; codecs="${this.Yt[t][n].codecs}"`,i)}));this.sorcerer.video.switchTo(r,!0,{reasonForSwitch:7}),this.sorcerer.on("queued",this.Sn.bind(this)),this.sorcerer.on("downloadabort",this.An.bind(this)),this.sorcerer.on("appendbufferend",this.Nn.bind(this)),this.sorcerer.on("downloadstart",this.Mn.bind(this)),this.sorcerer.on("downloadend",this.On.bind(this)),this.sorcerer.on("downloaderror",this.In.bind(this)),this.sorcerer.on("downloadtimeout",this.Rn.bind(this)),this.sorcerer.on("quotaexceedederror",this.Ln.bind(this)),this.sorcerer.video.on("streamchange",this.xn.bind(this)),this.sorcerer.video.on("streamchangestart",this.Dn.bind(this)),this.sorcerer.mediaSource.addEventListener("sourceended",(()=>{this.fire(ao.PROGRESS)}))}))},n.bn=function(t){const e=t.slice(0);return e.sort((function(t,e){const n=t.width*t.height*t.avg_bitrate,i=e.width*e.height*e.avg_bitrate;return t.width===e.width&&t.height===e.height?t.framerate-e.framerate:n-i})),e},n.yn=function(t){const e=t.slice(0);return e.sort((function(t,e){return t.avg_bitrate*t.channels-e.avg_bitrate*e.channels})),e},n.En=function(t,e){return!!this.Yt[e][t].segments[0].range},n.kn=function(t,e,n){return"init"===e?this.Yt[n][t].init_segment_range:this.Yt[n][t].segments[e].range},n.Pn=function(t,e,n=Bu){return"init"===e?0:this.Yt[n][t].segments[e].start},n.Cn=function(t,e,n=Bu,i=!1){if("init"===e&&!this.Yt[n][t].init_segment_url)return function(t){return Io(t).buffer}(this.Yt[n][t].init_segment);let r=this.Te;const o=this.Lt.base_url&&-1!==this.Lt.base_url.indexOf("//");if(o&&(r=this.Lt.base_url),this.Lt.base_url&&!o&&(r+=this.Lt.base_url),this.Yt[n][t].base_url&&(r+=this.Yt[n][t].base_url),this.En(t,n))return r;if("init"===e)return r+=this.Yt[n][t].init_segment_url,r;const s=this.Yt[n][t].segments[e];s.url&&(r+=s.url);const a=-1!==r.indexOf("akamaized"),u=-1===r.indexOf("?")?"?":"&";return i&&this.CMCDLogger&&a&&(r+=`${u}${this.CMCDLogger.getLogAsQueryParam(s,n)}`),r},n.Bn=function(t,e,n){return`${t}:${e}:${n}`},n.$n=function(t,e,n){return e===this.Yt[n][t].segments.length-1},n.jn=function(t,e){const n=[],i=this.ve[t];if(!i)return n;for(let r=0;r<i.length;r++)this.pe.has(this.Bn(i[r],t,e))&&n.push(i[r]);return n},n.getCurrentStream=function(t="video"){return this.Kt(0,t)},n.Kt=function(t=0,e=Bu){return void 0!==this.sorcerer&&(t=this.sorcerer[e].activeStreamIndex),this.Yt[e][t]},n.He=function(t){let e=this.Yt[Bu];const n=this.video&&this.video.metadata.percentShown?this.video.metadata.percentShown:null;if(e=this.Ve.filterStreams(e,this.Y.clientWidth,this.Y.clientHeight,n),0===e.length)return r.resolve({index:!1,reasonForSwitch:null});if(this.De[Bu])return r.resolve({index:!1,reasonForSwitch:null});const i=e[e.length-1];if(i.id!==this.Ce){this.Ce=i.id;const t={index:this.Yt[Bu].indexOf(i),streams:this.Yt[Bu]};this.fire(ho.STREAM_TARGET_CHANGE,t)}const o=this.Kt();return this.Ve.shouldPowerUp(e,o,t).then((t=>!1===t.index?this.Ve.shouldPowerDown(e,o).then((t=>!1===t.index?{index:t.index,reasonForSwitch:t.reasonForSwitch}:{index:this.Yt[Bu].indexOf(e[t.index]),reasonForSwitch:t.reasonForSwitch})):{index:this.Yt[Bu].indexOf(e[t.index]),reasonForSwitch:t.reasonForSwitch}))},n.Vn=function(t=Bu){return this.sorcerer.allowSegmentRequests?this.He(!1).then((e=>{let{index:n,reasonForSwitch:i}=e,r={reasonForSwitch:i};t===$u&&(!1===n&&(n=this.sorcerer[Bu].activeStreamIndex),n=this.Ve.getAudioIndexFromVideo(this.Yt.video,this.Yt.audio,n),this.sorcerer[$u].activeStreamIndex===n&&(n=!1));let o=!1;!1!==n&&(o=n>this.sorcerer[t].activeStreamIndex,this.De[t]=!0,this.sorcerer[t].switchTo(n,!0,r).then((()=>{this.De[t]=!1})).catch(console.error));let s=o;const a=this.Ve.getSegmentsToLoad(s,t,this.Kt()),u=this.sorcerer[t].activeStreamIndex;for(let e=0;e<a.length;e++){const n=this.Cn(u,a[e],t,!0),i=this.jn(a[e],t);if(i.length>1)continue;if(1===i.length&&u<=i[0])continue;const r=this.$n(u,a[e],t),o={stream:u,segment:a[e],type:t},s=this.sorcerer[t].streams[u];let l=n;this.En(u,t)&&(l={url:l,byteRange:this.kn(u,a[e],t)});const c=this.Pn(u,a[e],t),d=t===Bu;let h=null;0===u&&t===Bu&&(h=16e3);let f=null;try{f=this.Yt[t][u].segments[a[e]].size}catch(t){}s.addSegment(l,{identifier:o,isFinalSegment:r,priority:c,includeWithBandwidthChecks:d,timeout:h,size:f}).catch((t=>{}))}})).catch((t=>{throw t})):r.resolve()},n.hn=function(){for(const t in this.Yt){if(0===this.Yt[t].length)continue;let e=0;const n=this.Ve.getSegmentsToLoad(!1,t,this.Kt());n.length>0&&(e=n[0]);let i=this.Be;t===$u&&(i=this.Ve.getAudioIndexFromVideo(this.Yt.video,this.Yt.audio,this.Be));const r=this.Bn(i,e,t);if(this.pe.has(r))continue;const o=this.Cn(i,e,t),s=this.$n(i,e,t),a=this.sorcerer[t].streams[i],u={stream:i,segment:e,type:t},l=!0;let c=o;this.En(i,t)&&(c={url:c,byteRange:this.kn(i,e,t)}),a.addSegment(c,{identifier:u,isFinalSegment:s,loadOnly:l,priority:0}).catch((t=>{}))}},n.Ze=function(){const t=this.Y.webkitCurrentPlaybackTargetIsWireless,e="closed"===this.sorcerer.readyState;return t||e?r.resolve():this.we&&this.we.then((()=>{const t=[];for(const e in this.Yt)this.Yt[e].length>0&&t.push(this.Vn(e));return r.all(t)}))},n.Sn=function(t){this.pe.add(this.Bn(t.stream,t.segment,t.type)),this.ve[t.segment]||(this.ve[t.segment]=[]),-1===this.ve[t.segment].indexOf(t.stream)&&this.ve[t.segment].push(t.stream)},n.Fn=function(t){(this.ve[t.segment]||[]).forEach((e=>{this.pe.delete(this.Bn(e,t.segment,t.type))}))},n.An=function(t){this.ve[t.segment]&&this.Fn(t)},n.Nn=function(t){this.fire(ho.APPEND_BUFFER_END,{identifier:t}),this.Fe(),this.Me&&t.stream===this.Ne&&(this.Me=!1,this.Oe=this.Yt[Bu][t.stream].segments[t.segment].start),this.ve[t.segment]&&this.Fn(t);const e=this.Ve.canPlayFromTimeInStream(this.Ee,this.Kt());null!==this.Ee&&this.ke&&e&&(this.ke(this.Ee),this.ke=null),this.me&&this.me.onSegmentAppended()},n.Mn=function(t){this.fire(ho.DOWNLOAD_START,{identifier:t})},n.On=function(t,e){this.fire(ho.DOWNLOAD_END,{identifier:t,data:e})},n.In=function(t,e){this.Fn(t);let n=ho.DOWNLOAD_ERROR;410===e&&(n=ho.MEDIA_URL_EXPIRED),502===e&&this.video.metadata.drm&&(n=ho.DRM_FAILURE),this.fire(n,{identifier:t,status:e})},n.Rn=function(t,e){this.fire(ho.DOWNLOAD_TIMEOUT,{identifier:t,data:e}),this.ve[t.segment]&&this.Fn(t),t.type===Bu?this.De[Bu]=!1:t.type===$u&&(this.De[$u]=!1)},n.Ln=function(t){this.fire(ho.QUOTA_EXCEEDED_ERROR,{buffered:t})},n.Dn=function(t,e){const n={previousStreamIndex:this.Lt.video.indexOf(this.Yt[Bu][t]),index:this.Lt.video.indexOf(this.Yt[Bu][e]),streams:this.Lt.video};this.fire(ho.STREAM_CHANGE_START,n)},n.xn=function(t,e){var n;if(null==(n=this.Lt)||!n.video)return;t>this.Ne&&this.currentTime>0&&(this.Me=!0),this.Ne=t;const i={index:this.Lt.video.indexOf(this.Yt[Bu][t]),streams:this.Lt.video,metadata:e};this.fire(ho.STREAM_CHANGE,i)},n.gn=function(t=[],e=[],n={}){const i=this.et.drmHandler;if(!i)return;const r=function(t,e){const n={audio:t.map((t=>`${t.mime_type};codecs="${t.codecs}"`)),video:[]};for(let t=0;t<e.length;t++){const[i,r]=e[t].codecs.split(",");n.video[t]=`${e[t].mime_type};codecs="${i}"`,r&&n.audio.push(`audio/mp4;codecs="${r}"`)}return n}(e,t);i.init(this,r,n),i.setFallbackCallback((()=>{this.paused||this.Y.pause()}))},n._e=function(){var t;null!=(t=this.tt.tests)&&null!=(t=t.cmcd)&&t.group&&(this.CMCDLogger=new Eu(this,this.tt.sessionMetadata))},n.ze=function(){return ht("module/media-manifest.js")},X(e,[{key:"preload",get:function(){return this.ut},set:function(t){this.vn(this.ut,t),this.ut=t}},{key:"videoElement",get:function(){return this.Y}},{key:"videoWidth",get:function(){const t=this.Kt();return t?t.width:this.Y.videoWidth}},{key:"videoHeight",get:function(){const t=this.Kt();return t?t.height:this.Y.videoHeight}},{key:"restrictedStreamIndexes",get:function(){return this.xe},set:function(t){this.xe.join(",")!==t.join(",")&&(this.xe=t,this.we.then((()=>this.lockStreamIndexes())).catch(console.error))}},{key:"currentTime",get:function(){return null!==this.Ee?this.Ee:this.Y.currentTime},set:function(t){(this.ye||0!==t)&&this.seekToTime(t)}},{key:"downloadSpeed",get:function(){return this.Pe}},{key:"brainDebug",get:function(){const t=this.sorcerer&&this.Ve&&this.Ve.getCurrentSpeed?this.Ve.getCurrentSpeed():null;let e=this.sorcerer&&this.sorcerer.getResponseSpeeds?this.sorcerer.getResponseSpeeds():null;return e=e?e.slice(-20):[],{currentSpeed:t,responseSpeeds:e}}},{key:"isLowerProfileAvailable",get:function(){return this.sorcerer?this.sorcerer[Bu].activeStreamIndex>0:null}},{key:"videoStreams",get:function(){return this.Yt[Bu]}}],[{key:"displayName",get:function(){return"MediaSourceScanner"}},{key:"supportedVideoTypes",get:function(){return["application/vnd.vimeo.dash+json","video/vnd.mpeg.dash.mpd"]}}])}(ts),Vu=function(){function t(t){this.ee=t,this.Hn=0,this.Un=setInterval(this.zn.bind(this),500)}var e=t.prototype;return e.destroy=function(){clearInterval(this.Un)},e.zn=function(){const t=this.ee.videoElement,e=this.ee.getCurrentStream();if(!t||!e)return;this.Hn=t.currentTime;const n=this.Xn();null!==n&&(this.Gn=n,this.ee.fire(fo.LATENCY_UPDATED,n),this.ee.lowLatencyMode&&(Se.browser.ie||Se.browser.safari||null!==this.ee.presentationDelay&&(t.playbackRate=1)))},e.Wn=function(){const t=this.ee.getCurrentStream();return t?t.edge+t.age:null},e.Xn=function(){const t=this.Wn();return null===t||0===this.Hn?null:t-this.Hn},e.qn=function(){const t=this.ee.videoElement,e=this.ee.getCurrentStream();if(!t||!e)return 0;const n=t.buffered.length;return n?t.buffered.end(n-1):e.edge-this.Hn},X(t,[{key:"latency",get:function(){return this.Gn}},{key:"liveSyncPosition",get:function(){const t=this.Wn(),e=this.ee.presentationDelay,n=this.ee.getCurrentStream();return null===t||null===e||null===n?0:t-e-this.edgeStalled}},{key:"edgeStalled",get:function(){const t=this.ee.getCurrentStream();if(!t)return 0;const e=3*(this.ee.lowLatencyMode&&t.partTargetDuration||t.targetDuration);return Math.max(t.age-e,0)}}])}();const Fu=[1,2,5];let Hu=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).Yn=.4,i.Kn=.6,i.consecutiveStreamIndex={},i.isNewPlayback=!0,i}q(e,t);var n=e.prototype;return n.optimalStream=function(t,e){var n,i;this.isNewPlayback&&((null==(i=this.scanner.sorcerer)?void 0:i.getResponseSpeeds().length)>=2&&(this.isNewPlayback=!1));if(1===t.length)return{index:0,reasonForSwitch:6};if(this.isNewPlayback){let e=0,n=0,i=this.scanner.videoElement.clientHeight,r=[];for(let o=0;o<t.length;o++){let s=t[o].height;r.push(s),s<i&&s>n&&(e=o,n=t[o].height)}return e=Math.max(0,e-1),{index:e,reasonForSwitch:4}}const r=this.getCurrentSpeed();let o=e,s=e;for(let e=0;e<t.length;e++)r*this.Yn>t[e].bandwidth&&(o=e),r*this.Kn>t[e].bandwidth&&(s=e);const a=e<o?o:s;this.Zn(a),this.consecutiveStreamIndex[a]++;const u=this.scanner.lowLatencyMode?.5:1.5,l=this.scanner.segmentLength*u,c=this.scanner.videoElement,d=c.buffered,h=null==(n=this.tt.mediaSourceScanner)?void 0:n.droppedFrameSwitchPercent;return d&&0!==d.length?d.end(d.length-1)-c.currentTime<l?{index:0!==e?e-1:0,reasonForSwitch:1}:e>0&&!isNaN(h)&&this.hasTooManyDroppedFrames(e,this.scanner.getCurrentStream(),h)?(this.blacklist(e),this.scanner.fire(ho.DROPPED_FRAME_PERCENT_EXCEEDED),{index:e-1,reasonForSwitch:2}):this.consecutiveStreamIndex[a]>2&&a!==e?{index:a,reasonForSwitch:3}:{index:e,reasonForSwitch:null}:{index:0,reasonForSwitch:5}},n.getCurrentSpeed=function(){var t;return null==(t=this.scanner.sorcerer)?void 0:t.getCurrentSpeed({type:"average",howMany:5,weights:Fu})},n.Zn=function(t){this.consecutiveStreamIndex[t]||(this.consecutiveStreamIndex[t]=0);for(const e in this.consecutiveStreamIndex)this.consecutiveStreamIndex.hasOwnProperty(e)&&parseInt(e,10)!==t&&(this.consecutiveStreamIndex[e]=0)},n.getAvailabilityStart=function(t,e){return this.Jn(t,e.edge)},n.getAvailabilityEnd=function(t,e){return this.Qn(t,e.edge)},n.canPlayFromTimeInStream=function(t,e){return!!e&&this.isTimeInBuffer(t,this.scanner.Y.buffered,this.scanner.Y.duration)},n.getSegmentsToLoad=function(t,e,n){var i,r;const{currentTime:o,liveTailTime:s,sorcerer:a,bufferTarget:u,atLiveEdge:l}=this.scanner,c=null==(i=a[e])||null==(i=i.sourceBuffer)?void 0:i.buffered,d=null!=c&&c.length?c.start(c.length-1):0,h=gt(Math.max(o,d),c);if(!t&&h>=u)return[];const f=Math.max(o,s),p=l?n.edge:f,v=this.Jn(p,n.edge),m=this.Qn(p,n.edge),_=this.scanner.lowLatencyMode&&(null==(r=n.parts)?void 0:r.length),b=[].concat(et(n.segments),et(n.parts??[])),y=(_?n.parts:b).filter((e=>!!e.uri&&(t||!this.scanner.isSegmentAdded(e))&&!(e.end<v||e.start>m)));return _&&y.forEach(((t,e)=>{for(;t=t.dependentOn;)y.includes(t)||this.scanner.isStreamSegmentAdded(t)||y.splice(e,0,t)})),a[e].activeStreamIndex,y},n.Jn=function(t,e){const n=e-this.ti();return Math.max(0,Math.min(t,n))},n.Qn=function(t,e){const n=t+this.scanner.bufferTarget;return Math.min(n,e)},n.ti=function(){return this.scanner.presentationDelay||this.scanner.manifest.presentationDelay},X(e,[{key:"displayName",get:function(){return"Live"}}])}(pu);const Uu=["disabled","hidden","showing"],zu=["subtitles","captions","descriptions","chapters","metadata"],Xu=["ar","fa","he","iw","ku","ps","sd","ur","yi"],Gu=new Zn,Wu=new Zn;let TelecineTextTrack=function(t){function TelecineTextTrack({kind:e,src:n=null,label:i="",language:r="",id:o=Ot(),provenance:s=""},a){var u;if(u=t.call(this)||this,-1===zu.indexOf(e))throw $o(12,"SYNTAX_ERR","Syntax Error");return Object.defineProperties(u,{kind:{value:e,enumerable:!0},label:{value:i,enumerable:!0},language:{value:r,enumerable:!0},id:{value:`${o}`,enumerable:!0},rtl:{value:-1!==Xu.indexOf(r.substr(0,2)),enumerable:!0},provenance:{value:s,enumerable:!0}}),u.video=a,u.src=n,u.gt=!1,Gu.set(u,"disabled"),u}return q(TelecineTextTrack,t),TelecineTextTrack.prototype.dispatchEvent=function(t){this.fire(t,{target:this})},X(TelecineTextTrack,[{key:"mode",get:function(){return Gu.get(this)},set:function(t){if(Uu.indexOf(t)>-1){if(this.gt=!0,Gu.get(this)===t)return;Gu.set(this,t),this.video.currentScanner&&this.video.currentScanner.setModeForTrack(this,t),this.dispatchEvent("modechange")}}},{key:"src",get:function(){return Wu.get(this)},set:function(t){Wu.set(this,t),this.video.fire(ho.TEXT_SRC_UPDATE,this)}},{key:"cues",get:function(){return this.video.currentScanner?this.video.currentScanner.getCuesForTrack(this):[]}},{key:"activeCues",get:function(){return this.video.currentScanner?this.video.currentScanner.getActiveCuesForTrack(this):[]}},{key:"trackElement",get:function(){return document.getElementById(`telecine-track-${this.id}`)}}])}(ti);function qu(t){var e=/^(?:(\d{2,}):)?(\d{2}):(\d{2})[,.](\d{3})$/.exec(t);if(!e)return-1;var n=parseInt(e[4],10)/1e3;return n+=parseInt(e[3],10),e[2]&&(n+=60*parseInt(e[2],10)),e[1]&&(n+=60*parseInt(e[1],10)*60),n}function Yu(t){var e=0,n=t.split(/(?:(?:\r\n|\n){2,})/),i=[],r=null;do{0===e&&/^\uFEFF?WEBVTT(?: .*)?/.test(n[e])&&e++,(r=/^(?:(.*)(?:\r\n|\n))?([\d:,.]+) --> ([\d:,.]+)(.*)?(?:\r\n|\n)([\s\S]*)/.exec(n[e]))&&i.push({startTime:qu(r[2]),endTime:qu(r[3]),text:r[5]}),e++}while(e<n.length);return i}function Ku(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function Zu(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function Ju(t,e){return t&&t.then?t.then(e):e(t)}function Qu(){}function tl(t,e){var n=t();return n&&n.then?n.then(e):e(n)}function el(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function nl(t,e){if(!e)return t&&t.then?t.then(Qu):r.resolve()}const il=Se.browser.ie||Se.browser.edge?.5:.2,rl=8e3;let ol=function(t){function e(e,n={}){var i,r;return(r=t.call(this,e,n)||this).ei=!1,r.ni=!1,r.ii=!1,r.ri=!0,r.oi=!1,r.si=2e3,r.li=1e4,r.reset(),r.defaultPresentationDelay=n.presentationDelay??(n.lowLatencyMode?3:12),r.defaultBufferTarget=n.lowLatencyMode?3:12,r.bufferTarget=r.defaultBufferTarget,r.presentationDelay=r.defaultPresentationDelay,r.lowLatencyMode=n.lowLatencyMode??!1,r.disableDeltaUpdates=n.disableDeltaUpdates??!1,Object.defineProperty(r,"eventIsLowLatency",{value:n.lowLatencyMode??!1,writable:!1}),Object.defineProperty(r,"eventHasDVREnabled",{value:n.dvrEnabled??!1,writable:!1}),r.ci=null==(i=r.tt.tests)||null==(i=i.llhls_timeout)?void 0:i.group,window.addEventListener("online",(()=>{r.play()})),r}q(e,t),e.supported=function(t){const e=_t(t);return void 0!==e&&e.isTypeSupported};var n=e.prototype;return n.deactivate=function(){t.prototype.deactivate.call(this),this.reset()},n.reset=function(){var t,e,n;null==(t=this.di)||t.destroy(),null==(e=this.hi)||e.stop(),null==(n=this.fi)||n.destroy(),this.pi=yt(),this.di=null,this.Yt={},this.Yt.video=[],this.Yt.audio=[],this.Ne=0,this.mi=!1,this._i=!1,this.bi=0,this.yi=Number.NEGATIVE_INFINITY,this.gi=-1,this.Ee=null,this.ke=null,this.wi=new Hu(this,this.tt),this.fi=new Vu(this),this.xe=[],this.De={},this.Ti={},this.Ci={},this.Ei={},this.ki={}},n.endLive=function(){var e;this.mi=!1,this._i=!0,this.eventHasDVREnabled&&!this.atLiveEdge||(null==(e=this.hi)||e.stop(),this.di&&(this.di.abortFetches(),this.di.endOfStream()),this.eventHasDVREnabled||t.prototype.deactivate.call(this),this.fire(ao.ENDED))},n.Si=function(){this.mi||(this.mi=!0,this.fire(fo.STREAM_ONLINE))},n.Ai=function(){this.mi&&(this.mi=!1,this.fire(fo.STREAM_OFFLINE))},n.Ni=function(t){t?this.Si():this.Ai()},n.Mi=function(t){try{const e=this;if(e._i)return Ku();e.hi&&(e.hi.stop(),e.hi.off());let n=[e.ze()];return e.video.metadata.p2pReady&&n.push(e.video.metadata.p2pReady),Ku(r.allSettled(n),(function([n]){const{M3U8Loader:i,PLAYLIST_UPDATE:o,PLAYLIST_ERROR:s,convertTsCodecs:a}=n.value;return e.hi=new i({disableDeltaUpdates:e.disableDeltaUpdates}),e.hi.lowLatencyMode=e.lowLatencyMode,e.hi.dvrEnabled=e.eventHasDVREnabled,e.hi.on(o,e.Oi.bind(e)),e.hi.on(s,(t=>{e.Ai()})),Ju(Zu((function(){const n=e.video.metadata.playlistRefreshUrl;return Ku(e.hi.start(t,n),(function(t){e.Lt=t,e.Si()}))}),(function(t){throw e.Ai(),e.endLive(),t})),(function(t){e.Yt.video=sl(function(t){return t.filter((e=>e.codecs.split(".")[0]===t[0].codecs.split(".")[0]))}(function(t){const e=t.slice(0);return e.sort((function(t,e){const n=t.width*t.height*t.avg_bitrate,i=e.width*e.height*e.avg_bitrate;return t.width===e.width&&t.height===e.height?t.framerate-e.framerate:n-i})),e}(e.Lt.video))),e.Yt.audio=sl(function(t){return t.filter(((t,e,n)=>n.indexOf(t)===e))}(function(t,e){return t.reduce(((t,n,i,r)=>t.concat(e(n,i,r))),[])}(e.Yt.video,(({audio:t})=>t))));const{index:n,reasonForSwitch:i}=e.Ii("video",!0);let o={reasonForSwitch:i};return Ku(e.hi.switchTo("video",n),(function(){let t,i=[];if(e.Yt.audio.length){let{index:n}=e.Ii("audio",!0);t=n,i.push(e.hi.switchTo("audio",t))}if(e.manifest.captions&&e.manifest.captions.length>0){const{index:t}=e.Ii("subtitles",!0);i.push(e.hi.switchTo("subtitles",t))}return Ku(r.all(i),(function(){var i,r;null==(i=e.di)||i.destroy(),e.di=new hu(e.Y,{fetcherRetryAbortErrors:!1,fetcherTimeout:rl,disableMMS:e.tt.disableMMS}),e.di.initFrameDropper(),e.Yt.video.forEach((t=>{e.di.addStream(a(xo(e.hi.activeStream("video").mimeType,t.codecs)),t.initSegment)})),e.Yt.audio.forEach((t=>{e.di.addStream(a(xo(e.hi.activeStream("audio").mimeType,t.codecs)),t.initSegment)})),e.fire(ho.STREAMS_LOADED,e.Yt),e.manifest.captions&&e.manifest.captions.length>0&&(e.manifest.captions.forEach(e.Ri.bind(e)),e.fire(ho.TEXT_TRACKS_AVAILABLE)),e.Li(),e.di.video.switchTo(n,!1,o),e.Yt.audio.length&&(null==(r=e.di.audio)||r.switchTo(t,!1))}))}))}))}))}catch(t){return r.reject(t)}},n.xi=function(){try{const t=this;return Ku(function(t){if(t&&t.then)return t.then(Qu)}(Zu((function(){return Ku(t.hi.update(),(function(){t.Si()}))}),(function(){t.Ai()}))))}catch(t){return r.reject(t)}},n.Li=function(){this.di.video.on("streamchange",this.xn.bind(this)),this.di.video.on("streamchangestart",this.Dn.bind(this)),this.di.on("downloadend",this.On.bind(this)),this.di.on("downloadtimeout",this.Rn.bind(this)),this.di.on("downloadabort",this.Di.bind(this)),this.di.on("appendbufferend",this.Pi.bind(this))},n.On=function(t,e){if(t&&t.isInitSegmentRequest)return;const n=this.Kt();e.extraContext={liveAvail:{start:this.wi.getAvailabilityStart(this.currentTime,n),end:this.wi.getAvailabilityEnd(this.currentTime,n)}},this.fire(ho.DOWNLOAD_END,{identifier:t,data:e})},n.Rn=function(t,e){t&&t.isInitSegmentRequest||(this.Bn(t),this.Bi(t),this.De[t.type]=!1,this.fire(ho.DOWNLOAD_TIMEOUT,{identifier:t,data:e}))},n.Di=function(t){t&&t.isInitSegmentRequest||(this.Bn(t),this.Bi(t))},n.Dn=function(t,e){const n={previousStreamIndex:this.Yt.video.indexOf(this.Yt.video[t]),index:this.Yt.video.indexOf(this.Yt.video[e]),streams:this.Yt.video};this.fire(ho.STREAM_CHANGE_START,n)},n.xn=function(t,e={}){this.fire(ho.STREAM_CHANGE,{index:t,streams:this.Yt.video,metadata:e})},n.$i=function(t,e){for(let n=0;n<(null==e?void 0:e.length);n++)if(e.start(n)>t)return n},n.Pi=function(t){const{type:e,stream:n}=t,i=this.sorcerer[e].sourceBuffer.buffered,r=this.ji(t);if(r&&i.length&&(this.Yt[e][n].playlist.timeOffset=i.end(i.length-1)-(r.end-r.timeOffset)),null===this.Ee||!this.ke)return;const o=this.$i(this.currentTime,i),s=(null==i?void 0:i.start(o))??0,a=gt(s,i);if(void 0!==o&&a>this.bufferTarget)return Number((s-this.currentTime).toFixed(3)),void(this.currentTime=s);this.Ee<this.liveTailTime&&(this.Ee=this.liveTailTime),this.wi.canPlayFromTimeInStream(this.Ee,this.Kt())&&(this.ke(this.Ee),this.ke=null)},n.Bn=function({type:t,segment:e,part:n}){return`${t}_${e}_${n}`},n.ji=function({type:t,stream:e,segment:n,part:i}){const r=this.Yt[t][e].getSegmentBySN(n);return(null==r?void 0:r.getPart(i))||r},n.Bi=function(t){if(t.part>0){const e=J(J({},t),{},{part:t.part-1});this.Bi(e)}const e=this.Bn(t);delete this.Ti[e]},n.isSegmentAdded=function(t){return!!this.Ti[this.Bn(t)]},n.isStreamSegmentAdded=function(t){const e=this.Bn(t),n=this.di[t.type].activeStreamIndex;return!!this.Ti[e]&&this.Ti[e].stream===n},n.Oi=function(t,e){try{var n;const r=this,{type:o}=t;var i;return null==(n=r.di)||n.setLiveSeekableRange(r.liveTailTime,r.liveEdgeTime),r.fire(ho.STREAM_UPDATED,t),"subtitles"===o?((r.ni||r.ii)&&(null==(i=r.manifest.captions)?void 0:i.length)>0&&r.Vi(),Ku()):(e||r.Vn(o),r.Ni(r.Fi(o)||!r.Hi()),r.Ui(),(r.lowLatencyMode||r.video.metadata.p2pReady)&&r.zi(),Ku())}catch(t){return r.reject(t)}},n.Ri=function({label:t,language:e},n){if(!this.Xi){const i=new TelecineTextTrack({label:t,id:n,kind:"captions",language:e},this.et);this.et.textTracks=Oo([i]),this.Xi=this.addTextTrack(i)}},n.Gi=function(t){return`${t.type}_${t.mediaSequenceNumber}`},n.Wi=function(t){const e=this.Gi(t),n=this.Ci[e],i=t.end>=this.currentTime&&t.start<=this.currentTime+this.bufferTarget;return this.ni&&!n&&i},n.qi=function(t){const e=this.Gi(t),n=this.Ei[e],i=t.end>=this.liveEdgeTime-t.duration&&t.start<=this.liveEdgeTime+this.bufferTarget;return this.ii&&!n&&i},n.Yi=function(t){try{const e=this,n=e.Gi(t);return Ku(tl((function(){if(!e.ki[n])return Ku(Qt(t.url).text(),(function(t){const i=Yu(t),r=function(t){const e=t.match(/=MPEGTS:(\d+),/);return(e&&e[1]||0)/9e4}(t),o=i.map((t=>(t.startTime=r+t.startTime,t.endTime=r+t.endTime,new(window.VTTCue||window.TextTrackCue)(t.startTime,t.endTime,t.text))));e.ki[n]=o}))}),(function(){return e.ki[n]})))}catch(t){return r.reject(t)}},n.Vi=function(){try{const t=this;return Ku(t.pi,(function(){t.manifest.captions&&t.manifest.captions[0].segments.forEach(el((function(e){const n=t.Gi(e),i=t.Wi(e),r=t.qi(e);return function(){var o=function(){if(i||r)return Ku(t.Yi(e),(function(e){i&&(t.Ci[n]=!0,e.forEach((e=>{t.Xi.addCue(e)}))),r&&(t.Ei[n]=!0,t.fire(ho.SEGMENT_CUES_LOADED,e))}))}();if(o&&o.then)return o.then(Qu)}()})))}))}catch(t){return r.reject(t)}},n.Fi=function(t){var e;const n=this.Kt(t),i=3*(this.lowLatencyMode?3:1);return(null==(e=n.playlist)?void 0:e.misses)<i},n.Ze=function(){try{const t=this;return Ku(t.pi,(function(){const e=t.Y.webkitCurrentPlaybackTargetIsWireless,n="closed"===t.di.readyState;if(!e&&!n)for(const e in t.Yt)t.Yt[e].length>0&&t.Vn(e)}))}catch(t){return r.reject(t)}},n.Vn=function(t){try{const e=this;return Ku(e.pi,(function(){if(!e.di.allowSegmentRequests)return;const{index:n,reasonForSwitch:i}=e.Ii(t);let r;return tl((function(){if(n>=0&&n!==e.sorcerer[t].activeStreamIndex)return r=n>e.sorcerer[t].activeStreamIndex,e.De[t]=!0,Ku(e.hi.switchTo(t,n),(function(){let r={reasonForSwitch:i};e.sorcerer[t].switchTo(n,!0,r).then((()=>{e.De[t]=!1})).catch(console.error)}))}),(function(){return Ku(lt(0),(function(){const n=e.lowLatencyMode&&void 0!==r,i=e.di[t].activeStreamIndex,o=e.Kt(t,i),s=e.wi.getSegmentsToLoad(n,t,o),a=e.Ki();s.forEach((n=>{const r=e.Bn(n),s={type:t,stream:i,segment:n.segment,part:n.part},u="video"===t&&!n.hint;let l=a;if(n.hint&&e.ei&&n.start>e.currentTime){const t=1e3*(n.start-e.currentTime);l=Math.min(rl,t+a)}const c=o.avg_bitrate/8*n.duration,d=e.sorcerer[t].streams[i],h=e.Zi(n);d.addSegment(h,{identifier:s,includeWithBandwidthChecks:u,priority:n.programDateTime,excludeConnectTime:e.lowLatencyMode,timeout:e.ci||e.lowLatencyMode?l:rl,size:e.ci||e.lowLatencyMode?c:void 0}).catch((t=>{t instanceof is||t instanceof Rt||e.Bi(s)})),e.Ti[r]=s}))}))}))}))}catch(t){return r.reject(t)}},n.Zi=function(t){var e;let n=null==t?void 0:t.url;const i=null==(e=this.hi)?void 0:e.baseUrl;return i&&n&&!n.startsWith(i)&&(n=`${i}${t.uri}`),n},n.Ii=function(t,e=!1){var n;let i;if(this.De[t])return{index:-1,reasonForSwitch:null};if("subtitles"===t)return i=this.hi.activeStream("video"),{index:i.subtitles[i.currentRenditions.subtitles].index,reasonForSwitch:null};if("audio"===t)return i=this.hi.activeStream("video"),{index:i.audio[i.currentRenditions.audio].index,reasonForSwitch:null};if(!e&&kt(this.bi)<this.si)return{index:this.Ne,reasonForSwitch:null};this.bi=Tt();const r=null==(n=this.video)||null==(n=n.metadata)?void 0:n.percentShown,o=this.wi.filterStreams(this.Yt.video,this.Y.clientWidth,this.Y.clientHeight,r);if(0===o.length)return{index:this.Ne,reasonForSwitch:null};const{index:s,reasonForSwitch:a}=this.wi.optimalStream(o,this.Ne),u=o[s],l=this.Yt.video.indexOf(u);if(l>=0&&(e||l!==this.Ne)){if(l>this.Ne&&kt(this.yi)<this.li)return{index:this.Ne,reasonForSwitch:a};l<this.Ne&&(this.yi=Tt());const t={index:l,streams:this.Yt.video};return this.fire(ho.STREAM_TARGET_CHANGE,t),this.Ne=l,{index:l,reasonForSwitch:a}}return{index:this.Ne,reasonForSwitch:a}},n.getCurrentStream=function(t="video"){return this.Kt(t)},n.Kt=function(t="video",e=0){return void 0!==this.di&&null!==this.di&&(e=this.di[t].activeStreamIndex),this.Yt[t][e]},n.zi=function(){if(this.Y.currentTime===this.gi&&Tt()-this.Ji>=1e3&&this.Qi()){const t=`Jumping forward 0.1s because of stall at time of ${this.Y.currentTime}`;this.fire(fo.STALL_JUMP,{msg:t}),this.Y.currentTime+=.1}this.gi=this.Y.currentTime,this.Ji=Tt()},n.Qi=function(){return this.Y.readyState!==this.Y.HAVE_NOTHING&&!!this.Y.buffered.length&&!this.Y.paused&&this.tr(this.Y.buffered,this.Y.currentTime)},n.tr=function(t,e){for(let n=0;n<t.length;n++)if(!(e<t.start(n)-.1||e>t.end(n)-.5))return!0;return!1},n.Ui=function(){const t=this.buffered;if(!t.length)return;const e=t.length,n=this.Y.currentTime;let i,r,o,s;try{i=function(t,e){if(!t||!t.length)return null;if(1===t.length&&t.end(0)-t.start(0)<1e-6)return null;let n;for(let i=0;i<t.length;i++)if(t.start(i)>e&&(0===i||t.end(i-1)-e<=.5)){n=i;break}return n>=0?n:null}(t,n)}catch(t){throw DOMException,t}if(null===i)return;if(this.Y.readyState===this.Y.HAVE_NOTHING)return;if(this.Y.paused)return;if(e<=i)return;try{r=t.start(i),o=t.end(e-1)}catch(t){throw DOMException,t}const a=r-n,u=o-r,l=this.lowLatencyMode?1:2;if(u>0&&u<=this.segmentLength*l)return s=`Preventing jump too close to buffered end time. Would have jumped to: ${r}. Last buffered end time ${o}.`,void this.fire(fo.BUFFER_GAP_JUMP_PREVENT,{msg:s});0===i?(s=`Jumping forward ${a} seconds because of gap before start time of ${r}`,this.fire(fo.BUFFER_GAP_JUMP,{msg:s})):(s=`Jumping forward ${a} seconds because of gap starting at ${t.end(i-1)} and ending at ${r}`,this.fire(fo.BUFFER_GAP_JUMP,{msg:s})),this.Y.currentTime=r+.1},n.Hi=function(){const t=this.buffered;return!!(t&&t.length&&this.Y.currentTime+il>t.end(t.length-1))},n.setVideoSrc=function(t){try{const e=this;return Ku(e.We(e.ut),(function(){return Ku(e.Mi(t),(function(){return tl((function(){if(e.sorcerer.isInstanceofManagedMediaSource(e.sorcerer.mediaSource)){const t=document.createElement("source");t.type="video/mp4",t.src=URL.createObjectURL(e.sorcerer.mediaSource),e.Y.appendChild(t);let{src:n,mime:i}=e.et.externalDisplayFiles.AirPlay;const r=document.createElement("source");return r.type=i,Ku(ko(n),(function(t){r.src=t,e.Y.appendChild(r)}))}e.Y.src=URL.createObjectURL(e.sorcerer.mediaSource)}),(function(){e.pi.resolve()}))}))}))}catch(t){return r.reject(t)}},n.We=function(t){try{const e=this;return e.er=yt(),"none"===t&&e.paused||e.er.resolve(),Ku(e.er)}catch(t){return r.reject(t)}},n.getBitrateAtTime=function(t,e="video",n="average"){if(!this.di)return 0;const i=this.di.streamIndexAtTime(t,e),r=this.Yt[e][i];return r?r["average"===n?"avg_bitrate":"bitrate"]??r.bitrate:0},n.onprogress=function(){this.Ui()},n.ondurationchange=function(){this.Ui()},n.ontimeupdate=function(){if(!this.di)return;if(t.prototype.ontimeupdate.call(this),null!==this.Ee)return;this.atLiveTail=this.nr(this.Y.currentTime),this.ir(this.Y.currentTime)?this.atLiveEdge=!0:(this.Y.playbackRate<1||this.rr())&&(this.atLiveEdge=!1),this.fire(ho.DROPPED_FRAMES,this.di.getDroppedFrameTotal());const e=this.Kt();if(e){const t={speed:this.wi.getCurrentSpeed(),bitrate:e.avg_bitrate,speeds:this.di.getResponseSpeeds()};this.fire(ho.BANDWIDTH,t)}!this.mi&&this.Hi()&&this.fire(fo.STREAM_OFFLINE),!this.lowLatencyMode&&kt(this.bi)>this.si&&this.Ze()},n.ir=function(t){return t>=this.liveEdgeTime-1*this.segmentLength},n.rr=function(t){return t>=this.liveEdgeTime-2*this.segmentLength},n.nr=function(t){return t<=this.liveTailTime+2*this.segmentLength},n.nn=function(t=this.Ee){return new r((e=>{this.wi.canPlayFromTimeInStream(t,this.Kt())?e(t):this.ke=e})).then((t=>(this.Ee=null,this.tn=null,this.Y.currentTime=t,new r(((t,e)=>{this.Qe=e;const n=()=>{t(this.Y.currentTime),this.Y.removeEventListener("seeked",n)};this.Y.addEventListener("seeked",n)})))))},n.seekToTime=function(t){if(!this.eventHasDVREnabled||t===this.currentTime)return r.resolve();let e;if(null===this.Ee||(this.Qe&&(this.Qe(),this.Qe=null),this.tn=null,this.Ee=null,this.ke=null),this.Ee=t,!this.wi.canPlayFromTimeInStream(t,this.Kt()))try{this.Ti={};for(const t in this.Yt)if(this.Yt[t].length>0){const e=this.sorcerer[t].activeStreamIndex;this.sorcerer[t].streams[e].abort()}e=this.di.removeBuffer()}catch(t){}return this.tn=this.nn(t),r.all([this.pi,e]).then((()=>(this.Ze(),this.tn))).catch((t=>{}))},n.onpause=function(){var e;t.prototype.onpause.call(this),this.eventHasDVREnabled?this.atLiveEdge=!1:(null==(e=this.hi)||e.stop(),this.di&&(this.di.abortFetches(),this.Ti={},this.di.removeBuffer().catch((()=>{}))))},n.onplay=function(){this.eventHasDVREnabled||this.ei&&this.xi()},n.pause=function(){this.eventHasDVREnabled&&(this.atLiveEdge=!1),t.prototype.pause.call(this)},n.play=function(){const e=this;return t.prototype.play.call(this,el((function(){return e.er.resolve(),null!==e.Ee?r.resolve(e.tn):tl((function(){if(e.ei&&!e.eventHasDVREnabled)return e.Ti={},Ju(Zu((function(){return nl(e.di.removeBuffer())}),(function(t){})),(function(){return nl(e.xi())}))}),(function(){return Ku(e.pi,(function(){return e.Ze(),Ku(e.sr(),(function(){const t=Math.max(e.fi.liveSyncPosition,e.Y.buffered.start(0));return e.ri?e.currentTime=t:e.currentTime=e.Y.currentTime,e.ei=!0,r.resolve()}))}))}))})))},n.sr=function(){return new r((t=>{const e=()=>{this.buffered.length&&(this.di.off("appendbufferend",e),t())};this.di.on("appendbufferend",e),e()}))},n.Ki=function(){return this.wi.getSegmentRelativeTimeout(this.Yt.video,this.Kt("video"),1e3*this.segmentLength)},n.ze=function(){return ht("module/media-manifest.js")},n.setCaptionsShouldDisplay=function(t){this.ni=t},n.setCaptionsShouldLoad=function(t){this.ii=t},X(e,[{key:"preload",get:function(){return this.ut},set:function(t){this.ut!==t&&"none"!==t&&this.er.resolve(),this.ut=t}},{key:"latency",get:function(){var t;return null==(t=this.fi)?void 0:t.latency}},{key:"lowLatencyMode",get:function(){return this._lowLatencyMode},set:function(t){this._lowLatencyMode=t,this.hi&&(this.hi.lowLatencyMode=t)}},{key:"downloadSpeed",get:function(){return this.wi.getCurrentSpeed()}},{key:"restrictedStreamIndexes",get:function(){return this.xe},set:function(t){this.xe.join(",")!==t.join(",")&&(this.xe=t,this.wi.lock(this.xe))}},{key:"videoWidth",get:function(){return this.ar?this.ar.width:this.Y.videoWidth}},{key:"videoHeight",get:function(){return this.ar?this.ar.height:this.Y.videoHeight}},{key:"currentTime",get:function(){return null!==this.Ee?this.Ee:this.Y.currentTime},set:function(t){this.Y.readyState<=this.Y.HAVE_NOTHING||(this.eventHasDVREnabled&&this.ei?this.ir(t)?(this.atLiveEdge=!0,this.seekToTime(this.liveEdgeTime)):(this.atLiveEdge=!1,this.seekToTime(Math.max(t,this.liveTailTime))):this.Y.currentTime=t)}},{key:"liveEdgeTime",get:function(){return this.fi.liveSyncPosition}},{key:"atLiveEdge",get:function(){return this.ri},set:function(t){this.atLiveEdge!==t&&this.eventHasDVREnabled&&(this.ri=t,this.Y.playbackRate>1&&t&&(this.Y.playbackRate=1),this.lowLatencyMode=!!this.eventIsLowLatency&&t,this.bufferTarget=t?this.defaultBufferTarget:18,t&&(this.presentationDelay=this.defaultPresentationDelay))}},{key:"atLiveTail",get:function(){return this.oi},set:function(t){this.atLiveTail!==t&&this.eventHasDVREnabled&&(this.oi=t,this.Y.playbackRate<1&&t&&(this.Y.playbackRate=1))}},{key:"liveTailTime",get:function(){var t;const e=(null==(t=this.Kt())||null==(t=t.segments)||null==(t=t[0])?void 0:t.start)??0;return Math.max(e,0)}},{key:"ended",get:function(){return this._i}},{key:"isLowerProfileAvailable",get:function(){return this.di?this.di.video.activeStreamIndex>0:null}},{key:"sorcerer",get:function(){return this.di}},{key:"segmentLength",get:function(){var t,e;return this.lowLatencyMode&&(null==(t=this.hi)||null==(t=t.activeStream("video"))?void 0:t.partTargetDuration)||(null==(e=this.hi)||null==(e=e.activeStream("video"))?void 0:e.targetDuration)}}],[{key:"displayName",get:function(){return"HLSLiveScanner"}},{key:"supportedVideoTypes",get:function(){return["application/x-mpegURL"]}}])}(ts);function sl(t){return t.forEach(((t,e)=>{t.index=e})),t}const al=document.createElement("video"),ul={"application/x-mpegURL":"application/x-mpegURL"};let ll=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).ur=null,i.ei=!1,i.ri=!0,i.oi=!1,i.lr=0,i.cr=!1,i.reset(),i.dvrEnabled=n.dvrEnabled??!1,i.getLiveEventStartTimeEpoch=n.getLiveEventStartTimeEpoch,window.addEventListener("online",(()=>{i.play()})),i}q(e,t),e.supported=function(){return e.supportedVideoTypes.length>0};var n=e.prototype;return n.deactivate=function(){t.prototype.deactivate.call(this),this.reset()},n.reset=function(){this.dr&&clearTimeout(this.dr),this.we=null,this.dr=null,this.mi=!1,this._i=!1,this.hr=null,this.pr=0,this.dr=null,this.lr=0,this.cr=!1,this.wi=new Hu(this,this.tt),this.xe=[]},n.endLive=function(){this.mi=!1,this._i=!0,clearTimeout(this.dr),this.Y.pause(),function(t){setTimeout(t,0)}((()=>{t.prototype.deactivate.call(this),this.fire(ao.ENDED)}))},n.mr=function(){const t=At(this.video.metadata.playlistRefreshUrl.split("?")[1]);t.expires&&(this.dr=setTimeout((()=>{this._r()}),1e3*(t.expires-10)))},n._r=function(t=0){const e=this.video.metadata.playlistRefreshUrl;return Qt(e).json().then((n=>{if(!("url"in n))throw new Error(`Error parsing 'url' key from player live API refresh endpoint: ${e} ${n}`);return this.br(n.url.hls).then((()=>(this.play(),this.yr(5e3),null))).catch((()=>this._r(++t)))})).catch((()=>{if(t>=3)throw new Error(`Manifest failed to load after ${t} attempts.`);return++t,this._r(t)}))},n.gr=function(){this.on(fo.STREAM_OFFLINE,(()=>{this.mi=!1}))},n.wr=function(t){return this.gr(),this.mi=!0,this.fire(fo.STREAM_ONLINE),this.yr(5e3),r.resolve(t)},n.br=function(t){return this.ur=t,/json=1/.test(t)?Qt(t).json().then((t=>{if(!("url"in t))throw new Error(`Error parsing 'url' key from Live API manifest endpoint: ${this.ur} ${t}`);this.Y.src=this.Tr(t.url),this.mr()})).catch((t=>{const e=this.video.metadata.playlistRefreshUrl;return Qt(e).json().then((t=>{if(!("url"in t))throw new Error(`Error parsing 'url' key from player live API refresh endpoint: ${e} ${t}`);this.ur=t.url.ios,this.Y.src=this.Tr(t.url.ios),this.mr()}))})):(this.Y.src=this.Tr(t),this.mr(),r.resolve())},n.Tr=function(t){if(this.dvrEnabled)return t;const e=new URL(t);return e.searchParams.set("min_seconds","30"),e.toString()},n.Cr=function(){const t=this.Y.textTracks;if(null!=t&&t.length)for(let e=0;e<t.length;e++){const n=t[e];this.Ri(n)}},n.Ri=function(t){if(t&&!this.Xi){const{label:e,kind:n,language:i,id:r}=t,o=new TelecineTextTrack({label:e,kind:n,language:i,id:r},this.et);this.et.textTracks=Oo([o]),this.yt(o,t),this.fire(ho.TEXT_TRACKS_AVAILABLE),this.Xi=t}},n.setModeForTrack=function(t,e){return this.Xi&&this.Xi.mode!==e&&(this.Xi.mode=e),this},n.getActiveCuesForTrack=function(t){return this.Xi&&"disabled"!==this.Xi.mode?this.Xi.activeCues:[]},n.addTextTrack=function(t){return this.Xi||this.Cr(),this.Xi},n.yr=function(t){"number"==typeof Se.iOS&&Se.iOS<9||this.hr||(this.hr=setTimeout((()=>{if(!this.mi)return;const t=new XMLHttpRequest;t.onload=()=>{410!==t.status?(200!==t.status&&this.fire(fo.STREAM_OFFLINE),t.response.match(/^#EXTM3U\n#EXT-X-VERSION:3\n$/)&&this.fire(fo.STREAM_OFFLINE)):this._r()},t.onerror=()=>{this.fire(fo.STREAM_OFFLINE)},/json=1/.test(this.ur)?Qt(this.ur).json().then((e=>{"url"in e||this.fire(fo.STREAM_OFFLINE),t.open("GET",e.url),t.send()})).catch((()=>{t.open("GET",this.ur),t.send()})):(t.open("GET",this.ur),t.send())}),t))},n.ir=function(t){return t>=this.liveEdgeTime-3},n.rr=function(t){return t>=this.liveEdgeTime-6},n.nr=function(t){return t<=this.liveTailTime+6},n.setVideoSrc=function(t){this.we=this.wr(t).then((()=>(this.ur=t,this.br(t))))},n.ontimeupdate=function(){t.prototype.ontimeupdate.call(this),this.atLiveTail=this.nr(this.Y.currentTime),this.ir(this.Y.currentTime)?this.atLiveEdge=!0:(this.Y.playbackRate<1||this.rr())&&(this.atLiveEdge=!1)},n.onplaying=function(){this.ei=!0},n.oncanplay=function(){if(!this.ei){const t=this.Y.seekable.length;t>0&&(this.Y.currentTime=this.Y.seekable.end(t-1))}if(!this.cr){this.cr=!0;const t=this.Y.getStartDate().getTime()/1e3;this.lr=t-this.getLiveEventStartTimeEpoch()}this.Cr()},n.onprogress=function(){this.hr&&(clearTimeout(this.hr),this.hr=null)},n.onstalled=function(){this.yr(1e4)},n.onerror=function(){return this.Y.error.code===this.Y.error.MEDIA_ERR_SRC_NOT_SUPPORTED?(Qt(this.ur).then((()=>{t.prototype.onerror.call(this)})).catch((e=>{e instanceof xt?this.fire(ao.ERROR,new TelecineError("MediaNetworkError","A network error ocurred while fetching the media.")):t.prototype.onerror.call(this)})),!1):t.prototype.onerror.call(this)},n.onwaiting=function(){this.yr(1e4)},n.pause=function(){this.dvrEnabled&&(this.atLiveEdge=!1),t.prototype.pause.call(this)},n.play=function(){return t.prototype.play.call(this,(()=>this.we))},X(e,[{key:"currentTime",get:function(){return this.lr+this.Y.currentTime},set:function(t){if(this.liveEdgeTime){const e=t>=this.liveEdgeTime-3;this.atLiveEdge=e}this.Y.currentTime=t-this.lr}},{key:"liveEdgeTime",get:function(){const t=this.Y.seekable.length;return t>0?this.lr+this.Y.seekable.end(t-1):0}},{key:"atLiveEdge",get:function(){return this.ri},set:function(t){this.dvrEnabled&&(this.ri=t,this.Y.playbackRate>1&&t&&(this.Y.playbackRate=1))}},{key:"atLiveTail",get:function(){return this.oi},set:function(t){this.dvrEnabled&&(this.oi=t,this.Y.playbackRate<1&&t&&(this.Y.playbackRate=1))}},{key:"liveTailTime",get:function(){return this.Y.seekable.length>0?this.lr+this.Y.seekable.start(0):0}},{key:"ended",get:function(){return this._i}},{key:"supportsPlaybackRate",get:function(){return t.prototype.supportsPlaybackRate&&this.dvrEnabled}}],[{key:"displayName",get:function(){return"NativeHLSLiveScanner"}},{key:"supportedVideoTypes",get:function(){const t=[];if("function"!=typeof al.canPlayType)return t;for(const e in ul){const n=ul[e];al.canPlayType(n).replace(/^no$/,"")&&t.push(e)}return t}}])}(ts),cl=function(){function t(t,e={}){this.Er=t,this.J=t.J,this.tt=e}var e=t.prototype;return e.activate=function(){throw new TelecineError("NotImplemented","The effect must implement the activate method.")},e.deactivate=function(){throw new TelecineError("NotImplemented","The effect must implement the deactivate method.")},X(t,null,[{key:"displayName",get:function(){return"Effect"}},{key:"supported",get:function(){return!1}},{key:"supportedScanners",get:function(){return[]}}])}();const dl=new Zn,hl=new Zn;let TelecineFile=function(){return X((function({src:t,mime:e,id:n=Ot(),priority:i=0,metadata:r={}},o){if(!t)throw new TypeError("Must provide a src for the file.");if(!e)throw new TypeError("Must provide a mime type for the file.");Object.defineProperties(this,{mime:{value:e,enumerable:!0},id:{value:`${n}`,enumerable:!0},metadata:{value:r,enumerable:!0}}),this.video=o,this.priority=i,this.src=t}),[{key:"priority",get:function(){return dl.get(this)},set:function(t){if(!("number"==typeof(t=parseInt(t,10))&&isFinite(t)&&Math.floor(t)===t&&t>=0))throw new TypeError("The file priority must be an integer greater than or equal to 0.");dl.set(this,t)}},{key:"src",get:function(){return hl.get(this)},set:function(t){hl.set(this,t),this.video.fire(ho.FILE_SRC_UPDATE,this)}},{key:"restrictedStreamIndexes",get:function(){if(!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.video.currentScanner),"restrictedStreamIndexes"))throw new ReferenceError("The current scanner does not support streams.");return this.video.currentScanner.restrictedStreamIndexes},set:function(t){if(!Array.isArray(t))throw new TypeError("Indexes must be an array.");if(!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.video.currentScanner),"restrictedStreamIndexes"))throw new ReferenceError("The current scanner does not support streams.");this.video.currentScanner.restrictedStreamIndexes=t}}])}(),fl=function(t){function e({enabled:e=!1,id:n=Ot(),kind:i="",label:r="",language:o="",provenance:s=""},a){var u;return(u=t.call(this)||this).kr=e,Object.defineProperties(u,{kind:{value:i,enumerable:!0},label:{value:r,enumerable:!0},language:{value:o,enumerable:!0},id:{value:`${n}`,enumerable:!0},provenance:{value:s,enumerable:!0}}),u.video=a,u}return q(e,t),e.prototype.dispatchEvent=function(t){this.fire(t,{target:this})},X(e,[{key:"enabled",get:function(){return this.kr},set:function(t){this.kr=t}},{key:"active",get:function(){return this.kr}}])}(ti);function pl(){}function vl(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function ml(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function _l(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const bl=ml((function(t,e,n,i){const o=function(t){const e=t.audio||[],n=t.video||[];return[{video:"HW_SECURE_ALL",audio:"SW_SECURE_CRYPTO"},{video:"HW_SECURE_DECODE",audio:"SW_SECURE_CRYPTO"},{video:"HW_SECURE_CRYPTO",audio:"SW_SECURE_CRYPTO"},{video:"SW_SECURE_DECODE",audio:"SW_SECURE_CRYPTO"},{video:"SW_SECURE_CRYPTO",audio:"SW_SECURE_CRYPTO"}].map((t=>{const i={persistentState:"optional",sessionTypes:["temporary"],videoCapabilities:[],audioCapabilities:[]};return n.length&&(i.videoCapabilities=n.map((e=>({contentType:e,robustness:t.video})))),e.length&&(i.audioCapabilities=e.map((e=>({contentType:e,robustness:t.audio})))),i}))}(i);return r.all(Object.keys(t).map(ml((function(i){const r=t[i].id;if(e||n){let t=null;const n=e?window.WebKitMediaKeys:window.MSMediaKeys;try{t=new n(r)}catch(t){}return{name:r,keySystem:t}}return vl((function(){return _l(navigator.requestMediaKeySystemAccess(r,o),(function(t){return _l(t.createMediaKeys(),(function(t){return{name:r,keySystem:t}}))}))}),(function(t){return{name:r,keySystem:null}}))}))))})),yl=ml((function(t,e){return function(t){if(t&&t.then)return t.then(pl)}(vl((function(){return function(t){return t&&t.then?t.then(pl):r.resolve()}(e.setServerCertificate(Io(t)))}),(function(t){})))})),gl="default";let wl=function(){function t(){this.Sr={},this.Ar={},this.Nr={},this.Mr={},this.Or={},this.Ir={},this.Rr=gl,this.Lr={KEYCHAIN_DEFAULT:gl,KEYCHAIN_SD_FALLBACK:"sd-fallback"}}var e=t.prototype;return e.getAllKeySessions=function(){return Object.values(this.Ir)||[]},e.getCdms=function(t){return this.Sr[t]},e.getAllPreferredKeySystems=function(){return this.Ar},e.addCdms=function(t,e){this.Sr[e]=t},e.addKeySession=function(t,e){this.Ir[e]=t},e.addLicenseTokenUrl=function(t,e){this.Nr[e]=t},e.addLicenseUrl=function(t,e){this.Mr[e]=t},e.addPreferredKeySystem=function(t,e){this.Ar[e]=t},e.closeAllKeySessions=function(){for(let t in this.Ir)this.Ir[t]&&this.Ir[t].sessionId&&this.Ir[t].close()},X(t,[{key:"state",get:function(){return this.Rr},set:function(t){Object.values(this.Lr).indexOf(t)<0||(this.Rr=t)}},{key:"activeKeySession",get:function(){return this.Ir[this.Rr]}},{key:"activeKeySystem",get:function(){return this.Ar[this.Rr]}},{key:"keyTypes",get:function(){return this.Lr}},{key:"activeLicenseTokenUrl",get:function(){return this.Nr[this.Rr]}},{key:"activeLicenseUrl",get:function(){return this.Mr[this.Rr]}}])}();function Tl(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}let Cl=function(){function t(t,e,n={}){this.Dr=!!t.fallback_asset,this.Pr=e,this.Br=n,this.$r=()=>null,this.Hn=0,this.jr=!0,this.Vr=null,this.Fr=this.Hr.bind(this),this.Ur=this.zr.bind(this),this.Xr=new wl,this.Lr=this.Xr.keyTypes,this.Xr.state=this.Lr.KEYCHAIN_DEFAULT,this.Xr.addCdms(t.cdms,this.Lr.KEYCHAIN_DEFAULT),this.Dr&&this.Xr.addCdms(t.fallback_cdms,this.Lr.KEYCHAIN_SD_FALLBACK)}var e=t.prototype;return e.init=function(t,e={},n={}){try{const i=this;if(i.Y=t.Y,i.ee=t,i.Gr=!!window.MSMediaKeys,!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration||window.WebKitMediaKeys||i.Gr))return i.ee.fire(ho.EME_UNSUPPORTED),r.reject();if(n=i.Wr(n),i.Xr.state===i.Lr.KEYCHAIN_SD_FALLBACK)return Tl(i.setUpKeySystem(e,n,i.Lr.KEYCHAIN_SD_FALLBACK).then((()=>{i.ee.currentTime=i.Hn,i.ee.play()})));const o=i.Xr.getCdms(i.Lr.KEYCHAIN_DEFAULT);return o?Tl(bl(o,i.Pr,i.Gr,e),(function(t){let r=!1;const{keySystem:o}=t.find((t=>t.keySystem))??{};return El((function(){if(i.Dr){const t=null==o?void 0:o.getStatusForPolicy;return Tl(t?o.getStatusForPolicy({minHdcpVersion:"1.0"}):"usable",(function(t){if("output-restricted"===t){const t=i.qr();return r=!0,t}}),!t)}}),(function(t){return r?t:i.setUpKeySystem(e,n).then((()=>i.setUpKeySystem(e,n,i.Lr.KEYCHAIN_SD_FALLBACK)))}))})):r.reject()}catch(t){return r.reject(t)}},e.Wr=function(t={}){if(void 0===t||void 0===t.inits)return t;for(var e=0,n=Object.entries(t.inits);e<n.length;e++){const[o,s]=n[e];for(var i=0,r=Object.entries(s);i<r.length;i++){const[e,n]=r[i];if(void 0===n||void 0===n.initData)return t;n.initData=Io(n.initData)}}return t},e.setUpKeySystem=function(t,e,n=this.Lr.KEYCHAIN_DEFAULT){return new r(((i,o)=>{const s=this,a=this.Xr.getCdms(n);return a||o(),bl(a,this.Pr,this.Gr,t).then(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){const i=t.find((t=>null!==t.keySystem));s.Xr.addPreferredKeySystem(i,n);const o=s.Xr.activeKeySystem&&function(t,e){let n=null;return Object.keys(t).forEach((i=>{e.name===t[i].id&&(n=t[i])})),n}(a,s.Xr.activeKeySystem);if(!o)throw s.ee.fire(ho.EME_UNSUPPORTED),new Error("No valid key system was found.");return El((function(){if(o.certificate)return function(t){return t&&t.then?t.then(kl):r.resolve()}(yl(o.certificate,i.keySystem))}),(function(){s.Xr.addLicenseTokenUrl(o.license_url,n);const t=e&&e.inits&&e.inits[o.id];return t||s.Yr(o,n),s.Kr(n).then((()=>{const e=s.Xr.state===n;return t&&e&&s.Hr(t.cenc,n)}))}))}))).then(i)}))},e.destroy=function(){this.Xr&&this.Xr.closeAllKeySessions(),this.Y&&this.Y.removeEventListener(this.Vr,this.Fr)},e.Zr=function(t){return new r((e=>{var n;this.Xr.state=t,null==(n=this.Xr.activeKeySession)||n.addEventListener("message",(t=>this.Jr(t))),e()}))},e.Yr=function(t,e){this.Vr="encrypted",this.Xr.addLicenseUrl(t.license_url,e),this.Pr?(this.Qr=t.certificate_url,this.Vr="webkitneedkey"):this.Gr&&(this.Vr="msneedkey"),this.Y.addEventListener(this.Vr,this.Fr)},e.Kr=function(t){return new r((e=>{if(this.Gr){const t=()=>{this.Y.msSetMediaKeys(this.Xr.activeKeySystem.keySystem),this.Y.removeEventListener("loadedmetadata",t),e()};this.Y.readyState>=1?t():this.Y.addEventListener("loadedmetadata",t)}else{if(this.Pr)this.Y.webkitSetMediaKeys(this.Xr.activeKeySystem.keySystem);else{const e=this.Y.mediaKeys||this.Xr.activeKeySystem.keySystem;this.Xr.addKeySession(this.eo(e),t),t===this.Xr.state&&this.Xr.activeKeySession.addEventListener("message",(t=>this.Jr(t))),this.Y.mediaKeys||this.Y.setMediaKeys(this.Xr.activeKeySystem.keySystem)}e()}}))},e.eo=function(t,e,n){const i=t.createSession(e,n);if(!i)throw new Error("Could not create key session");return i},e.Hr=function(t,e){e=e||this.Xr.state;const n=new Error("A decryption key error was encountered");return"com.apple.fps.1_0"===this.Xr.activeKeySystem.name?(this.no(this.Qr).then((i=>{this.io=function(t){var e=function(t){const e=new Uint16Array(t.buffer);return String.fromCharCode.apply(null,e)}(t),n=document.createElement("a");return n.href=e,n.hostname}(t.initData);const r=function(t,e,n){"string"==typeof e&&(e=function(t){const e=new ArrayBuffer(2*t.length),n=new Uint16Array(e);for(let e=0,i=t.length;e<i;e++)n[e]=t.charCodeAt(e);return n}(e));let i=0;const r=new ArrayBuffer(t.byteLength+4+e.byteLength+4+n.byteLength),o=new DataView(r);new Uint8Array(r,i,t.byteLength).set(t),i+=t.byteLength,o.setUint32(i,e.byteLength,!0),i+=4;const s=new Uint8Array(r,i,e.byteLength);return s.set(e),i+=s.byteLength,o.setUint32(i,n.byteLength,!0),i+=4,new Uint8Array(r,i,n.byteLength).set(n),new Uint8Array(r,0,r.byteLength)}(t.initData,this.io,i);return this.Xr.addKeySession(this.eo(this.Xr.activeKeySystem.keySystem,"video/mp4",r),e),this.Xr.activeKeySession.contentId=this.io,this.Xr.activeKeySession.addEventListener("webkitkeymessage",(t=>this.Jr(t))),this.Xr.activeKeySession.addEventListener("webkitkeyerror",(t=>{throw n})),i})).catch((t=>{this.ee.fire(t.error,t.payload)})),!0):"com.microsoft.playready"===this.Xr.activeKeySystem.name?(this.Xr.addKeySession(this.eo(this.Y.msKeys,"video/mp4",t.initData),e),this.Xr.activeKeySession.addEventListener("mskeymessage",(t=>this.Jr(t))),this.Xr.activeKeySession.addEventListener("mskeyerror",(t=>{throw n})),!0):!this.Xr.activeKeySession.sessionId&&!this.ro&&(this.Xr.activeKeySession.addEventListener("keystatuseschange",this.Ur),this.ro=this.Xr.activeKeySession.generateRequest(t.initDataType,t.initData).catch((()=>{this.ee.fire(ho.DRM_FAILURE)})),!0)},e.zr=function(){let t=!1;const e=a(this.Xr.activeKeySession.keyStatuses.values());if(e.forEach(((e,n)=>{"expired"===e&&(t=!0)})),e.length&&e.every((t=>"output-restricted"===t))){if(this.Dr)return void this.qr();this.ee.fire(ho.DRM_OUTPUT_RESTRICTED)}t&&this.Xr.activeKeySession.close()},e.Jr=function(t){return this.oo(this.Xr.activeLicenseTokenUrl).then((e=>new r(((n,i)=>{this.Xr.addLicenseUrl(e,this.Xr.state),this.ro=null;const r=new XMLHttpRequest;r.keySession=t.target,r.open("POST",this.Xr.activeLicenseUrl),r.responseType="arraybuffer";let o=t.message;if("com.microsoft.playready"===this.Xr.activeKeySystem.name){const e=function(t,e=!0){const n=e?t.buffer:t,i=String.fromCharCode.apply(null,new Uint16Array(n)),r=(new DOMParser).parseFromString(i,"application/xml"),o={},s=r.getElementsByTagName("HttpHeader");for(let t=0;t<s.length;++t){const e=s[t].querySelector("name"),n=s[t].querySelector("value");o[e.textContent]=n.textContent}return[o,t=Io(r.querySelector("Challenge").textContent)]}(t.message),n=e[0];Object.keys(n).forEach((t=>{r.setRequestHeader(t,n[t])})),o=e[1]}"com.apple.fps.1_0"===this.Xr.activeKeySystem.name&&(o=new Uint8Array(o),r.setRequestHeader("Content-type","application/octet-stream")),r.onload=()=>{if(403!==r.status)if(r.status>=400)i(new TelecineError(ho.DRM_FAILURE));else try{this.ee.fire(ho.DRM_AUTH_SUCCESS);const t=new Uint8Array(r.response);r.keySession.update(t),n()}catch(t){i(new TelecineError(ho.DRM_FAILURE,`Error updating key session: ${t}`))}else i(new TelecineError(ho.DRM_AUTH_FAILURE))},r.onerror=i,r.send(o)})).catch((t=>{this.ee.fire(t.name,{text:t.message||"License request failed."})}))))},e.oo=function(t){const e=((t,e)=>{const{atid:n,dnt:i,context:r,leadUUID:o,playerLocation:s,firstLog:a,playbackRoute:u}=e;return Nt(t,{atid:n,context:r,dnt:1===i?i:void 0,first_log:a?"1":void 0,lead_uuid:o,player_location:s,playback_route:u},!0)})(t,J(J({},this.Br),{},{firstLog:this.jr}));return new r(((t,n)=>{const i=new XMLHttpRequest;i.withCredentials=!0,i.open("GET",e),i.onload=()=>{if(i.status>=400)n(new TelecineError(ho.DRM_FAILURE));else try{try{const e=JSON.parse(i.response),{licenseAcquisitionUrl:n,token:r}=e;if(!n&&!r)throw new Error;t(`${n}?ExpressPlayToken=${r}`)}catch(e){t(i.response)}}catch(t){n(new TelecineError(ho.DRM_FAILURE,`Error retrieving License Acquisition URL (LA_URL): ${t}`))}},i.onerror=n,i.send(),this.jr=!1}))},e.no=function(t){return new r(((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.responseType="arraybuffer",i.setRequestHeader("Pragma","Cache-Control: no-cache"),i.setRequestHeader("Cache-Control","max-age=0"),i.onload=()=>{if(403!==i.status)if(i.status>=400)n({error:ho.DRM_FAILURE});else try{e(new Uint8Array(i.response))}catch(t){n(t)}else n({error:ho.DRM_AUTH_FAILURE})},i.onerror=n,i.send()}))},e.qr=function(){this.Hn=this.ee.currentTime,this.Zr(this.Lr.KEYCHAIN_SD_FALLBACK).then((()=>{this.$r(),this.ee.fire(ho.DRM_KEY_SWITCH,this.Lr.KEYCHAIN_SD_FALLBACK)})).catch((t=>{this.ee.fire(ho.DRM_OUTPUT_RESTRICTED)}))},e.setFallbackCallback=function(t){this.$r=()=>t()},X(t,[{key:"state",get:function(){return this.Xr.state}},{key:"hasFallbackAssets",get:function(){return this.Dr}}])}();function El(t,e){var n=t();return n&&n.then?n.then(e):e(n)}function kl(){}const Sl=(()=>{const t=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\./);return!!t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}})(),Al=document.createElement("video"),Nl={settingPlaybackRate:(()=>{if(Se.android&&Sl&&"object"==typeof Sl&&Sl.major<52)return!1;const t=Al.playbackRate;Al.playbackRate=.5*t;const e=t!==Al.playbackRate;return Al.playbackRate=t,e})(),settingVolume:(()=>{if(Se.android||Se.iOS||Se.iPadOS)return!1;const t=Al.volume;return Al.volume=.5*t,Al.volume!==t})(),textTracks:void 0!==Al.textTracks&&"undefined"!=typeof TextTrackList&&Al.textTracks instanceof TextTrackList},Ml=new Zn;let TelecineVideo=function(t){function TelecineVideo({files:e,id:n=Ot(),title:i=null,subtitle:r=null,metadata:o={},textTracks:s=Oo(),audioTracks:a=Oo(),externalDisplayFiles:u={},chapters:l=[],duration:c}){var d;if(d=t.call(this)||this,!e||!Array.isArray(e))throw new TypeError("Must provide files for the video.");const h=function(t=[]){return t.getFileById=Mo,t}(e.map((t=>t instanceof TelecineFile?(t.video=d,t):new TelecineFile(t,d)))),f=Oo(s.map((t=>t instanceof TelecineTextTrack?(t.video=d,t):new TelecineTextTrack(t,d))));if(d.so=a,Object.keys(u).forEach((t=>{!u[t]||u[t]instanceof TelecineFile||(u[t]=new TelecineFile(u[t],d))})),Object.defineProperties(d,{id:{value:`${n}`,enumerable:!0},title:{value:i,enumerable:!0},subtitle:{value:r,enumerable:!0},metadata:{value:o,enumerable:!0},files:{value:h,enumerable:!0},textTracks:{value:f,enumerable:!0,writable:!0},chapters:{value:l,enumerable:!0},duration:{value:c,enumerable:!0},externalDisplayFiles:{value:u,enumerable:!0}}),o.drm){const{drm:t,useHls:e,drmLaUrlParams:n}=o;d.ao=new Cl(t,e,n)}return d}return q(TelecineVideo,t),TelecineVideo.prototype.deactivate=function(){this.ao&&this.ao.destroy(),this.textTracks.forEach((t=>this.currentScanner.removeTextTrack(t)))},X(TelecineVideo,[{key:"drmHandler",get:function(){return this.ao||null}},{key:"currentFile",get:function(){return this.currentScanner.currentFile},set:function(t){this.currentScanner.currentFile=t}},{key:"currentScanner",get:function(){return Ml.get(this)},set:function(t){this.currentScanner&&Nl.textTracks&&this.textTracks.forEach((t=>this.currentScanner.removeTextTrack(t))),Nl.textTracks&&this.textTracks.forEach((e=>t.addTextTrack(e))),Ml.set(this,t)}},{key:"chapters",get:function(){return this.chapters}},{key:"audioTracks",get:function(){return Oo((this.currentScanner.constructor.supportsVideoElementAudioTracks?a(this.currentScanner.audioTracks):this.so).map((t=>t instanceof fl?(t.video=this,t):new fl(t,this))))}},{key:"enabledAudioTrack",get:function(){return this.audioTracks.find((t=>!!t.enabled))}}])}(ti),Ol=function(t){function e(e,n={}){var i;return(i=t.call(this)||this).Er=e,i.tt=n,i.uo=null,i.lo=i.tt.embedTime?i.tt.embedTime:0,i.co=!1,i.do=!1,i.ho=!1,i.playInitiated=!1,i.fo=!1,i.po=250,i.vo=i.mo.bind(i),i._o=i.bo.bind(i),i.yo=i.wo.bind(i),i.To=i.Co.bind(i),i.Eo=i.ko.bind(i),i.So=i.Ao.bind(i),i.No(i.Er.on),i.tt.noInterval||i.Mo(),i}q(e,t);var n=e.prototype;return n.destroy=function(){clearInterval(this.uo),this.No(this.Er.off),this.mo()},n.No=function(t){t(ao.PAUSE,this._o),t(ao.PLAYING,this.vo),t(ao.SEEKING,this.yo),t(ao.SEEKED,this.To),t(fo.STREAM_ONLINE,this.Eo),t(fo.STREAM_OFFLINE,this.So)},n.bo=function(){this.userPlayState=!1},n.mo=function(){this.co&&(this.co=!1,this.fire(ho.BUFFER_ENDED))},n.wo=function(){this.do=!0},n.Co=function(){this.do=!1},n.ko=function(){this.fo=!0},n.Ao=function(){this.fo=!1},n.Mo=function(){clearInterval(this.uo),this.uo=setInterval(this.runIntervalCheck.bind(this),this.po)},n.runIntervalCheck=function(){if(!this.Er.video)return;const t=this.Er.video.currentScanner;if(!t)return;const e=this.Er.isLive(),n=t.currentTime,i=this.po/2/1e3;if(this.playInitiated&&(!this.do||e)&&(!this.Er.paused||this.userPlayState)&&!this.co&&n<this.lo+i){if(e&&!this.fo)return;const t=this.Er.buffered;for(let e=0;e<t.length;e++)if(n>=t.start(e)&&n+.2<=t.end(e))return void(this.lo=n);if(n+i>=this.Er.duration)return;this.co=!0,this.fire(ho.BUFFER_STARTED)}(this.playInitiated&&this.co&&n>this.lo+i||e&&!this.fo&&this.co)&&(this.co=!1,this.fire(ho.BUFFER_ENDED)),this.lo=n},X(e,[{key:"userPlayState",get:function(){return this.ho},set:function(t){this.ho=t,t||this.mo()}}])}(ti);function Il(){let t,e;function n(){if(!e)return r.reject();t.preload="";let n=t.play();return void 0===n&&(n=new r((e=>{t.addEventListener("playing",e)}))),n}function i(){e&&(e.resolve(),e=null)}function o(t){e&&(e.reject(t),e=null)}return{set video(e){t=e},get video(){return t},get active(){return!!e},start:function(s=r.resolve.bind(r)){return e||(e=yt()),t.currentSrc?document.createElement("video").load():t.load(),s().then(n).then(i).catch(o),e},cancel:function(){e&&(e.reject(new TelecineError(zo,"The play() request was interrupted by a call to pause()")),e=null)}}}let Rl=function(t){function e(e,n,i={}){var r;return(r=t.call(this)||this).J=e,r.Oo=n,r.tt=i,r.Y=null,r._t=Oo(),r.Io={},r.Ro=new ts(e),r.tt.playRequest=new Il,r.Lo=[],r.xo=[],r.Do=null,r.ht=!1,r.Po=!1,r}q(e,t);var n=e.prototype;return n.supportsEffect=function(t){return!!t.supported&&t.supportedScanners.some((t=>this.Bo(this.Ro)===t.displayName))},n.getEffectByName=function(t){let e=null;return this.xo.forEach((n=>{t===this.$o(n)&&(e=n)})),e},n.activateEffect=function(t,e){const n=new t(this,e);return n.activate(),this.xo.push(n),n},n.deactivateEffect=function(t){return this.xo.some(((e,n)=>e.constructor===t&&(e.deactivate(),this.xo.splice(n,1),!0)))},n.deactivateEffects=function(){this.xo.forEach((t=>this.deactivateEffect(t.constructor)))},n.play=function(){if(!this.Y||this.Y.files.length<1)throw new TelecineError("NoFiles","There are no files to play.");this.jo.playInitiated||(this.jo.playInitiated=!0),this.jo.userPlayState=!0;const t=this.Ro.play();return this.Io.paused=!1,t},n.pause=function(){if(!this.Y||this.Y.files.length<1)throw new TelecineError("NoFiles","There are no files to play.");return this.jo.userPlayState=!1,this.Ro.pause(),this.Io.paused=!0,this},n.isLive=function(){return this.currentScannerName.includes("Live")},n.endLive=function(){this.Ro.endLive()},n.getBitrateAtTime=function(t,e="video",n="average"){var i,r;return"MediaSourceScanner"!==this.Bo(this.Ro)&&"HLSLiveScanner"!==this.Bo(this.Ro)||"audio"===e&&this.Ro.Yt[e].length<=1?0:(null==(i=(r=this.Ro).getBitrateAtTime)?void 0:i.call(r,t,e,n))||0},n.getCurrentStream=function(t="video"){var e,n;return null==(e=(n=this.Ro).getCurrentStream)?void 0:e.call(n,t)},n.showExternalDisplayPicker=function(t){this.Ro.showExternalDisplayPicker(t)},n.requestPictureInPicture=function(){return this.Ro.requestPictureInPicture()},n.exitPictureInPicture=function(){return this.Ro.exitPictureInPicture()},n.addChapter=function(t,e){this.Ro.addChapter(t,e)},n.removeChapter=function(t){this.Ro.removeChapter(t)},n.addCuePoint=function(t,e){return this.Ro.addCuePoint(t,e)},n.removeCuePoint=function(t){return this.Ro.removeCuePoint(t)},n.removeAllCuePoints=function(){return this.Ro.removeAllCuePoints()},n.enableAudioTrack=function(t){return this.Ro.enableAudioTrack(t)},n.addVideoEventListeners=function(){return this.Ro.addVideoEventListeners()},n.removeVideoEventListeners=function(){return this.Ro.removeVideoEventListeners()},n.Vo=function({textTrackSupport:t=!1}={}){if(t&&!Nl.textTracks)return null;const e=this.Y.files.sort(((t,e)=>t.priority-e.priority)),n=this.Oo;for(const t in e){let i=e[t];for(const t in n){let e=n[t];if(e.supported(this.tt.disableMMS)&&-1===this.Lo.indexOf(this.Bo(e))&&e.supportedVideoTypes.some((t=>i.mime===t)))return e}}return null},n.reactivate=function(){var t;null!=(t=this.Ro)&&t.reactivate&&this.Ro.reactivate(),this.play()},n.checkRebuffer=function(t,e){this.jo&&(this.jo.playInitiated=t,this.jo.userPlayState=e,this.jo.runIntervalCheck())},n.Fo=function(t,e){if(this.Ro.constructor===t&&this.Ro.video===e)return;const n=!this.isLive()&&this.Ro.he;this.ht?(this.Do=this.Ro,this.Do.ht=!0,this.Po||(this.Do.takeSnapshot(),this.Po=!0),this.Do.deactivate()):this.Ro.deactivate();const i=new t(this.J,this.tt);Object.keys(mo).forEach((t=>{const e=mo[t];i.on(e,(t=>this.Ho(e,t,i)))})),this.Ro=i,e.currentScanner=i,this.Ro.video=e;const r=Object.keys(this.Io);for(let t=0;t<r.length;t++){const e=r[t];"paused"!==e?("currentTime"!==e||n)&&(this.Ro[e]=this.Io[e]):!1===this.Io.paused&&this.Ro.play()}this.Ro.addChapters(e.chapters,e.duration),this.fire(ho.SCANNER_CHANGE,this.Bo(this.Ro)),this.Ro.on(["canplay","playing"],(()=>{this.Do&&(this.Do.ht=!1,this.Do.removeSnapshot(),this.Do=null,this.Po=!1)}))},n.Uo=function(){if(null===this.Y)return;const t=this.Vo({textTrackSupport:this.Y.textTracks.length>0});t?this.Fo(t,this.Y):this.At("FilesNotPlayable","None of the files could be played in this browser.")},n.zo=function(){this.Ro.deactivate(),this.Ro=new ts(this.J)},n.Ho=function(t,e,n){if(n===this.Ro){switch(t){case ao.ERROR:return void(e instanceof TelecineError&&this.fire(ao.ERROR,e));case ho.SCANNER_ERROR:this.At("ScannerError",`The current scanner can no longer be used because ${e.reason}`),this.Lo.push(this.Bo(this.Ro)),this.Uo([]);break;case ho.FILE_ERROR:this.At("FileError",`The current file can no longer be used because ${e.reason}`),this.Ro.Nt();break;case ho.DOWNLOAD_ERROR:this.At("DownloadError",e),this.Ro.Nt();break;case ho.EME_UNSUPPORTED:this.At(Fo,{text:null,code:"emeunsupported"});break;case ho.DRM_FAILURE:case ho.DRM_AUTH_FAILURE:this.At(Fo,{text:e.text,code:e.code});break;case ho.DRM_OUTPUT_RESTRICTED:this.At(Fo,{text:null,code:"outputrestricted"});break;case ho.DRM_AUTH_SUCCESS:this.fire(ho.DRM_AUTH_SUCCESS);break;case ao.TIME_UPDATE:this.Io.currentTime=this.Ro.currentTime;break;case ho.MEDIA_URL_EXPIRED:this.At("MediaUrlExpired",e);break;case ho.MEDIA_URL_BAD_REQUEST:this.At(Uo,e);break;case po.SPATIAL_UNSUPPORTED:this.getEffectByName("ThreeSixtyEffect").deactivate();break;case ao.ENDED:const t=!this.tt.dvrEnabled||this.atLiveEdge;this.Io.paused=t;break;case ao.WAITING:this.fire(ao.WAITING)}this.xo.forEach((e=>{"function"==typeof e[`on${t}`]&&e[`on${t}`]()})),this.fire(t,e)}},n.At=function(t,e){this.fire(ao.ERROR,new TelecineError(t,e))},n.Bo=function(t){return t instanceof ts?t.constructor.displayName:t.prototype.constructor.displayName},n.Mo=function(){this.jo&&this.jo.destroy(),this.jo=new Ol(this,this.tt),this.jo.on(ho.BUFFER_STARTED,(()=>{this.fire(ho.BUFFER_STARTED)})),this.jo.on(ho.BUFFER_ENDED,(()=>{this.fire(ho.BUFFER_ENDED)}))},n.$o=function(t){return t instanceof cl?t.constructor.displayName:t.prototype.constructor.displayName},n.setCaptionsShouldDisplay=function(t){"HLSLiveScanner"===this.Bo(this.Ro)&&this.Ro.setCaptionsShouldDisplay(t)},n.setCaptionsShouldLoad=function(t){"HLSLiveScanner"===this.Bo(this.Ro)&&this.Ro.setCaptionsShouldLoad(t)},X(e,[{key:"element",get:function(){return this.J}},{key:"videoElement",get:function(){return this.Ro.videoElement}},{key:"manifest",get:function(){return this.Ro.manifest||{video:[]}}},{key:"supportsVideoElementAudioTracks",get:function(){return this.Ro.constructor.supportsVideoElementAudioTracks}},{key:"activeEffects",get:function(){return this.xo}},{key:"latency",get:function(){return this.Ro.latency}},{key:"downloadSpeed",get:function(){return this.Ro.downloadSpeed||0}},{key:"pictureInPictureActive",get:function(){return this.Ro.pictureInPictureActive}},{key:"pictureInPictureEnabled",get:function(){return this.Ro.pictureInPictureEnabled}},{key:"isLowerProfileAvailable",get:function(){return this.Ro.isLowerProfileAvailable}},{key:"buffered",get:function(){return this.Ro.buffered}},{key:"bufferTarget",get:function(){return this.Ro.bufferTarget},set:function(t){this.Io.bufferTarget=t,this.Ro.bufferTarget=t}},{key:"presentationDelay",get:function(){return this.Ro.presentationDelay},set:function(t){this.Io.presentationDelay=t,this.Ro.presentationDelay=t}},{key:"lowLatencyMode",get:function(){return this.Ro.lowLatencyMode},set:function(t){this.Io.lowLatencyMode=t,this.Ro.lowLatencyMode=t}},{key:"manifestLoadDurations",get:function(){return this.Ro.manifestLoadDurations?this.Ro.manifestLoadDurations:[]}},{key:"successfulSegments",get:function(){return this.Ro.successfulSegments?this.Ro.successfulSegments:[]}},{key:"failedSegments",get:function(){return this.Ro.failedSegments?this.Ro.failedSegments:[]}},{key:"cuePoints",get:function(){return this.Ro.cuePoints}},{key:"currentChapterID",get:function(){if(this.Ro&&this.Ro.chaptersTrack&&this.Ro.chaptersTrack.activeCues.length){const{activeCues:t}=this.Ro.chaptersTrack;return t[t.length-1].id}return null}},{key:"chapters",get:function(){return this.Ro.chaptersTrack?this.Ro.chaptersTrack.cues:[]}},{key:"chaptersTrack",get:function(){return this.Ro.chaptersTrack}},{key:"currentFile",get:function(){return this.Ro.currentFile},set:function(t){if("string"==typeof t&&(t=this.It.filter((e=>e.id===t))[0]),!t)throw new TelecineError("FileNotValid","The file is not valid.");this.Ro.currentFile=t}},{key:"currentScannerName",get:function(){return this.Bo(this.Ro)}},{key:"currentScanner",get:function(){return this.Ro}},{key:"currentTime",get:function(){return this.Ro.currentTime},set:function(t){this.Io.currentTime=t,this.Ro.currentTime=t}},{key:"liveEdgeTime",get:function(){const t=this.Ro.liveEdgeTime;return null==t?this.Xo:(this.Xo=t,t)}},{key:"atLiveEdge",get:function(){return this.Ro.atLiveEdge??this.isLive()}},{key:"liveTailTime",get:function(){const t=this.Ro.liveTailTime;return null==t?this.Go:(this.Go=t,t)}},{key:"atLiveTail",get:function(){return this.Ro.atLiveTail??!1}},{key:"duration",get:function(){return this.Ro.duration}},{key:"ended",get:function(){return this.Ro.ended}},{key:"externalDisplayAvailable",get:function(){return this.Ro.externalDisplayAvailable}},{key:"externalDisplayActive",get:function(){return this.Ro.externalDisplayActive}},{key:"loop",get:function(){return this.Ro.loop},set:function(t){this.Io.loop=t,this.Ro.loop=t}},{key:"muted",get:function(){return this.Ro.muted},set:function(t){this.Io.muted=!!t,this.Ro.muted=!!t}},{key:"playsinline",get:function(){return this.Ro.playsinline},set:function(t){this.Io.playsinline=!!t,this.Ro.playsinline=!!t}},{key:"paused",get:function(){return this.Ro.paused}},{key:"played",get:function(){return this.Ro.played}},{key:"seekable",get:function(){return this.Ro.seekable}},{key:"seeking",get:function(){return this.Ro.seeking}},{key:"defaultPlaybackRate",get:function(){return this.Ro.defaultPlaybackRate},set:function(t){this.Io.defaultPlaybackRate=t,this.Ro.defaultPlaybackRate=t}},{key:"playbackRate",get:function(){return this.Ro.playbackRate},set:function(t){this.Io.playbackRate=t,this.Ro.playbackRate=t}},{key:"preload",get:function(){return this.Ro.preload},set:function(t){this.Io.preload=t,this.Ro.preload=t}},{key:"autoPictureInPicture",get:function(){return this.Ro.autoPictureInPicture},set:function(t){this.Io.autoPictureInPicture=!!t,this.Ro.autoPictureInPicture=!!t}},{key:"disablePictureInPicture",get:function(){return this.Ro.disablePictureInPicture},set:function(t){this.Io.disablePictureInPicture=!!t,this.Ro.disablePictureInPicture=!!t}},{key:"video",get:function(){return this.Y},set:function(t){this.Y&&this.Y.deactivate(),this.Lo=[],this.Mo(),null===t?(this.Y=null,this.zo()):(this.Y=new TelecineVideo(t),this.Uo())}},{key:"videoWidth",get:function(){return this.Ro.videoWidth}},{key:"videoHeight",get:function(){return this.Ro.videoHeight}},{key:"volume",get:function(){return this.Ro.volume},set:function(t){if(t<0||t>1)throw new TelecineError("IndexSizeError",`Failed to set the 'volume' property: The volume provided (${t}) is outside of the range [0, 1].`);this.Io.volume=t,this.Ro.volume=t}},{key:"videoElementAudioTracks",get:function(){return this.Ro.audioTracks}},{key:"brainDebug",get:function(){return this.Ro.brainDebug}}])}(ti),Ll=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).Wo=!1,i.Y=i.Er.Ro.Y,i}q(e,t);var n=e.prototype;return n.activate=function(){this.Wo=!0,this.qo=document.createElement("canvas"),this.qo.className="vp-canvas-effect",this.qo.style.cssText="\n            position: absolute;\n            top:0;\n            left:0;\n            bottom:0;\n            right:0;\n        ",this.Yo=this.qo.getContext("2d",{alpha:!1}),this.J.appendChild(this.qo),this.Ko()},n.deactivate=function(){this.qo&&this.J.removeChild(this.qo),this.Zo(),this.Wo=!1},n.Ko=function(){this.Jo()},n.Jo=function(){this.Qo=window.requestAnimationFrame(this.es.bind(this))},n.es=function(){const t=this.Y,e=this.qo;e.width=t.clientWidth,e.height=t.clientHeight;const n=Math.floor(this.ns()),i=Math.floor(this.rs()),r=Math.floor((t.clientWidth-n)/2),o=Math.floor((t.clientHeight-i)/2);this.Yo.fillStyle="#000",this.Yo.fillRect(0,0,e.width,e.height),this.Yo.drawImage(t,r,o,n,i),this.Jo()},n.ss=function(){return this.Y.videoHeight/this.Y.videoWidth},n.ns=function(){return Math.min(this.Y.clientHeight/this.ss(),this.Y.clientWidth)},n.rs=function(){return Math.min(this.Y.clientWidth*this.ss(),this.Y.clientHeight)},n.Zo=function(){this.Qo&&(window.cancelAnimationFrame(this.Qo),this.Qo=null)},X(e,null,[{key:"displayName",get:function(){return"CanvasEffect"}},{key:"supported",get:function(){return!0}},{key:"supportedScanners",get:function(){return[ts,ju]}}])}(cl),xl=function(){return X((function(){}),null,[{key:"Equirect",get:function(){return"equirectangular"}}])}(),Dl=function(){return X((function(){}),null,[{key:"Mono",get:function(){return"mono"}},{key:"TopBottom",get:function(){return"top-bottom"}},{key:"LeftRight",get:function(){return"left-right"}}])}(),Pl=function(){function t(t,e,n){this.isStereo=e!==Dl.Mono,this.us=null,this.ls=null,t===xl.Equirect?this.createEquirectProjection(n,e):this.createEquirectProjection(n,Dl.Mono)}var e=t.prototype;return e.createEquirectProjection=function(t,e){e!==Dl.Mono?(this.us=this.cs(t),this.ls=this.cs(t),this.us.layers.set(1),this.ls.layers.set(2),e===Dl.TopBottom&&(this.ds(this.us.geometry,.5,.5),this.ds(this.ls.geometry,.5,0)),e===Dl.LeftRight&&(this.ds(this.us.geometry,.5,0,0),this.ds(this.ls.geometry,.5,.5,0))):this.us=this.cs(t)},e.cs=function(e,n,i,r){const o=new THREE.SphereBufferGeometry(n||t.SPHERE_RADIUS,i||t.TESSELATION_WIDTH,r||t.TESSELATION_HEIGHT);o.scale(-1,1,1);const s=new THREE.MeshBasicMaterial({map:e});return new THREE.Mesh(o,s)},e.ds=function(t,e,n,i=1){for(let r=0;r<t.attributes.uv.array.length;r+=2)t.attributes.uv.array[r+i]*=e,t.attributes.uv.array[r+i]+=n},X(t,[{key:"left",get:function(){return this.us}},{key:"right",get:function(){return this.ls}}],[{key:"TESSELATION_WIDTH",get:function(){return 120}},{key:"TESSELATION_HEIGHT",get:function(){return 80}},{key:"SPHERE_RADIUS",get:function(){return 500}}])}(),Bl=function(){function t(t){this.hs=t}var e=t.prototype;return e.hasVRHeadset=function(){return Se.webvr?navigator.getVRDisplays().then((t=>t.length>0?(this.hs.vr.setDevice(t[0]),t[0]):null)):null},e.enter=function(){return this.hs.vr.getDevice()&&this.hs.vr.getDevice().requestPresent([{source:this.hs.domElement}])},e.exit=function(){return this.hs.vr.getDevice()&&this.hs.vr.getDevice().exitPresent()},X(t,[{key:"supported",get:function(){return Se.webvr}},{key:"device",get:function(){return this.hs&&this.hs.vr.getDevice()?this.hs.vr.getDevice():null}},{key:"isPresenting",get:function(){return!(!this.hs||!this.hs.vr.getDevice())&&this.hs.vr.getDevice().isPresenting}}])}(),$l=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).Wo=!1,i.fs=null,i.ps=null,i.hs=null,i.isUserInteracting=!1,i.vs=0,i._s=0,i._coordinates={lat:0,long:0},i.bs={lat:0,long:0},i.ys={lat:0,long:0},i.ws=i.cameraProps,i.Ts=0,i.Cs=0,i.Es=0,i.Y=i.Er.Ro.Y,i.ks=null,i.Ss={x:0,y:0},i.As={lat:0,long:0},i.Ns={videoFps:i.tt.fps,motionRenderSpeed:60},i.Ms=1e3/i.Ns.videoFps,i.Os=[],i.Is=!1,i.Rs=!1,i.Ls=!1,i.Ds={up:!1,down:!1,left:!1,right:!1},i}q(e,t),e.frustumSurfaceArea=function(t,e,n){const i=2*Pl.SPHERE_RADIUS*2*Math.sin(Math.PI/180*(t/2));return i*(i*e/n)/(4*Math.PI*Math.pow(Pl.SPHERE_RADIUS,2))};var n=e.prototype;return n.activate=function(){return new r((t=>{if(window.THREE)return void t();const e=document.createElement("script");e.src=this.tt.threeUrl,document.body.appendChild(e),e.onload=()=>{t()}})).then((()=>this.Ge()))},n.Ge=function(){this.Wo=!0,this.fs=new THREE.PerspectiveCamera(this.tt.fieldOfView,this.Y.clientWidth/this.Y.clientHeight,1,2*Pl.SPHERE_RADIUS),this.fs.target=new THREE.Vector3(0,0,0),this.fs.layers.enable(1),this.Ps(this.tt.directorTimeline),this.ps=new THREE.Scene,this.Bs=new THREE.VideoTexture(this.Y),this.Bs.generateMipmaps=!1,this.Bs.minFilter=THREE.NearestFilter,this.Bs.maxFilter=THREE.NearestFilter,this.Bs.format=THREE.RGBFormat,this.$s=new Pl(this.tt.projection,this.tt.stereoMode,this.Bs),this.$s.isStereo&&this.ps.add(this.$s.right),this.ps.add(this.$s.left),this.hs=new THREE.WebGLRenderer,this.hs.vr.enabled=!0,this.hs.setPixelRatio(window.devicePixelRatio),this.Vs=document.createElement("div"),this.hs.domElement.style.margin="0 auto",this.Vs.appendChild(this.hs.domElement),this.J.appendChild(this.Vs),this.Fs(),this.Er.Ro.Y.setAttribute("crossorigin","anonymous"),this.Ko(),this.Er.Ro.paused||this.Hs(),this.Us=new Bl(this.hs),this.Us.supported&&this.Us.hasVRHeadset().then((t=>{setTimeout((()=>{this.Er.fire(po.WEBVR_HARDWARE_AVAILABLE,this.Us.device)}),100)})).catch((t=>{}))},n.toggleVR=function(){if(this.Us.isPresenting)this.Us.exit().then((()=>{this.adjustRenderSize()})).catch((t=>{}));else{if(this.Er.Ro.paused)return;this.Us.enter().then((()=>{this.adjustRenderSize()})).catch((t=>{}))}},n.onplay=function(){this.Wo&&(this.Hs(),this.adjustRenderSize())},n.deactivate=function(){this.Vs&&this.J.removeChild(this.Vs),this.Zo(),this.Wo=!1},n.snapToCenter=function(){this.Os.forEach((t=>clearTimeout(t)));const t=((this._coordinates.long>=180?360:0)-this._coordinates.long)/11,e=(0-this._coordinates.lat)/11;this.Es=0;for(let n=0;n<50;n++)this.Os.push(setTimeout((()=>{0===n&&(this.Is=!0,this.tt.isMobile||(this.Ms=1e3/this.Ns.motionRenderSpeed)),49===n&&(this.Is=!1,this.tt.isMobile||(this.Ms=1e3/this.Ns.videoFps)),this.zs(this._coordinates.lat+e/Math.pow(1.1,n),this._coordinates.long+t/Math.pow(1.1,n)),this.As.lat=THREE.Math.radToDeg(this.Ss.x)+this._coordinates.lat+e/Math.pow(1.1,n),this.As.long=THREE.Math.radToDeg(this.Ss.y)+this._coordinates.long+e/Math.pow(1.1,n)}),n*this.Ms))},n.isStereo=function(){return!!this.$s&&this.$s.isStereo},n.Ps=function(t){t&&t[0]&&void 0!==t[0].p&&"undefined"!==t[0].y&&this.zs(t[0].p,t[0].y)},n.zs=function(t,e){this.bs.long=this._coordinates.long,this.bs.lat=this._coordinates.lat,t%=360,this._coordinates.lat=Math.max(-85,Math.min(85,t)),e=(e%=360)>=0?e:360+e,this._coordinates.long=e},n.makeContact=function(t){this.isUserInteracting=!0,this.Os.forEach((t=>clearTimeout(t))),this.Is=!1,this.Xs={x:t.x,y:t.y},this.ys.long=this._coordinates.long,this.ys.lat=this._coordinates.lat,this.Gs={long:this._coordinates.long,lat:this._coordinates.lat},this.tt.isMobile||(this.Ms=1e3/this.Ns.motionRenderSpeed)},n.move=function(t){this.As.lat=THREE.Math.radToDeg(this.Ss.x)+this.bs.lat,this.As.long=THREE.Math.radToDeg(this.Ss.y)+this.bs.long;const e=this.Gs.lat-.2*(this.Xs.y-t.y),n=.2*(this.Xs.x-t.x)+this.Gs.long;this.zs(e,n)},n.moveWheel=function(t){this.As.lat=THREE.Math.radToDeg(this.Ss.x)+this.bs.lat,this.As.long=THREE.Math.radToDeg(this.Ss.y)+this.bs.long;const e=this._coordinates.lat-.1*t.y,n=this._coordinates.long+.1*t.x;this.zs(e,n)},n.moveDevice=function(t,e,n,i){this.Ls=!0;const r=new THREE.Quaternion;let o=window.orientation;null===o&&(o=this.Y.clientWidth>this.Y.clientHeight?90:0),t=t?THREE.Math.degToRad(t):0,e=e?THREE.Math.degToRad(e):0,n=n?THREE.Math.degToRad(n):0;const s=o?THREE.Math.degToRad(o):0,a=new THREE.Vector3(0,0,1),u=new THREE.Euler,l=new THREE.Quaternion,c=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));u.set(e,t,-n,"YXZ"),r.setFromEuler(u),r.multiply(c),r.multiply(l.setFromAxisAngle(a,-s)),this.Ss=(new THREE.Euler).setFromQuaternion(r,"YXZ"),this.Es=this.Ss.z,this.isUserInteracting||this.Is||this.zs(THREE.Math.radToDeg(this.Ss.x)-this.As.lat,-THREE.Math.radToDeg(this.Ss.y)+this.As.long),this.Rs||(this.snapToCenter(),this.Er.fire(po.MOTION_START),this.Rs=!0)},n.releaseContact=function(t){if(this.As.lat=THREE.Math.radToDeg(this.Ss.x)-this._coordinates.lat,this.As.long=THREE.Math.radToDeg(this.Ss.y)+this._coordinates.long,this.isUserInteracting=!1,this.Gs&&!t){const t=Math.hypot(this._coordinates.long-this.Gs.long,this._coordinates.lat-this.Gs.lat);this.Ws(t)}},n.abandonMotion=function(){this.isUserInteracting=!1,this.Gs=null},n.keyPress=function(t){this.tt.keyboardDisabled||(this.qs()||(this.isUserInteracting=!0,this.Os&&this.Os.forEach((t=>clearTimeout(t)))),this.Ds[t]||(this.Ds[t]=!0))},n.keyUp=function(t){this.Ds[t]=!1,this.qs()||(this.isUserInteracting=!1,this.Ws(1/0))},n.Ys=function(){Object.keys(this.Ds).forEach((t=>{if(this.Ds[t])switch(t){case"up":this.zs(this._coordinates.lat+2,this._coordinates.long);break;case"down":this.zs(this._coordinates.lat-2,this._coordinates.long);break;case"left":this.zs(this._coordinates.lat,this._coordinates.long-2);break;case"right":this.zs(this._coordinates.lat,this._coordinates.long+2)}}))},n.qs=function(){return Object.keys(this.Ds).map((t=>this.Ds[t])).some((t=>t))},n.Ws=function(t){if(t>=20){const e={long:this._coordinates.long-this.bs.long,lat:this._coordinates.lat-this.bs.lat};t===1/0&&(e.long/=2,e.lat/=2);for(let t=1;t<50;t++)this.Os.push(setTimeout((()=>{1===t&&(this.Is=!0),49===t&&(this.Is=!1,this.Ms=1e3/this.Ns.videoFps);const n=2/Math.pow(t,1.5);this.As.lat=THREE.Math.radToDeg(this.Ss.x)+this._coordinates.lat+e.lat,this.As.long=THREE.Math.radToDeg(this.Ss.y)+this._coordinates.long+e.long,this.zs(this._coordinates.lat+e.lat*n,this._coordinates.long+e.long*n)}),t*this.Ms))}},n.onseeked=function(){this.Wo&&this.Ks()},n.onresize=function(){this.adjustRenderSize(),this.isUserInteracting=!1},n.Ks=function(){if(!this.isVRPresenting){this.Ts=THREE.Math.degToRad(90+this._coordinates.lat),this.Cs=THREE.Math.degToRad(this._coordinates.long),this.fs.position.set(Math.sin(this.Ts)*Math.cos(this.Cs),Math.cos(this.Ts),Math.sin(this.Ts)*Math.sin(this.Cs)),this.fs.lookAt(this.fs.target),this.fs.rotation.z+=this.Es;const t=this.cameraProps;this.Er.fire(po.CAMERA_UPDATE,t),this.ws.yaw===t.yaw&&this.ws.pitch===t.pitch&&this.ws.roll===t.roll&&this.ws.fov===t.fov||(this.ws=t,this.Er.fire(po.CAMERA_CHANGE,t))}this.hs.render(this.ps,this.fs)},n.adjustRenderSize=function(){if(this.isVRPresenting)this.fs.aspect=this.Y.clientWidth/this.Y.clientHeight,this.fs.updateProjectionMatrix(),this.hs.setSize(this.Y.clientWidth,this.Y.clientHeight);else{this.Y.clientWidth>this.Y.clientHeight?this.fs.aspect=Math.max(1,Math.min(2,this.Y.clientWidth/this.Y.clientHeight)):this.fs.aspect=Math.max(1/3,Math.min(3,this.Y.clientWidth/this.Y.clientHeight)),this.fs.updateProjectionMatrix();const t=Ro(this.Y.clientWidth,this.Y.clientHeight,this.fs.aspect,1);this.hs.setSize(t.width,t.height),this.Vs.style.paddingTop=`${t.top}px`}},n.Ko=function(){this.hs.setAnimationLoop((()=>{this.qs()&&this.Ys(),this.Ks()}))},n.Zo=function(){this.hs.setAnimationLoop(null)},n.Hs=function(){this.Zs({backgroundColor:"#000",display:"block"})},n.Fs=function(){this.Zs({backgroundColor:"#000",display:"none"})},n.Zs=function({backgroundColor:t,display:e}={}){this.Vs.style.cssText=`position:absolute;left:0;top:0;margin-left:auto;margin-right:auto;padding:0;background:${t};width:100%;height:100%;text-align:center;display:${e}`},X(e,[{key:"isUserInteracting",get:function(){return this.Js},set:function(t){t!==this.Js&&(this.Js=t,t?this.tt.isMobile||this.Er.fire(po.MOTION_START):this.tt.isMobile||this.Er.fire(po.MOTION_END))}},{key:"currentCoordinates",get:function(){return this._coordinates},set:function([t,e]){if(t>90||t<-90)throw new RangeError("Latitude should be a float between -90 and 90.");if(e<0||e>360)throw new RangeError("Longitude should be a float between 0 and 360.");this.zs(t,e),this.Ks()}},{key:"cameraProps",get:function(){return{yaw:this._coordinates.long,pitch:this._coordinates.lat,roll:this.roll,fov:this.fieldOfView}},set:function(t){t=J(J({},this.cameraProps),t),this.fieldOfView=t.fov,this.roll=t.roll,this.currentCoordinates=[t.pitch,t.yaw]}},{key:"roll",get:function(){return 180*this.Es/Math.PI},set:function(t){if(t<-180||t>180)throw new RangeError("Roll should be a float between -180 and 180.");this.Es=THREE.Math.degToRad(t)}},{key:"isVRPresenting",get:function(){return this.Us&&this.Us.isPresenting}},{key:"fieldOfView",get:function(){return this.fs?this.fs.fov:this.tt.fieldOfView},set:function(t){this.fs.fov=t,this.fs.updateProjectionMatrix(),this.hs.render(this.ps,this.fs)}},{key:"hasVRHeadset",get:function(){return this.Us&&!!this.Us.device}}],[{key:"displayName",get:function(){return"ThreeSixtyEffect"}},{key:"supported",get:function(){try{const t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return this.Er.Ro.fire(po.SPATIAL_UNSUPPORTED),!1}}},{key:"supportedScanners",get:function(){return[ts,ju]}}])}(cl),jl=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).connected=!1,i.Qs=null,i.ta=null,i.ea=null,i.na=null,i.ia=null,i}q(e,t);var n=e.prototype;return n.activate=function(){return this.Qs=new AudioContext,new r(((t,e)=>{if("undefined"!=typeof ambisonics)return void t();const n=document.createElement("script");n.src=this.tt.ambisonicsUrl,document.body.appendChild(n),n.onload=()=>t(),n.onerror=()=>e()})).then((()=>this.toggleAmbisonics())).catch((()=>{this.Er.Ro.fire(po.AMBISONIC_UNSUPPORTED)}))},n.deactivate=function(){this.ra(!0)},n.toggleAmbisonics=function(){var t;((null==(t=this.Er.getCurrentStream("audio"))?void 0:t.ambisonic_order)??0)<1?this.ra():this.oa()},n.oa=function(){var t;if(!this.Qs)return;const e=(null==(t=this.Er.getCurrentStream("audio"))?void 0:t.ambisonic_order)??0;if(this.connected||e<1)return;const n=this.Er.Ro.Y;this.ta=this.Qs.createMediaElementSource(n),this.ea=new ambisonics.sceneMirror(this.Qs,e),this.na=new ambisonics.sceneRotator(this.Qs,e),this.ia=new ambisonics.binDecoder(this.Qs,e),this.ta.connect(this.ea.in),this.ea.out.connect(this.na.in),this.na.out.connect(this.ia.in),this.ia.out.connect(this.Qs.destination),this.ea.mirror(1),this.connected=!0},n.ra=function(t=!1){this.ta&&this.ta.disconnect(),t&&this.Qs&&(this.Qs.close(),this.Qs=null),this.ta=null,this.ea=null,this.na=null,this.ia=null,this.connected=!1},n.updateRotation=function(t,e,n){this.na&&(this.na.yaw!==t||this.na.pitch!==e||this.na.roll!==n)&&(this.na.yaw=t,this.na.pitch=e,this.na.roll=n,this.na.updateRotMtx())},X(e,null,[{key:"displayName",get:function(){return"AmbisonicEffect"}},{key:"supported",get:function(){return void 0!==window.AudioContext}},{key:"supportedScanners",get:function(){return[ts,ju]}}])}(cl);const Vl={h264:"video/mp4",hls:"application/vnd.apple.mpegurl",hlsLive:"application/x-mpegURL",dash:"application/vnd.vimeo.dash+json",dashMpd:"video/vnd.mpeg.dash.mpd",vp6:"video/x-flv",vp8:"video/webm",webm:"video/webm",hds:"application/f4m"},Fl={"application/vnd.apple.mpegurl":"hls","application/vnd.vimeo.dash+json":"dash","video/vnd.mpeg.dash.mpd":"dash","video/mp4":"progressive","video/webm":"progressive","video/x-flv":"progressive","application/x-mpegURL":"hlslive"},Hl="pending",Ul="active",zl="started",Xl="ended",Gl="started",Wl="done",ql="error";var Yl=/\s/,Kl=/^\s+/;var Zl=/^[-+]0x[0-9a-f]+$/i,Jl=/^0b[01]+$/i,Ql=/^0o[0-7]+$/i,tc=parseInt;function ec(t){if("number"==typeof t)return t;if(ze(t))return NaN;if(We(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=We(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Yl.test(t.charAt(e)););return e}(t)+1).replace(Kl,""):t}(t);var n=Jl.test(t);return n||Ql.test(t)?tc(t.slice(2),n?2:8):Zl.test(t)?NaN:+t}var nc=1/0;var ic=xe.isFinite,rc=Math.min,oc=function(){var t=Math.round;return function(e,n){if(e=ec(e),(n=null==n?0:rc(function(t){var e=function(t){return t?(t=ec(t))===nc||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(n),292))&&ic(e)){var i=(kn(e)+"e").split("e");return+((i=(kn(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}();function sc(t){return!isNaN(t)}function ac(t){return oc(t,3)}function uc(t){return"webkitDisplayingFullscreen"in t&&t.webkitDisplayingFullscreen}let lc=0;function cc(t="b"){return`${t}${++lc}`}cc(),cc();const dc=cc(),hc=cc(),fc=cc(),pc=cc(),vc=cc(),mc=cc(),_c=cc(),bc=cc(),yc=cc(),gc=cc(),wc=cc(),Tc=cc(),Cc=cc(),Ec=cc(),kc=cc(),Sc=cc(),Ac=cc(),Nc=cc(),Mc=cc(),Oc=cc();var Ic=Object.freeze({__proto__:null,CONFIG_CHANGED:_c,TELECINE_READY:bc,TELECINE_VIDEO_INIT:yc,PLAY_INITIATED:gc,QUALITY_CHANGED:wc,FORCED_QUALITY:Tc,CUE_CHANGED:Cc,CAPTIONS_CHANGED:Ec,SPATIAL_PLAYBACK_TOGGLED:kc,PICTURE_IN_PICTURE_AVAILABLE_SAFARI:Sc,HLS_QUALITY_CHANGED:Ac,REQUEST_COMPLETE_LIVE_SUBTITLES:Nc,COMPLETE_LIVE_SUBTITLES_LOADED:Mc,COMPLETE_LIVE_SUBTITLES_ERROR:Oc}),Rc=Object.freeze({__proto__:null,EVENT_PENDING:"liveeventpending",EVENT_ACTIVE:"liveeventactive",EVENT_STARTING:"liveeventstarting",EVENT_STARTED:"liveeventstarted",EVENT_ENDED:"liveeventended",ARCHIVE_STARTED:"livearchivestarted",ARCHIVE_DONE:"livearchivedone",ARCHIVE_ERROR:"livearchiveerror",SETTINGS_UPDATED:"livesettingsupdated",LOW_LATENCY_FALLBACK:"lowlatencyfallback",LIVE_STATS_SUCCESS:"livestatssuccess",LIVE_STATS_FAILURE:"livestatsfailure"});J(J(J(J(J(J(J(J({},ao),ho),fo),Rc),po),lo),vo),Ic);const Lc=J(J({},fo),Rc);function xc(t){var e;return(null==t||null==(e=t.archive)?void 0:e.status)===Wl}function Dc(t){return(null==t?void 0:t.status)===Hl}function Pc(t){return(null==t?void 0:t.status)===zl}function Bc(t){return(null==t?void 0:t.status)===Xl}function $c(t){return jc(t,"/playlist/refresh")}function jc(t,e){var n;const i=null==(n=t.request.files.hls)?void 0:n.default_cdn,{signature:r,timestamp:o,expires:s}=t.request;return`https://${t.player_url}/live/${t.video.id}${e}?signature=${r}&time=${o}&expires=${s}&cdn=${i}`}var Vc=Object.prototype.hasOwnProperty;function Fc(t){if(null==t)return!0;if(Di(t)&&(Ie(t)||"string"==typeof t||"function"==typeof t.splice||vi(t)||Si(t)||di(t)))return!t.length;var e=mr(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Oi(t))return!xi(t).length;for(var n in t)if(Vc.call(t,n))return!1;return!0}function Hc(t){const e=this;let n={};const i={get attributes(){return Object.assign({},e)},get previousAttributes(){return n},clear(){r();var t=e.attributes;for(var n in t)delete e[n]},set(t){for(var n in r(),t=Pr(t))e[n]=t[n]},clone:()=>new Hc(e.attributes),toJSON:()=>Pr(e.attributes)};function r(){Fc(e.attributes)||(n=Pr(e.attributes))}return i.set(t),st(e,i)}function Uc(t,e){const n=new Hc(oo(t,e));let i=!1;return at(n,{reset:function(t){return n.clear(),function(t){i=!0,n.set(t),oo(n,e)}(t),n},isNewVideo:function(){const t=n.previousAttributes;return!i||t.video.id!==n.video.id||t.video.version.current!==n.video.version.current||t.video.live_event&&!xc(t.video.live_event)&&(!n.video.live_event||xc(n.video.live_event))}})}function zc(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=ec(n))==n?n:0),void 0!==e&&(e=(e=ec(e))==e?e:0),function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}(ec(t),e,n)}function Xc(t){return t.quality||t.metadata.quality}function Gc(t,e){t.embed.settings.audio_tracks||(e=null);const n=t.request.files,i=Zc(n),r=id(t),o=t.request.cookie.quality||r||function(t){const e=Zc(t.request.files);let n=e.some(ed);Se.mobileAndroid&&(n=!1);let i="720p";if(n){const t=e.map(Xc);-1!==t.indexOf("1080p")&&-1===t.indexOf("720p")&&(i="1080p")}return t.request.cookie.hd||t.video.default_to_hd?i:"360p"}(t);let s=function({files:t=[],preference:e="360p",priorityOffset:n=0}){(t=a(t)).sort(od());const i=t.map(Xc);if(e){-1===i.indexOf(e)&&(i.push(e),i.sort(((t,e)=>nd(e)-nd(t))));const t=i.indexOf(e),n=i.splice(0,t);n.reverse(),i.push.apply(i,et(n))}return t.map((t=>({id:t.id,src:t.url,mime:t.mime,priority:i.indexOf(t.quality)+1+n,metadata:{profile:t.profile,cdn:t.cdn,origin:t.origin,quality:t.quality,fps:t.fps}})))}({files:i,preference:o,priorityOffset:3});return n.hls&&(s=s.concat(Yc(t,!1,e)),t.request.drm&&Se.browser.webKit)||n.dash&&(s=s.concat(Kc(t,!1,e))),s}function Wc(t,e=!1,n=!1){let i=t.url;if("avc_url"in t&&(i=t.avc_url),e)return i;const r=Se.dolbyVision,o=Se.hdr&&Se.hevc,s=Se.hevc;return n||(r&&"hevc_dvh1_url"in t?i=t.hevc_dvh1_url:o&&"hevc_hdr_url"in t?i=t.hevc_hdr_url:s&&"hevc_sdr_url"in t&&(i=t.hevc_sdr_url)),Se.av1&&"av1_url"in t&&(i=t.av1_url),i}function qc(t){return t.fallback_url}function Yc(t,e=!1,n=null){var i;const r=t.request.files,o=r.hls.default_cdn,s=t.request.drm,a=r.hls.cdns[o],u=(null==a||null==(i=a.alternatives)?void 0:i[n])||a,l=e?qc(u):Wc(u,s);return{id:`hls-${o}-${t.video.id}`,src:l,mime:Vl.hls,priority:3,metadata:{cdn:o,origin:r.hls.cdns[o].origin,quality:"sd"}}}function Kc(t,e=!1,n=null){const i=t.request.files;return Fc(i.dash)?[]:Object.keys(i.dash.cdns).map((r=>{var o;const s=i.dash.cdns[r],a=(null==s||null==(o=s.alternatives)?void 0:o[n])||s,u=(Se.browser.chrome||Se.browser.firefox)&&t.request.drm,l=e?qc(a):Wc(a,!1,u);return{id:`dash-${r}-${t.video.id}`,src:l,mime:t.request.drm?Vl.dashMpd:Vl.dash,priority:r===i.dash.default_cdn?1:2,metadata:{cdn:r,origin:i.dash.cdns[r].origin,quality:"sd"}}}))}function Zc(t){if(Fc(t.progressive))return[];let e=t.progressive;return"progressive_avc"in t&&(e=t.progressive_avc),e.filter(Qc(e))}function Jc(t){if("number"==typeof t)return t;const e=t.split("-");return 5===e.length?e[0]:parseInt(e[0],10)}function Qc(t){const e=t.filter(td).map(Xc);return t=>-1===e.indexOf(Xc(t))||td(t)}function td(t){let e=t.fps;return"metadata"in t&&(e=t.metadata.fps),e>30}function ed(t){return nd(t)>=720}function nd(t){return"string"!=typeof t&&(t=Xc(t)),parseInt(t,10)}function id(t){const e=Zc(t.request.files).map((t=>t.quality));return rd(t,t.embed.quality,e)}function rd(t,e,n=[]){return t.embed.on_site||!e||n.length&&-1===n.indexOf(e)?null:e}function od(t="desc"){return(e,n)=>{const i=nd(e),r=sd(e),o=nd(n),s=sd(n);return"asc"===t?i-o||r-s:o-i||s-r}}function sd(t){return"object"!=typeof t?0:"fps"in t?t.fps:"metadata"in t&&"fps"in t.metadata?t.metadata.fps:0}function ad(t){const e=t.video.live_event,n=t.request.files;if(!Fc(n.hls)){var i;const r=n.hls.default_cdn,o=n.hls.cdns[r].json_url||function(t){var e;const n=t.dvr,i=t.low_latency;var r,o;return n?null==(r=t.playback_urls)?void 0:r["akamai-fmp4"].hls_noredirect:i?null==(o=t.playback_urls)?void 0:o["akamai-low-latency"].hls_noredirect:null==(e=t.playback)?void 0:e.hls_noredirect}(e),s=null!=(i=t.request.flags)&&i.live_dash?2:1;return{id:`hls-${r}-${t.video.id}`,src:o,mime:Vl.hlsLive,priority:s,metadata:{cdn:r,origin:n.hls.cdns[r].origin,quality:"sd"}}}return null}function ud(t,e){let n=[];if(e.video){const r=e.video.currentFile.mime;if(r===Vl.hlsLive)return e.manifest.video.map((t=>J(J({},t),{},{quality:`${t.height}p`})));if([Vl.dash,Vl.dashMpd].includes(r)){var i;const r=!!e.video.drmHandler,o=r&&"sd-fallback"===e.video.drmHandler.state;n=function(t,e=!1){if(!t)return[];let n=t.streams;"streams_avc"in t&&(n=t.streams_avc);const i=Se.dolbyVision,r=Se.hevc&&Se.hdr,o=Se.hevc;return i&&"streams_hevc_dvh1"in t?n=t.streams_hevc_dvh1:r&&"streams_hevc_hdr"in t?n=t.streams_hevc_hdr:o&&"streams_hevc_sdr"in t?n=t.streams_hevc_sdr:Se.av1&&"streams_av1"in t&&(n=t.streams_av1),e&&"streams_fallback"in t&&(n=t.streams_fallback),n}(t.request.files.dash,o),!r&&null!=e&&null!=(i=e.currentScanner)&&i.manifestLoaded&&(n=function(t,e){const n=e.map((t=>t.id));return t.filter((t=>{const e=Jc(t.id);return n.includes(t.id)||n.includes(e)}))}(n,e.currentScanner.videoStreams))}else n=e.video.files.filter((t=>"progressive"===Fl[t.mime]))}return n.filter(Qc(n)).sort(od())}function ld(t){let e=Xc(t);const n={"1440p":"2K","2160p":"4K","2700p":"5K","3240p":"6K","3780p":"7K","4320p":"8K"};for(const t in n)e=e.replace(t,n[t]);return e}function cd(t){return Se.spatialPlayback&&t.video.spatial?35:75}function dd(t){return t.request.text_tracks.map((t=>({id:t.id,src:t.url,kind:t.kind,label:t.label,language:t.lang,provenance:t.provenance})))}let hd={captureException(t){},captureMessage(t){},captureBreadcrumb(){}},fd=hd;var pd=function(t){fd=Object.assign({},hd,t)},vd=function(t,e){return fd.captureException(t,e)},md=function(t,e,n="backbone",i="info"){return fd.captureBreadcrumb(t,e,n,i)};function _d(t,e,n){let i=!1,r=!1,o=!1,s=!0,a="auto";function u(t){if(!s&&n.buffered&&n.buffered.length>0){t=t||n.currentTime;const r=function(t,e){var n=t.length-1;if(t.length>1)for(var i=0,r=t.length;i<r;i++)if(t.start(i)<=e&&t.end(i)>=e){n=i;break}return n}(n.buffered,t),s=n.buffered.end(r),a=s/n.duration,u=n.duration;if(e.fire(ao.PROGRESS,{loaded:s,duration:u,loadProgress:a}),o&&i&&s===n.duration)return void(i&&n.paused&&n.play().catch(vd))}}function l(e){if("auto"===e)return void(n.video.currentFile.restrictedStreamIndexes=[]);const i=ud(t,n).reverse().map((t=>t.quality)).indexOf(e);-1!==i&&(md(`Switched to ${e}`,{},"video"),n.video.currentFile.restrictedStreamIndexes=[i])}function c(i){const r=ud(t,n).map((t=>t.quality)),o=rd(t,t.embed.quality,r);o&&e.fire(Tc,o),l(o||"auto")}return e.on(yc,(function(){var e;n.playsinline=t.embed.playsinline,n.muted=t.embed.muted,n.lowLatencyMode=null==(e=t.video.live_event)?void 0:e.low_latency})),e.on(hc,(function(){s=!0,n.paused||n.pause(),r=!1,i=!1,n.currentTime=0})),e.on(fc,(function(){n.paused||n.pause(),n.video=null})),n.on(ao.PLAY,(function(){s=!1,e.fire(ao.PLAY,n.currentTime)})),n.on(ao.PAUSE,(function(){i=!1,e.fire(ao.PAUSE,n.currentTime,n.ended)})),n.on(ao.PLAYING,(function(t){u()})),n.on(ao.TIME_UPDATE,(function(){if(s)return;const{currentTime:t,liveEdgeTime:i,atLiveEdge:r,liveTailTime:o,atLiveTail:a,duration:u,playbackRate:l}=n,c=t/u;e.fire(ao.TIME_UPDATE,{currentTime:t,liveEdgeTime:i,atLiveEdge:r,liveTailTime:o,atLiveTail:a,duration:u,playbackRate:l,timeProgress:c})})),n.on(ao.ENDED,(function(t){n.loop?n.play().catch(vd):(i=!1,e.fire(ao.ENDED,t))})),n.on(ao.LOADED_METADATA,(function(e){const i=n.duration;if(isFinite(i)&&i>0){if(i<t.video.duration-1||i>t.video.duration+1)return;t.video.duration=i}t.video.video_width=n.videoWidth,t.video.video_height=n.videoHeight})),n.on(ao.DURATION_CHANGE,(function(e){const i=n.duration;isFinite(i)&&(t.video.duration>0&&(i<t.video.duration-1||i>t.video.duration+1)||(t.video.duration=i))})),n.on(ao.PROGRESS,u),n.on(ho.BUFFER_STARTED,(()=>{o=!0})),n.on(ho.BUFFER_ENDED,(()=>{o=!1})),e.on(dc,(function(e){n.isLive()&&0===n.liveEdgeTime||(e=zc(e,ac(n.isLive()?n.liveTailTime:0),ac(n.isLive()?n.liveEdgeTime:n.duration||t.video.duration)),n.currentTime=e)})),n.on(ao.SEEKING,(function(){const t=n.currentTime,i=n.duration,r=t/i;e.fire(ao.SEEKING,{currentTime:t,duration:i,timeProgress:r})})),n.on(ao.SEEKED,(function(){u();const t=n.currentTime,i=n.duration,r=t/i;e.fire(ao.SEEKED,{currentTime:t,duration:i,timeProgress:r})})),n.on(ho.CURRENT_FILE_CHANGE,(function(i){md("Current file changed",{id:i.id,mime:i.mime,src:i.src,metadata:i.metadata},"video"),i.metadata.quality,[Vl.dash,Vl.dashMpd].includes(i.mime)&&c(),[Vl.hlsLive].includes(i.mime)?n.once(ho.STREAMS_LOADED,(()=>{c()})):function(){const n=id(t);n&&e.fire(Tc,n)}()})),n.on(ao.RESIZE,(function(){n.video.currentFile.mime===Vl.hls&&n.videoHeight&&e.fire(Ac,{height:n.videoHeight})})),{play:function(){return i=!0,r||(e.fire(gc),r=!0),n.play()},pause:function(){i=!1,n.pause()},get quality(){return a},set quality(i){!function(i){const r=n.video.currentFile.mime;if([Vl.dash,Vl.dashMpd,Vl.hlsLive].includes(r))l(i);else{const e=ud(t,n).filter((t=>t.metadata.quality===i));e.length>0&&(s=!0,n.video.currentFile=e[0])}a=i,e.fire(wc,i)}(i)}}}function bd(t,e,n){let i=null;Se.spatialPlayback&&(e.on(yc,(function(){i&&(n.deactivateEffect($l),i=null,e.fire(kc,i));const r=t.video.spatial;r&&(t.request.drm||n.supportsEffect($l)&&(i=n.activateEffect($l,{threeUrl:t.request.urls.three_js,fps:t.video.fps,fieldOfView:r.fov,directorTimeline:r.director_timeline,projection:r.projection,stereoMode:r.stereo_mode,initialView:r.initial_view,isMobile:Se.android,dimensions:t.embed.on_site?{width:1080,height:540}:{width:640,height:360},keyboardDisabled:!t.embed.keyboard}),e.fire(kc,i)))})),n.on(po.SPATIAL_UNSUPPORTED,(function(){i&&(n.deactivateEffect($l),i=null,e.fire(kc,i))})))}function yd(t,e,n){let i=null;e.on(yc,(function(){i&&(n.deactivateEffect(Ll),i=null),t.video.canvas&&(t.request.drm||n.supportsEffect(Ll)&&(i=n.activateEffect(Ll)))}))}var gd=io((function(t,e,n){eo(t,e,n)}));function wd(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const Td=5e3;function Cd(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}let Ed=function(t){function e(e,n,i,r){var o;return(o=t.call(this)||this).sa=yt(),o.aa=Pr(e),o.la=e.session_url||e.sessionUrl,o.ca=e.subtitleUrl,o.da=n,o.ha=r,o.fa=i,o.pa=!1,o.va=!1,o.ma=e.dvr,o._a(),o}q(e,t);var n=e.prototype;return n.requestCompleteLiveSubtitles=function(){try{const t=this;return wd(Cd((function(){return wd(Qt({url:t.ca,retry:3,retryStatus:t=>[410].includes(t)||P.retryStatus(t),hooks:{beforeRetry:[t.ba.bind(t)]}}).json(),(function(t){if(null==t||!t.url)throw new Error("No webvtt url was available to fetch");return wd(Qt(t.url).text(),Yu)}))}),(function(t){throw t})))}catch(t){return r.reject(t)}},n.ba=function(t){try{return wd(this.ya(),(function(e){t.url=e}))}catch(t){return r.reject(t)}},n.ya=function(){try{const t=this;return wd(Qt(t.ha).json(),(function(e){return t.ca=e.url,e.url}))}catch(t){return r.reject(t)}},n.disable=function(){this.va=!0},n.forcePolling=function(){this.isForcePolling||(this.pa=!0,this._a())},n.unforcePolling=function(){this.pa=!1},n._a=function(){!1!==this.aa.polling&&(this.aa.id&&this.sa.resolve(),this.ga()?this.wa():this.Ta()&&this.Ca())},n.Ta=function(){var t;return!(Bc(this.aa)&&(null==(t=this.aa.archive)?void 0:t.status)!==Gl||!this.isForcePolling&&Pc(this.aa))},n.ga=function(){return!this.la||!(!Dc(this.aa)||null!==this.aa.id)},n.Ea=function(){try{const t=this;return wd(Qt(t.da).json(),(function(e){return t.la=e.url,e.url}))}catch(t){return r.reject(t)}},n.Ca=function(){try{const t=this;if(t.va)return wd();let e,n={};return Se.browser.ie&&(n={Pragma:"no-cache","Cache-Control":"no-cache"}),wd(function(t,e){return t&&t.then?t.then(e):e()}(Cd((function(){return wd(Qt({url:t.la,retry:3,retryStatus:t=>[410].includes(t)||P.retryStatus(t),hooks:{beforeRetry:[t.ka.bind(t)]},headers:n}).json(),(function(t){e=t}))}),(function(){throw new Error(`Hit max retries polling ${t.la}`)})),(function(n){if(t.ma&&(e.dvr=t.ma),e.status!==t.aa.status){if(Bc(e)&&"provision_expire"===e.terminate_reason)return t.la=null,t.aa.id=null,void setTimeout(t._a.bind(t),Td);const n={[Ul]:Lc.EVENT_ACTIVE,[Hl]:Lc.EVENT_PENDING,[zl]:Lc.EVENT_STARTED,[Xl]:Lc.EVENT_ENDED}[e.status];try{t.fire(n,e)}catch(t){throw new Error(`Error firing live event status change ${t}`)}}if(e.archive&&(!t.aa.archive||e.archive.status!==t.aa.archive.status)){const n={[Gl]:Lc.ARCHIVE_STARTED,[Wl]:Lc.ARCHIVE_DONE,[ql]:Lc.ARCHIVE_ERROR}[e.archive.status];t.fire(n,e)}t.aa=gd(t.aa,e),t.Ta()&&setTimeout(t.Ca.bind(t),Td)})))}catch(t){return r.reject(t)}},n.ka=function(t){try{return wd(this.Ea(),(function(e){t.url=e}))}catch(t){return r.reject(t)}},n.wa=function(){try{const t=this;return t.va?wd():wd(Qt(t.fa).json(),(function(e){let n=!1;return function(i,r){var o=function(){if(null!==e.ingest.session_id)return t.sa.resolve(),t.aa.id=e.ingest.session_id,wd(t.Ea(),(function(){t.Ca(),n=!0}))}();return o&&o.then?o.then(r):r(o)}(0,(function(e){if(n)return e;setTimeout(t.wa.bind(t),Td)}))}))}catch(t){return r.reject(t)}},X(e,[{key:"isForcePolling",get:function(){return this.pa}},{key:"liveEventIDReady",get:function(){return this.sa}}])}(ti);function kd(){}function Sd(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function Ad(t,e,n){const i=Sd((function(){return function(t){return t&&t.then?t.then(kd):r.resolve()}({hive:()=>{},kollective:()=>{}}[t.video.ecdn.ecdn_provider]())}));let o,s,a,u=!1,l=0,c=0;function d(){s&&(s.disable(),s=null)}function h(){n.endLive()}return e.on(_c,(function(){o&&!t.isNewVideo()||(o=!0,d(),t.video.live_event&&!xc(t.video.live_event)&&(function(n){s=new Ed(n,function(t){return jc(t,"/session/refresh")}(t),function(t){return`https://${t.vimeo_url}/live_event/status?clip_id=${t.video.id}`}(t),function(t){return jc(t,"/subtitle/refresh")}(t)),s.on(Lc.EVENT_ENDED,h),Object.keys(Lc).forEach((t=>{const n=Lc[t];s.on(n,(t=>{e.fire(n,t)}))})),e.on(Nc,Sd((function(){return function(t){if(t&&t.then)return t.then(kd)}(function(t,n){try{var i=function(){var t;return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(null==(t=s)?void 0:t.requestCompleteLiveSubtitles(),(function(t){e.fire(Mc,t)}))}()}catch(t){return n()}return i&&i.then?i.then(void 0,n):i}(0,(function(t){e.fire(Oc)})))})))}(t.video.live_event),function(){l=0,c=0;let t=!1;n.once(ao.PLAYING,(()=>t=!0));let i=Tt();clearInterval(a),a=setInterval((()=>{n.paused||(l+=kt(i)/1e3),t&&u&&(c+=kt(i)/1e3),function(t){if(n.lowLatencyMode&&t>12&&n.latency>10&&u){const t="Rebuffer ratio > 12% and latency > 10s, fallback to normal HLS w/ target latency of 12s.";e.fire(Lc.LOW_LATENCY_FALLBACK,{msg:t}),n.lowLatencyMode=!1,n.presentationDelay=12,n.bufferTarget=12}}(c/l*100),i=Tt()}),500)}()),t.video.ecdn&&i())})),e.on(fc,(function(){d()})),n.on(Lc.STREAM_ONLINE,(function(){s.isForcePolling&&s.unforcePolling()})),n.on(Lc.STREAM_OFFLINE,(function(){s.isForcePolling||s.forcePolling()})),n.on(ho.BUFFER_STARTED,(function(){u=!0})),n.on(ho.BUFFER_ENDED,(function(){u=!1})),{get p2pReady(){}}}function Nd(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}function Md(t,e){var n=t();return n&&n.then?n.then(e):e(n)}function Od(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function Id(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function Rd(t,e,n){var i;const o=Id((function(){return Od((function(){return Nd(_,(function(e){return e(n,t)}))}),(function(t){throw vd(t),new Error("Failed to create Hive Module",t)}))})),s=Id((function(){return Od((function(){return Nd(m,(function(t){return t(n)}))}),(function(t){return vd(t),null}))})),a=function(){return function(t){return t&&t.then||(t=r.resolve(t)),t}(Md((function(){if(!l)return Nd(s,(function(t){l=t}))}),(function(){var e;return null==(e=l)?void 0:e.setUp(t)})))},u=Id((function(){return Od((function(){return Md((function(){if(!c)return Nd(o,(function(t){c=t}))}),(function(){var t;return null==(t=c)?void 0:t.setUp(h)}))}),(function(t){var e;return null==(e=c)||e.stop(),null}))}));let l,c,d=!1,h=!1,f=!1;const p=null==(i=t.video.ecdn)?void 0:i.ecdn_provider;let v;function m(){return ht("module/kollective.js")}function _(){return ht("module/hive.js")}function b(){try{l&&(l.destroy(),l=null),c&&(c.destroy(),c=null)}catch(t){}}return e.on(_c,(function(){var e;t.isNewVideo()&&(d=!1),!0!==t.preload||!1!==f||"kollective"!==p?d||((null==(e=t.video.live_event)?void 0:e.status)!==Hl?(d=!0,b(),p&&(v={hive:u,kollective:a}[p]())):h=!0):f=!0})),e.on(fc,b),{get p2pReady(){return v}}}function Ld(t,e,n){let i=null;function r(){n.deactivateEffect(jl),i=null}e.on(gc,(function(){var e;i&&r(),(null==(e=t.video.channel_layout)?void 0:e.startsWith("ambisonic"))&&n.supportsEffect(jl)&&(i=n.activateEffect(jl,{ambisonicsUrl:t.request.urls.ambisonics_js}))})),n.on(po.CAMERA_UPDATE,(function({yaw:t,pitch:e,roll:n}){i&&i.updateRotation(t,e,n)})),n.on(po.AMBISONIC_UNSUPPORTED,(function(){i&&r()})),n.on(ho.STREAM_CHANGE,(function(){i&&i.toggleAmbisonics()}))}function xd(t,e=[]){if(!t||"null"===t||0===e.length)return{track:null};const[n,i]=t.split("."),[r]=n.split(/[-_]/),o=n!==r,s=e.filter((t=>o&&t.language===n||t.language===r)).sort(((t,e)=>{const o=2*(t.language===r&&t.kind===i)+2*(t.language===n)+1*(t.kind===i);return 2*(e.language===r&&e.kind===i)+2*(e.language===n)+1*(e.kind===i)-o}));return s.length>0?{track:s[0],exactMatch:s[0].language===n&&s[0].kind===i}:{track:null}}function Dd(t){const e=t.split(/\n/g);let n=[],i=[];return e.forEach((t=>{let e=t.match(/<[a-zA-Z]+ ?.*?>/g)||[],r=t.match(/<\/[a-zA-Z]+ ?.*?>/g)||[];const o=i.map((({startTag:t})=>t));i=[],e=o.concat(e),e.forEach((t=>{let[e]=t.replace(/<|>/g,"").split(" ");const n=r.indexOf(`</${e}>`);-1!==n?r.splice(n,1):i.push({startTag:t,closeTag:`</${e}>`})}));const s=i.map((({closeTag:t})=>t)).reverse().join(""),a=`${o.join("")}${t}${s}`;n.push(a)})),n.join("<br>")}function Pd(t){return t?t.split(/\n/g).join(""):t}function Bd(t,e){let n;function i(){return e.pictureInPictureActive||uc(e.videoElement)?"showing":"hidden"}function r(){if(0!==e.video.textTracks.length){if(e.video.textTracks.forEach((t=>{t.on("cuechange",o),t.on("modechange",s)})),e.video.textTracks.language){const[n]=e.video.textTracks.language.split(/[-_]/),[i]=e.video.textTracks.language.split(/[-_]/);if(n!==i){const n=`${e.video.textTracks.language}.subtitles`,{track:i}=xd(n,e.video.textTracks);if(i)return void t.fire(pc,n)}}t.fire(vc)}else t.fire(vc)}function o(e){const n=e.target,i=n.activeCues,r=[];let o;for(var s=0,a=i.length;s<a;s++)""!==i[s].text.replace(/^\s+|\s+$/gm,"")&&(o=document.createElement("span"),o.appendChild(i[s].getCueAsHTML()),r.push({html:Dd(o.innerHTML),text:Pd(i[s].text)}));t.fire(Cc,n,r)}function s(n){const i=n.target;uc(e.videoElement)&&"showing"===i.mode&&t.fire(Ec,i)}t.on(yc,r),t.on(pc,(function(r){if(n&&n.id===r)return;let o=e.video.textTracks.getTrackById(r),s=!0;o||({track:o,exactMatch:s}=xd(r,e.video.textTracks)),o!==n&&setTimeout((()=>{e.video&&e.video.textTracks.forEach((t=>{t.mode=t===o?i():"disabled"})),t.fire(Ec,o,!s),n=o}),0)})),t.on(vc,(function(){setTimeout((()=>{e.video&&e.video.textTracks.forEach((t=>{t.mode="disabled"})),t.fire(Cc),n&&(n=null,t.fire(Ec,null))}),0)})),t.on(ho.TEXT_TRACKS_AVAILABLE,r),t.on([ao.ENTER_PICTURE_IN_PICTURE,ao.LEAVE_PICTURE_IN_PICTURE],(function(){!function(t){n&&n.mode!==t&&(n.mode=t)}(i())}))}const $d=["main","translation"];function jd(t,e){return a(t).map((t=>J(J({},t),{},{enabled:t.id===e})))}function Vd(t){return a(t).find((t=>t.enabled))}function Fd(t,e){let n="translation";return"1"===t.id?n="main":t.label.includes("(Audio description)")?n="descriptions":t.label.includes("(Commentary)")&&(n="commentary"),t.language===e.language&&n===e.kind}function Hd(t,e,n){let i,r,o,s,a,u;function l(){var e;const n=t.video.live_event,r=null==n?void 0:n.dvr;if(Dc(n)||function(t){return(null==t?void 0:t.status)===Ul}(n)||Bc(n)&&!xc(n))return void(i.video=null);if(Pc(n)&&i.video&&!t.isNewVideo())return;const o=t.request.audio_tracks||[],s=null==(e=Vd(o))?void 0:e.id,u=Pc(n)?function(t){const e=[],n=ad(t);n&&e.push(n);const i=function(t){var e,n;const i=t.video.live_event,r=t.request.files;if(Fc(r.dash))return null;const o=r.dash.default_cdn,s=r.dash.cdns[o].url||(null==(e=i.playback)?void 0:e.dash_noredirect),a=null!=(n=t.request.flags)&&n.live_dash?2:1;return{id:`dash-${o}-${t.video.id}`,src:s,mime:Vl.dashMpd,priority:a,metadata:{cdn:o,origin:r.dash.cdns[o].origin,quality:"sd"}}}(t);return i&&e.push(i),e}(t):Gc(t,s),l=dd(t);!i.video||t.isNewVideo()||a||r&&!xc(n)?d({files:u,textTracks:l,audioTracks:o,switchingVideo:r,startTime:r&&i.currentTime}):c(u,l)}function c(t,e){t.forEach((t=>{const e=i.video.files.getFileById(t.id);e&&e.src!==t.src&&(e.src=t.src)})),e.forEach((t=>{const e=i.video.textTracks.getTrackById(t.id);e&&e.src!==t.src&&(e.src=t.src)}))}function d({files:r,textTracks:a,audioTracks:l=[],switchingVideo:c=!1,startTime:d}){var h,f,p,v;const m=t.video.live_event,_=n.getBoundingClientRect(),b=Pc(m)?ad(t):function(t){const e=t.request.files;if(!Fc(e.hls)){const t=e.hls.default_cdn,n=e.hls.cdns[t],i=n.captions||n.url;return i?{src:i,mime:Vl.hls,metadata:{cdn:t,origin:n.origin,quality:"sd"}}:null}return null}(t);var y;u||(u=(null==(y=i.played)?void 0:y.length)>0);const g=!i.paused||(null==(h=i.jo)?void 0:h.co);i.ht=c,i.video={id:t.video.id,title:t.video.title,subtitle:`from ${t.video.owner.name}`,files:r,textTracks:a,audioTracks:l,chapters:Mn(t,"embed.chapters",[]),duration:t.video.duration,externalDisplayFiles:{AirPlay:b},metadata:{playlistRefreshUrl:$c(t),useHls:t.request.drm&&Se.browser.webKit,drm:t.request.drm,drmLaUrlParams:t.request.drm&&{atid:t.request.atid,leadUUID:null==(f=t.user.lead)?void 0:f.id,playbackRoute:null!=(p=t.request.flags)&&p.ott?"player_embed_ott":"player_embed",playerLocation:t.embed.on_site?"onsite":"embed",dnt:(null==(v=t.request.flags)?void 0:v.dnt)??t.embed.dnt,embedContext:t.embed.context},p2pReady:t.video.ecdn&&(o.p2pReady??s.p2pReady),percentShown:$l.frustumSurfaceArea(t.video.spatial.fov,_.width,_.height)}},c?i.checkRebuffer(u,g):e.fire(yc),"number"==typeof d&&(i.currentTime=d)}return function(){var e,r,o,s;const a=[ju,ol,ll,ts],u=t.video.ecdn&&!(null!=(e=t.request.flags)&&e.ecdn_delta_updates);i=new Rl(n,a,{externalDisplays:[AirPlayExternalDisplay],mediaSourceScanner:{droppedFrameSwitchPercent:cd(t)},tests:t.request.ab_tests,fileCodecs:t.request.file_codecs,presentationDelay:t.video.presentation_delay,lowLatencyMode:null==(r=t.video.live_event)?void 0:r.low_latency,dvrEnabled:null==(o=t.video.live_event)?void 0:o.dvr,disableDeltaUpdates:u,getLiveEventStartTimeEpoch:()=>function(t){var e;return null!=t&&t.started_on?new Date(t.started_on).getTime()/1e3:null==t||null==(e=t.ingest)?void 0:e.start_time}(t.video.live_event),sessionMetadata:{clipId:t.video.id,sessionId:t.request.session},disableMMS:!(null==(s=t.request.flags)||!s.disable_mms)||!Se.iOS})}(),Object.values(ao).filter((t=>![ao.TIME_UPDATE,ao.PROGRESS,ao.SUSPEND,ao.ERROR].includes(t))).forEach((t=>{i.on(t,((e="")=>{md(t,e,"video event")}))})),i.on(ho.STREAMS_LOADED,(function(e){e.video.forEach((e=>{const n=function(t,e){return e.find((e=>Jc(e.id)===String(t)||Jc(e.id)===Jc(t)))}(e.id,ud(t,i));n?(e.profile=n.profile,e.quality=n.quality,e.fps=n.fps):(e.profile=null,e.quality=`${e.height}p`,e.fps=e.framerate)}))})),i.on(ho.STREAM_CHANGE,(function({index:t,streams:n,metadata:i}){const r=n[t];md("Stream changed",r,"video"),e.fire(ho.STREAM_CHANGE,r,t,n,i)})),i.on(ho.STREAM_TARGET_CHANGE,(function({index:t,streams:n}){const i=n[t];e.fire(ho.STREAM_TARGET_CHANGE,i,t,n)})),i.on(ho.DRM_KEY_SWITCH,(function(){var e;if(!t.request.drm.fallback_asset)return;const n=dd(t),r=null==(e=Vd(i.video.audioTracks))?void 0:e.id,o=function(t,e){const n=t.request.files;let i=[];const r=t.request.drm&&Se.browser.webKit;return(n.hls&&(Se.iPhone||Se.iPad)||r)&&(i=i.concat(Yc(t,!0,e))),n.dash&&!r&&(i=i.concat(Kc(t,!0,e))),i}(t,r);c(o,n)})),function(t,e,n){n.forEach((n=>{t(n,((...t)=>{e.apply(void 0,[n].concat(t))}))}))}(i.on,e.fire,[lo.ACTIVATED,lo.AVAILABLE,lo.DEACTIVATED,lo.UNAVAILABLE,fo.STREAM_OFFLINE,fo.STREAM_ONLINE,fo.BUFFER_GAP_JUMP,fo.BUFFER_GAP_JUMP_PREVENT,fo.STALL_JUMP,fo.LATENCY_UPDATED,vo.MEDIASESSION_PAUSE,vo.MEDIASESSION_PLAY,vo.MEDIASESSION_SEEK_BACKWARD,vo.MEDIASESSION_SEEK_FORWARD,vo.MEDIASESSION_SEEK_TO,ho.AUDIO_TRACK_CHANGED,ho.AV_DURATION_MISMATCH,ho.BANDWIDTH,ho.BUFFER_ENDED,ho.BUFFER_OCCUPANCY,ho.BUFFER_STARTED,ho.CHAPTER_CUES_UPDATED,ho.CUE_POINT,ho.CURRENT_FILE_CHANGE,ho.DOWNLOAD_END,ho.DOWNLOAD_TIMEOUT,ho.DRM_AUTH_SUCCESS,ho.DRM_KEY_SWITCH,ho.DROPPED_FRAMES,ho.MANIFEST_LOADED,ho.MANIFEST_TIMEOUT,ho.QUOTA_EXCEEDED_ERROR,ho.SCANNER_CHANGE,ho.STREAM_CHANGE_START,ho.STREAM_BUFFER_END,ho.STREAM_BUFFER_START,ho.AVAILABLE_STREAMS_CHANGED,ho.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,ho.TEXT_TRACKS_AVAILABLE,ho.DROPPED_FRAME_PERCENT_EXCEEDED,ho.LOAD_SEGMENT_FAILED,ho.SEGMENT_CUES_LOADED,po.CAMERA_UPDATE,po.CAMERA_CHANGE,po.MOTION_END,po.MOTION_START,po.SPATIAL_UNSUPPORTED,po.WEBVR_ENTER,po.WEBVR_EXIT,po.WEBVR_HARDWARE_AVAILABLE,ao.DURATION_CHANGE,ao.ERROR,ao.LOAD_START,ao.LOADED_DATA,ao.LOADED_METADATA,ao.PLAYING,ao.RATE_CHANGE,ao.RESIZE,ao.STALLED,ao.VOLUME_CHANGE,ao.WAITING,ao.ENTER_PICTURE_IN_PICTURE,ao.LEAVE_PICTURE_IN_PICTURE,ao.WEBKIT_BEGIN_FULLSCREEN,ao.WEBKIT_END_FULLSCREEN]),e.fire(bc),new Bd(e,i),new bd(t,e,i),new yd(t,e,i),new Ld(t,e,i),o=new Ad(t,e,i),r=new _d(t,e,i),s=new Rd(t,e,i),e.on(_c,l),e.on(mc,(function(n){var r;if(null==(r=t.embed)||null==(r=r.settings)||!r.audio_tracks)return;if(i.supportsVideoElementAudioTracks)return void i.enableAudioTrack(null==n?void 0:n.id);const o=function(t,e={}){if(null==t||!t.length)return[];const n=e.language,i=e.kind;let r=null==e?void 0:e.id;if(r)return jd(t,r);if(i&&n){const e=t.find((t=>t.language===n&&t.kind===i));if(r=null==e?void 0:e.id,r)return jd(t,r)}if(n){const e=t.find((t=>t.language===n&&$d.includes(t.kind)));if(r=null==e?void 0:e.id,r)return jd(t,r)}const o=t.find((t=>"main"===t.kind));return r=null==o?void 0:o.id,jd(t,r)}(t.request.audio_tracks,n),s=Vd(o);d({files:Gc(t,null==s?void 0:s.id),textTracks:i.video.textTracks,audioTracks:o,switchingVideo:!0,startTime:i.currentTime}),e.fire(ho.AUDIO_TRACK_CHANGED)})),e.on(ao.LOADED_DATA,(function(){var e,n;if(i.supportsVideoElementAudioTracks&&null!=t&&null!=(e=t.request)&&null!=(e=e.audio_tracks)&&e.length&&null!=(n=i.videoElementAudioTracks)&&n.length){const e=Vd(t.request.audio_tracks||[]),n=function(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(Fd(i,e))return i}return null}(i.videoElementAudioTracks,e);n&&i.enableAudioTrack(n.id)}})),Se.browser.safari&&window.addEventListener("pageshow",(t=>{t.persisted&&(a=!0,l())})),ut({telecine:i},r)}function Ud(t,e,n){this.constructorName="BackboneError",this.message=t,this.name=e,this.source=n}Ud.prototype=new Error;var zd={embed:{},request:{cookie:{},files:{},flags:{},urls:{},text_tracks:[],file_codecs:{}},video:{owner:{},thumbnail_url:"",version:{}},user:{}};function Xd(t,e){let n;const i=new ti;let r,o,s=null,a=new Uc(e,zd);function u(t,e){return i.fire(_c,t,e),t}const l={play:()=>r.play(),pause:()=>r.pause(),get currentTime(){return o.currentTime>.1?ac(o.currentTime):0},set currentTime(t){if(t=parseFloat(t),isNaN(t)||t<0)throw new Ud("Seconds must be a positive number less than the duration of the video.","RangeError","setCurrentTime");i.fire(dc,t)},get liveEdgeTime(){return o.liveEdgeTime},get atLiveEdge(){return o.atLiveEdge},get liveTailTime(){return o.liveTailTime},get atLiveTail(){return o.atLiveTail},get duration(){return ac(a.video.duration)},get enabledTextTrack(){return s},loadVideo(t){const e=Pr(a);return a.reset(t),a=u(a,e),this},reactivate(){var t;return null!=(t=o)&&t.reactivate&&o.reactivate(),this},unload(){return i.fire(hc),this},destroy(){return i.fire(fc),this},on(t,e){return i.on(t,e),this},once(t,e){return i.once(t,e),this},off(t,e){return i.off(t,e),this},get events(){return i},hasTextTrack(t){let e,n,i=this.textTracks;if(sc(t))n=i.getTrackById(t);else{let n=t.split(".")[0];e=i.some((t=>t.language.toLowerCase()===n.toLowerCase()))}return!(!n&&!e)},enableTextTrack(t,e=null){let n,r,a=this.textTracks;if(sc(t))s=a.getTrackById(t);else{if([n,r=e]=t.split("."),!this.hasTextTrack(t))throw new Ud(`There are no tracks for ${n.toUpperCase()}.`,"InvalidTrackLanguageError","enableTextTrack");s=xd(r?`${n}.${r}`:n,a).track}if(!s||r&&s.kind!==r)throw new Ud(`There are no ${r} tracks for ${n.toUpperCase()}.`,"InvalidTrackError","enableTextTrack");o.setCaptionsShouldDisplay(!0),i.fire(pc,s.id)},disableTextTrack(){s=null,o.setCaptionsShouldDisplay(!1),i.fire(vc)},enableAudioTrack(t){i.fire(mc,t)},get qualities(){return function(t){var e;const n=t.representations.map((e=>{const n=Xc(e);return{id:n,label:ld(e),active:t.quality===n}})),i=null==(e=t.video)?void 0:e.currentFile.mime;return[Vl.dash,Vl.dashMpd,Vl.hlsLive,Vl.hls].includes(i)&&n.unshift({id:"auto",label:"Auto",active:!t.quality||"auto"===t.quality}),n}(this)},get quality(){return r.quality},set quality(t){r.quality=t},get playbackRate(){return o?o.playbackRate:1},set playbackRate(t){o.playbackRate=t,o.defaultPlaybackRate=t},get textTracks(){return o.video?o.video.textTracks:[]},get representations(){return ud(a,o)},get volume(){return o?o.volume:ac(a.request.cookie.volume)},set volume(t){if(t=parseFloat(t),isNaN(t)||t<0||t>1)throw new Ud("Volume should be a number between 0 and 1.","RangeError","setVolume");o.volume=t},get videoId(){return a.video.id},get videoWidth(){return o.videoWidth||a.video.width},get videoHeight(){return o.videoHeight||a.video.height},get readyState(){return o.videoElement.readyState},get telecine(){return o},get audioTracks(){var t;return(null==(t=o)||null==(t=t.video)?void 0:t.audioTracks)||[]},requestCompleteLiveSubtitles(){i.fire(Nc)},get hasAudio(){var t,e;return!(null==(t=o)||null==(t=t.video)||null==(t=t.audioTracks)||!t.length)||!(null==(e=o.manifest)||null==(e=e.audio)||!e.length)}};return a=u(a),r=new Hd(a,i,t),o=r.telecine,n=Object.create(o),ut(n,l)}function Gd(t){let e,n,i;return t=parseFloat(t),isNaN(t)||t<0?"0":t<1e3?t.toString():t>=1e3&&t<1e6?(i=Math.floor(t/1e3),e=Math.round(t%1e3/100),i+"."+e+"K"):(n=Math.floor(t/1e6),e=Math.round(t%1e6/1e5),n+"."+e+"M")}function Wd(t){return!isNaN(t)&&parseInt(Number(t),10)==t&&!isNaN(parseInt(t,10))}function qd(t){return encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,((t,e)=>String.fromCharCode("0x"+e)))}const Yd=function(t){const e=n=>n.length>=t.length?t.apply(this,n):(...t)=>e([].concat(et(n),t));return e([])}(((t,e)=>Object.keys(t).every((n=>t[n]===e[n])))),Kd=(t=[])=>({get:e=>e?t.find(Yd(e)):t,insert:e=>(t=t.concat(e)).slice(-1).pop(),getOrInsert(t){return this.get(t)||this.insert(t)},remove:e=>t.splice(t.findIndex(Yd(e)),1).pop()});function Zd(t,e,n=document.styleSheets[0]){try{n.insertRule?n.insertRule(t+"{"+e+"}",(n.cssRules||n.rules).length):n.addRule(t,e)}catch(t){}}function Jd(t){let e=t.getBoundingClientRect();return document.msFullscreenElement&&window.parent!==window&&t.offsetWidth<t.clientWidth&&(e={bottom:100*e.bottom,left:100*e.left,top:100*e.top,right:100*e.right,width:100*e.width,height:100*e.height}),e}function Qd(t){try{return new URL(t).origin}catch(t){}const e=document.createElement("a");return e.href=t,e.origin?e.origin:`${e.protocol.replace(":","")}://${e.host}`}function th({width:t,height:e,elementWidth:n,elementHeight:i,threshold:r=10}){let o=1;const s=t/e,a=n-i*s,u=i-n/s;if(a>0&&a<r||u>0&&u<r){const t=n/(n-a),e=i/(i-u);o=sh(Math.max(t,e),3)}return{extraWidth:a,extraHeight:u,scaleFactor:o}}function eh(t,e,n){return t>n?n:e>t?e:t}function nh(t,e,{width:n,height:i,scrollbars:r="yes",resizable:o="yes",toolbar:s="no"}){let a=(window.screenY||window.screenTop||0)+window.outerHeight/2-i/2,u=(window.screenX||window.screenLeft||0)+window.outerWidth/2-n/2;window.chrome&&-1!==window.navigator.userAgent.toLowerCase().indexOf("mac os x")&&(i+=27),window.safari&&(i+=47);let l=`scrollbars=${r},resizable=${o},toolbar=${s}`;return window.open(t,e,`width=${n},height=${i},left=${u},top=${a},${l}`)}function ih(t){return function(t){return/^(https?:)?\/\/(.+)\.(((vimeo(ws)?|vimeo-(enterprise|work))\.(com|dev|work))|(videoji|videoshipinurl)\.(hk|cn))(?=$|\/)/.test(t)}(t)?Qd(t):""}function rh(t,e,n){if(function(t){return/^(https?:)?\/\/(.+)\.((vimeo(ws)?|vimeo-(enterprise|work))\.(com|dev|work)|(videoji|videoshipinurl)\.(hk|cn))\/video\/\d+\/config(?=$|\?)/.test(t)}(e))return e;const i=oh(e),r=At(window.location.search),o=At(`${e}`.split("?")[1]),s=Object.assign(r,o,n);return Nt(`${t}/video/${i}/config`,s)}function oh(t){if(Wd(t))return parseInt(t,10);const e=t.match(/(video|\.com|\.dev)\/(\d+)/);if(!e||e.length<3)throw new Error("Please provide a Vimeo URL with a valid clip id.");return parseInt(e[2],10)}function sh(t,e=3){if(t=parseFloat(t),isNaN(t))return 0;var n=Math.pow(10,e);return Math.round(t*n)/n}function ah(t,e){return-1!==a(e).indexOf(t)}function uh(t,e,n){if(void 0!==n)t.style[e]=n;else if(function(t){return"string"==typeof t||!Ie(t)&&Ue(t)&&"[object String]"==He(t)}(e))t.setAttribute("style",e);else for(const n in e)uh(t,n,e[n])}function lh(t,e,n){n.forEach((n=>{t(n,((...t)=>{e.apply(void 0,[n].concat(t))}))}))}function ch(t){for(var e=Object.keys(t),n=e.length,i=[],r=0;r<n;)i[r]=t[e[r]],r+=1;return i}function dh(t,e){return e&&0===e.indexOf(t)}!function(...t){t.reduce(((t,e)=>(...n)=>t(e.apply(void 0,n))))}((function(t){return t?a(t.parentNode.children).indexOf(t):-1}),(function(t,e){for(;null!=(n=t)&&n.parentElement&&!ah(t,e);){var n;t=t.parentElement}return ah(t,e)?t:null}));let hh=0;function fh(t="p"){return`${t}${++hh}`}const ph={Sa:fh(),Aa:fh()},vh="vimeo-logo",mh="video-title",_h="video-byline",bh="video-portrait",yh="chapter-share-base",gh="anybody",wh="nobody",Th="password",Ch="disable",Eh="ptv",kh="unlisted",Sh={h264:"video/mp4",hls:"application/vnd.apple.mpegurl",hlsLive:"application/x-mpegURL",dash:"application/vnd.vimeo.dash+json",dashMpd:"video/vnd.mpeg.dash.mpd",vp6:"video/x-flv",vp8:"video/webm",webm:"video/webm",hds:"application/f4m"},Ah={Na:fh(),Ma:fh(),Oa:fh(),Ia:fh(),Ra:fh(),La:fh(),xa:fh(),Da:fh(),Pa:fh(),Ba:fh(),$a:fh(),ja:fh(),Va:fh(),Fa:fh(),Ha:fh(),Ua:fh(),za:fh(),Xa:fh(),Ga:fh(),Wa:fh(),_hideOutro:fh(),qa:fh(),_overrideControlbarBehavior:fh(),Ya:fh(),Ka:fh(),Za:fh(),Ja:fh(),Qa:fh(),tu:fh(),_addCard:fh(),_removeCard:fh(),eu:fh(),nu:fh(),iu:fh(),ru:fh(),ou:fh(),su:fh(),au:fh(),uu:fh(),lu:fh(),cu:fh()},Nh={du:fh(),hu:fh(),fu:fh(),pu:fh(),rn:fh(),vu:fh(),mu:fh(),_u:fh(),bu:fh(),yu:fh(),gu:fh(),wu:fh(),Tu:fh(),Cu:fh(),Eu:fh(),ku:fh(),Su:fh(),Au:fh(),Nu:fh(),Mu:fh(),Ou:fh(),Iu:fh(),Ru:fh(),Lu:fh(),xu:fh(),Du:fh(),Pu:fh(),Bu:fh(),$u:fh(),ju:fh(),Vu:fh(),Fu:fh(),Hu:fh(),Uu:fh(),zu:fh(),Xu:fh(),Gu:fh(),Wu:fh(),qu:fh(),Yu:fh(),Ku:fh(),Zu:fh(),Ju:fh(),Qu:fh(),tl:fh(),el:fh(),nl:fh(),il:fh(),rl:fh(),ol:fh(),sl:fh(),al:fh(),ul:fh(),ll:fh(),cl:fh(),dl:fh(),hl:fh(),fl:fh(),pl:fh(),vl:fh(),ml:fh(),_l:fh(),bl:fh(),yl:fh(),gl:fh(),wl:fh(),Tl:fh(),Cl:fh(),El:fh(),kl:fh(),Sl:fh(),Al:fh(),Nl:fh(),Ml:fh(),Ol:fh(),Il:fh(),Rl:fh(),Ll:fh(),Dl:fh(),Pl:fh(),Bl:fh(),$l:fh(),jl:fh(),Vl:fh(),Fl:fh(),Hl:fh(),Ul:fh(),zl:fh(),Xl:fh(),Gl:fh(),Wl:fh(),ql:fh(),Yl:fh(),Kl:fh(),Zl:fh(),Jl:fh(),Ql:fh(),tc:fh(),ec:fh(),nc:fh(),rc:fh(),oc:fh(),_loadVideo:fh(),sc:fh(),ac:fh(),uc:fh(),lc:fh(),dc:fh(),hc:fh(),fc:fh(),vc:fh(),mc:fh(),_c:fh(),bc:fh(),yc:fh(),gc:fh(),wc:fh(),Tc:fh(),Cc:fh(),Ec:fh(),be:fh(),kc:fh(),Sc:fh(),Ac:fh(),Nc:fh(),Mc:fh(),Oc:fh(),Ic:fh(),Rc:fh(),Lc:fh(),xc:fh(),Dc:fh(),Pc:fh(),Bc:fh(),$c:fh(),jc:fh(),Vc:fh(),Fc:fh(),Hc:fh(),Uc:fh(),zc:fh(),Xc:fh(),Gc:fh(),Wc:fh(),qc:fh(),Yc:fh(),Kc:fh(),Zc:fh(),Jc:fh(),Qc:fh(),td:fh(),ed:fh(),nd:fh(),rd:fh(),od:fh(),sd:fh(),ud:fh(),ld:fh(),dd:fh(),fd:fh(),pd:fh(),vd:fh(),_d:fh(),bd:fh()},Mh={Na:fh(),yd:fh(),gd:fh(),wd:fh()},Oh="done",Ih="started",Rh={"application/vnd.apple.mpegurl":"hls","application/vnd.vimeo.dash+json":"dash","video/vnd.mpeg.dash.mpd":"dash","video/mp4":"progressive","video/webm":"progressive","video/x-flv":"progressive","application/x-mpegURL":"hlslive"},Lh={main:1,privateLocked:2,privateUnlocked:3,privatePassword:4,error:7,contentRating:9,geoBlocked:14},xh={AD_STARTED:"adstarted",AD_COMPLETED:"adcompleted",AD_ERROR:"aderror",AD_SKIPPED:"adskipped",AD_ALL_COMPLETED:"adallcompleted",AD_CLICKED:"adclicked",BUFFER_END:"bufferend",BUFFER_START:"bufferstart",CHAPTER_CHANGE:"chapterchange",CHROMECAST_CONNECTED:"chromecastconnected",CONTROL_BAR_VISIBILITY_CHANGED:"controlbarvisibilitychanged",TOAST_VISIBILITY_CHANGED:"toastvisibilitychanged",CUE_CHANGE:"cuechange",CUEPOINT:"cuepoint",DURATION_CHANGE:"durationchange",ENDED:"ended",ERROR:"error",FULLSCREENCHANGE:"fullscreenchange",INTERACTIVE_HOTSPOT_CLICKED:"interactivehotspotclicked",INTERACTIVE_OVERLAY_PANEL_CLICKED:"interactiveoverlaypanelclicked",LIVE_EVENT_ENDED:"liveeventended",LIVE_EVENT_STARTED:"liveeventstarted",LIVE_STREAM_OFFLINE:"livestreamoffline",LIVE_STREAM_ONLINE:"livestreamonline",LOADED_DATA:"loadeddata",LOAD_START:"loadstart",LOADED_METADATA:"loadedmetadata",LOADED:"loaded",MOTION_END:"motionend",MOTION_START:"motionstart",CAMERA_CHANGE:"camerachange",WEBVR_HARDWARE_AVAILABLE:"webvrhardwareavailable",ENTER_WEBVR:"enterwebvr",EXIT_WEBVR:"exitwebvr",ENTER_PICTURE_IN_PICTURE:"enterpictureinpicture",LEAVE_PICTURE_IN_PICTURE:"leavepictureinpicture",SPATIAL_UNSUPPORTED:"spatialunsupported",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PLAYBACK_RATE_CHANGE:"playbackratechange",RATE_CHANGE:"ratechange",PROGRESS:"progress",QUALITY_CHANGE:"qualitychange",READY:"ready",REMOTE_PLAYBACK_AVAILABILITY_CHANGE:"remoteplaybackavailabilitychange",REMOTE_PLAYBACK_CONNECTING:"remoteplaybackconnecting",REMOTE_PLAYBACK_CONNECT:"remoteplaybackconnect",REMOTE_PLAYBACK_DISCONNECT:"remoteplaybackdisconnect",RESIZE:"resize",SEEKING:"seeking",SEEKED:"seeked",SPACE_CHANGE:"spacechange",TEXT_TRACK_CHANGE:"texttrackchange",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",PLAYER_LOGIN_SUCCESSFUL:"playerLoginSuccessful",PLAYER_LOGIN_FAILED:"playerLoginFailed",COMPONENT_VISIBILITY_CHANGE:"componentVisibilityChange",APP_BREAKPOINT_CHANGE:"appBreakpointChange",LOAD_VIDEO:"loadVideo"},Dh={playProgress:"timeupdate",loadProgress:"progress",finish:"ended",seek:"seeked"},Ph="4.40.42",Bh="PROD",$h=!0===Se.iOS,jh="chapter",Vh=["t","start","at"],Fh="vimeo_",Hh=`${Fh}t_`,Uh="preact-menu",zh="one",Xh="two",Gh="three",Wh="four",qh={[zh]:"000000",[Xh]:"00adef",[Gh]:"ffffff",[Wh]:"000000"},Yh={[zh]:"color_one",[Xh]:"color_two",[Gh]:"color_three",[Wh]:"color_four"},Kh={[zh]:"colorOne",[Xh]:"colorTwo",[Gh]:"colorThree",[Wh]:"colorFour"};var Zh=function(t){return t.POPUP="popup",t.ON_SITE="onsite",t}(Zh||{});const Jh=12e3,Qh=[151656996,85979044,135306151,84839100,156281671,71236980,110717144];let tf=function(t){return t.VP_PLAYER_UI_OVERLAYS="vp-player-ui-overlays",t.VP_PLAYER_UI_CONTAINER="vp-player-ui-container",t.VP_VIDEO="vp-video",t.VP_VIDEO_WRAPPER="vp-video-wrapper",t.VP_TELECINE="vp-telecine",t.VP_CONTROLS="vp-controls",t.VP_CAST_BUTTON="vp-cast-button",t.VP_CAPTIONS="vp-captions",t.VP_MENU="vp-menu",t.VP_SIDEDOCK="vp-sidedock",t.VP_TITLE="vp-title",t.VP_TARGET="vp-target",t.VP_PREVIEW="vp-preview",t.COMPASS_WRAPPER="compass-wrapper",t.STEREOSCOPIC="stereoscopic",t.CC="cc",t.CUSTOM_LOGO="custom-logo",t.FULLSCREEN="fullscreen",t.THUMB="thumb",t.LIKE_ICON="like-icon",t.WATCH_LATER_ICON="watch-later-icon",t.FILL="fill",t.SHOWFOCUS="showfocus",t.ADS_WRAPPER="vp-ads-wrapper",t.ADS_TAG="vp-ads-tag",t.ADS_COUNTDOWN="vp-ads-countdown",t.VP_SPIN="vp-spin",t}({}),ef=function(t){return t.VP_OUTRO_WRAPPER="vp-outro-wrapper",t.VP_PREFS="vp-prefs",t.VP_PROGRESS="vp-progress",t.PIP="pip",t.VOLUME="volume",t.VOD_BUTTON="vod-button",t.LIKE_BUTTON="like-button",t.WATCH_LATER_BUTTON="watch-later-button",t}({}),nf=function(t){return t.EXCLUDE_GLOBAL_BUTTON_STYLES="exclude-global-button-styles",t.ENTER_FULLSCREEN_ICON="enter-fullscreen-icon",t.EXIT_FULLSCREEN_ICON="exit-fullscreen-icon",t.CONTENT_AREA_BACKGROUND_CONTAINER="vp-content-area-background",t.REMOTE_ACCESS_GATE="vp-remote-access-gate",t.SCRUBBING="scrubbing",t}({}),rf=function(t){return t.RIGHT_CONTENT_AREA="right-content-area",t.NEW_WINDOW_DESCRIPTION="new-window",t.VP_OVERLAY_LABELLEDBY="overlay-labelledby",t}({}),of=function(t){return t.TRANSCRIPT_LIST="transcript-list",t.TRANSCRIPT_CUE_PREFIX="transcript-cue",t.TRANSCRIPT_MENU="transcript-menu",t.TRANSCRIPT_VIEWER="transcript-viewer",t}({}),sf=function(t){return t.AI_WIDGET_ID="ai-widget",t}({}),af=function(t){return t.QOE_SURVEY_TEXT="qoe-survey-text",t.REPLAY="replay",t.BROADCAST_OVER="broadcast-over",t}({}),uf=function(t){return t.TITLE_TEXT="title-text",t}({}),lf=function(t){return t.TEXT_TRACK_ID_PREFIX="telecine-track-",t}({}),cf=function(t){return t.COLLAPSE="collapse-control-bar-button",t.CC="cc-control-bar-button",t.PREFS="prefs-control-bar-button",t.CHAPTERS="chapters-control-bar-button",t.TRANSCRIPT="transcript-control-bar-button",t.FULLSCREEN="fullscreen-control-bar-button",t.PIP="pip-control-bar-button",t}({}),df=function(t){return t.FONT_FAMILY_ACCORDION="font-family-accordion",t.EDGE_STYLE_ACCORDION="edge-style-accordion",t.VP_CC_FONT_COLOR_LABEL="vp-cc-font-color-label",t.VP_CC_BACKGROUND_COLOR_LABEL="vp-cc-background-color-label",t.VP_CC_BACKGROUND_OPACITY_LABEL="vp-cc-background-opacity-label",t.VP_CC_FONT_SIZE_LABEL="vp-cc-font-size-label",t.VP_CC_FONT_OPACITY_LABEL="vp-cc-font-opacity-label",t.VP_CC_FONT_EDGE_STYLE_LABEL="vp-cc-font-edge-style-label",t.VP_CC_WINDOW_OPACITY_LABEL="vp-cc-window-opacity-label",t.VP_CC_WINDOW_COLOR_LABEL="vp-cc-window-color-label",t}({}),hf=function(t){return t.SEARCH_INPUT="search-input",t}({}),ff=function(t){return t.CONTENT_AREA_SIBLING_ELIGIBLE="data-content-area-sibling-eligible",t}({}),pf=function(t){return t.NOT_SUPPORTED="not-supported",t.DRM_FAILURE="drm-failure",t.DECODE="decode",t.NETWORK="network",t.UNKNOWN="unknown",t.TELECINE_FILE_ERROR="telecine-file-error",t.TELECINE_DOWNLOAD_ERROR="telecine-download-error",t.MEDIA_URL_EXPIRED="media-url-expired",t.SCANNER_ERROR="scanner-error",t.ERROR="error",t.LOAD_VIDEO_VIA_CONFIG="load-video-via-config-error",t.LOCAL_ACCESS_GATE_ERROR="local-access-gate-error",t}({});const vf=()=>({type:pf.NETWORK,title:"Network error",message:'A network hiccup interrupted playback. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',final:!0}),mf=()=>({type:pf.ERROR,title:"Player error",message:"The player is having trouble. Well have it back up and running as soon as possible.",modal:!0,final:!0});var _f=Object.freeze({__proto__:null,BrowserNotSupported:()=>({type:pf.NOT_SUPPORTED,title:"Unsupported viewing environment",message:`Your system is having trouble playing this video. For more information, see our <a href="https://help.vimeo.com/hc/en-us/articles/115015677227-Troubleshoot-player-error-messages" target="_blank" rel="noopener" aria-describedby="${rf.NEW_WINDOW_DESCRIPTION}">Help Center</a>.`,deferred:!0,final:!0}),DRMFailure:()=>({type:pf.DRM_FAILURE,title:"Rights issue",message:"Were having trouble authorizing playback for this video. ",final:!0}),FilesNotPlayable:()=>({type:pf.NOT_SUPPORTED,title:"Player error",message:"The player is having trouble. Well have it back up and running as soon as possible.",deferred:!0,final:!0}),MediaSrcNotSupportedError:()=>({type:pf.NOT_SUPPORTED,final:!1}),MediaDecodeError:()=>({type:pf.DECODE,final:!1}),MediaNetworkError:vf,MediaUnknownError:()=>({type:pf.UNKNOWN,title:"Browser error",message:'Were having trouble playing this video file. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',final:!0}),FileError:()=>({type:pf.TELECINE_FILE_ERROR,final:!1}),DownloadError:()=>({type:pf.TELECINE_DOWNLOAD_ERROR,final:!1}),MediaUrlExpired:()=>({type:pf.MEDIA_URL_EXPIRED,title:"Playback error",message:'Were having trouble playing this video. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',final:!1}),ScannerError:()=>({type:pf.SCANNER_ERROR,final:!1}),PlayerError:mf});const bf=t=>({onClick:t,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||t(e)}}),yf=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){return Se.clipboardAPI?function(e,n){try{var i=function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(navigator.clipboard.writeText(t),(function(){return!0}))}catch(t){return n()}return i&&i.then?i.then(void 0,n):i}(0,(function(e){return gf(t)})):gf(t)}));function gf(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();const n=document.execCommand("copy");return document.body.removeChild(e),n}const wf=(t,e,n)=>e[n]??t[n];function Tf(t,e){return!t||0===t.length||-1!==t.indexOf(e)}const Cf=t=>[Lh.main,Lh.privateUnlocked].includes(t),Ef=(t,e)=>t&&(t.contains(e.target)||t===e.target),kf=(...t)=>t.reduce(((t,e)=>e?t?`${t} ${e}`:e:t),null),Sf=(t=[],e)=>t.map((t=>(t.active=`${t.id}`===e,t))),Af=t=>{let e=0,n=0;if(t){const{left:i,right:r}=Jd(t),{borderLeftWidth:o,borderRightWidth:s}=window.getComputedStyle(t,"");e=i+parseInt(o,10),n=r-parseInt(s,10)}return{leftOffsetValue:e,rightOffsetValue:n}},Nf=(t,e)=>Math.max(t-e.startTime,0),Mf=(t,e)=>{const{startTime:n,endTime:i,duration:r}=e;return t<n?0:t>i?1:Nf(t,e)/r},Of=(t,e=!0)=>{const n=100*(e?sh(t,2):t);return`${Math.max(Math.min(n,100),0)}%`},If=(t,e)=>{const{startTime:n,duration:i}=e;return n+i*t},Rf=(t,e)=>{const{duration:n}=e;return n*t||0},Lf=(t,e,n)=>(n-e)*t+e,xf=(t,e,n)=>(t-e)/(n-e),Df=(t,e)=>t.filter((t=>{const n=t.startTime>=e.startTime&&t.startTime<=e.endTime,i=t.endTime>=e.startTime&&t.endTime<=e.endTime,r=t.startTime<e.startTime&&t.endTime>=e.endTime;return n||i||r}));let Pf=function(t){return t.EMPTY="empty",t.SHARE="share",t.HELP="help",t.ERROR="error",t.SPATIAL_REDIRECT="spatial-redirect",t.NOT_SUPPORTED="not-supported",t.INTERACTIVE="interactive",t}({});const Bf=t=>t===Pf.INTERACTIVE||t===Pf.EMPTY,$f=t=>(t=>void 0!==t.settings)(t)?!t.settings.background&&0!==t.settings.controls:!t.background&&t.controls,jf=t=>(Date.now()-t)/1e3,Vf=t=>Math.round(1e3*t),Ff=(t,e,n)=>{const i=String(t);return new Array(e-i.length+1).join(n||"0")+i},Hf=(t,e)=>{const n=Math.ceil(t)<0;t=Math.abs(t);var i=Math.floor(t/3600%60),r=Math.floor(t/60%60);if(t=Math.floor(t%60),e){var o=t+" second"+(1===t?"":"s");return r>0&&(o=r+" minute"+(1===r?"":"s")+", "+o),i>0&&(o=i+" hour"+(1===i?"":"s")+", "+o),o}return(n?"-":"")+(i>0?i+":":"")+Ff(r,2)+":"+Ff(t,2)};function Uf(t){return Math.round(parseInt(t,16)/255*100)/100}function zf(...t){if(1===t.length&&t[0]instanceof zf){var e=t[0];return this.red=e.red,this.green=e.green,this.blue=e.blue,this.alpha=e.alpha,this.hue=e.hue,this.saturation=e.saturation,this.lightness=e.lightness,this}if(1===t.length){if("string"==typeof t[0]&&t[0].indexOf("rgb")>=0)return this.rgba=function(t){var e=/rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(,\s*([\d.]+))?\)/.exec(t);if(!e)throw new Error("Invalid rgb value");return{red:parseInt(e[1],10),green:parseInt(e[2],10),blue:parseInt(e[3],10),alpha:parseFloat(e[5])||1}}(t[0]),this;if(!function(t){return"string"==typeof(t=t.replace("#",""))&&[3,4,6,8].includes(t.length)&&!isNaN(parseInt(t,16))}(`${t[0]}`))throw new Error("Invalid hex value");const{hex:e,alpha:n}=function(t){let e=1;return 4===(t=t.replace("#","")).length&&(e=Uf(t.slice(3)+t.slice(3)),t=t.slice(0,3)),8===t.length&&(e=Uf(t.slice(6,8)),t=t.slice(0,6)),{hex:t,alpha:e}}(`${t[0]}`);return this.hex=e,this.alpha=n,this}if(3===t.length||4===t.length){for(var n=0;n<3;n++)if(isNaN(parseInt(t[n],10))||parseInt(t[n],10)<0||parseInt(t[n],10)>255)throw new Error("Invalid rgb value");if(t[3]&&parseFloat(t[3])<0||parseFloat(t[3])>1)throw new Error("Invalid alpha value");return this.rgba={red:t[0],green:t[1],blue:t[2],alpha:parseFloat(t[3])||1},this}throw new Error("Invalid color")}zf.prototype={get complement(){var t=this.clone();return t.rgb={red:255-this.red,green:255-this.green,blue:255-this.blue},t},get hex(){return zf.rgbToHex(this.red,this.green,this.blue)},get hexWithAlpha(){const t=("0"+Math.round(255*this.alpha).toString(16)).slice(-2);return zf.rgbToHex(this.red,this.green,this.blue)+t},set hex(t){return this.rgba=zf.hexToRgb(t),this},get hsl(){return"hsl("+this.hue+","+this.saturation+"%,"+Math.round(this.lightness)+"%)"},set hsl(t){this.hue=t.hue,this.saturation=t.saturation,this.lightness=t.lightness;var e=zf.hslToRgb(t.hue,t.saturation,t.lightness);return this.red=e.red,this.green=e.green,this.blue=e.blue,this.alpha=e.alpha,this},get luminance(){function t(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*t(this.red/255)+.7152*t(this.green/255)+.0722*t(this.blue/255)},get rgb(){return"rgb("+this.red+","+this.green+","+this.blue+")"},set rgb(t){return this.rgba=t,this},get rgba(){return"rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")"},set rgba(t){this.red=t.red,this.green=t.green,this.blue=t.blue,this.alpha=t.alpha||1;var e=zf.rgbToHsl(t.red,t.green,t.blue);return this.hue=e.hue,this.saturation=e.saturation,this.lightness=e.lightness,this},get yiq(){return(299*this.red+587*this.green+114*this.blue)/1e3},clone:function(){return new zf(this)},lighten:function(t,e,n){if(this.hsl={hue:this.hue,saturation:this.saturation,lightness:this.lightness+t},e&&n)for(var i=n.contrast(this).ratio;i<e&&(this.lighten(5),i=n.contrast(this).ratio,!(this.lightness>=100)););return this},darken:function(t,e,n){if(this.hsl={hue:this.hue,saturation:this.saturation,lightness:this.lightness-t},e&&n)for(var i=n.contrast(this).ratio;i<e&&(this.darken(5),i=n.contrast(this).ratio,!(this.lightness<=0)););return this},overlayOn:function(t){if(this.alpha>=1)return this;var e=this.clone();return e.rgba={red:e.red*this.alpha+t.red*t.alpha*(1-this.alpha),green:e.green*this.alpha+t.green*t.alpha*(1-this.alpha),blue:e.blue*this.alpha+t.blue*t.alpha*(1-this.alpha),alpha:e.alpha+t.alpha*(1-this.alpha)},e},contrast:function(t){var e=this.alpha;if(e>=1){t.alpha<1&&(t=t.overlayOn(this));var n=this.luminance+.05,i=t.luminance+.05,r=n/i;return i>n&&(r=1/r),{ratio:r=Math.round(10*r)/10,error:0,min:r,max:r}}var o=this.overlayOn(zf.white).contrast(t).ratio,s=this.overlayOn(zf.black).contrast(t).ratio,a=Math.max(o,s),u={red:Math.min(Math.max(0,(t.red-this.red*e)/(1-e)),255),green:Math.min(Math.max(0,(t.green-this.green*e)/(1-e)),255),blue:Math.min(Math.max(0,(t.blue-this.blue*e)/(1-e)),255)},l=this.clone();l.rgb=u;var c=this.overlayOn(l).contrast(t).ratio;return{ratio:Math.round((c+a)/2*10)/10,error:Math.round((a-c)/2*10)/10,min:c,max:a,closest:l,farthest:s===a?zf.white:zf.black}},wcagAACompliant:function(t){return this.contrast(t).ratio>=4.5},wcagAAACompliant:function(t){return this.contrast(t).ratio>=7},yiqContrastColor:function(){return this.yiq>=120?new zf(0,0,0):new zf(255,255,255)}},zf.hexToRgb=function(t){var e;return 3===(t=String(t)).length||4===t.length?(e=/^#?([A-Fa-f0-9])([A-Fa-f0-9])([A-Fa-f0-9])$/i.exec(t))&&(e[1]+=e[1],e[2]+=e[2],e[3]+=e[3]):e=/^#?([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})$/i.exec(t),e?{red:parseInt(e[1],16),green:parseInt(e[2],16),blue:parseInt(e[3],16),alpha:1}:null},zf.rgbToHex=function(t,e,n){return"#"+((1<<24)+(Math.round(t)<<16)+(Math.round(e)<<8)+Math.round(n)).toString(16).slice(1)},zf.rgbToHsl=function(t,e,n){t/=255,e/=255,n/=255;var i,r=Math.max(t,e,n),o=Math.min(t,e,n),s=(r+o)/2,a=s;if(r===o)return{hue:0,saturation:0,lightness:100*a};var u=r-o;return i=a>.5?u/(2-r-o):u/(r+o),r===t?s=(e-n)/u+(e<n?6:0):r===e?s=(n-t)/u+2:r===n&&(s=(t-e)/u+4),s/=6,{hue:Math.round(360*s),saturation:Math.round(100*i),lightness:Math.round(100*a)}},zf.hslToRgb=function(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+6*(2/3-n)*(e-t):t}if(t/=360,n/=100,0==(e/=100))return{red:Math.floor(255*n),green:Math.floor(255*n),blue:Math.floor(255*n)};var r=n<.5?n*(1+e):n+e-e*n,o=2*n-r;return{red:Math.floor(255*i(o,r,t+1/3)),green:Math.floor(255*i(o,r,t)),blue:Math.floor(255*i(o,r,t-1/3))}},zf.hslToHex=function(t,e,n){var i=zf.hslToRgb(t,e,n);return zf.rgbToHex(i.red,i.green,i.blue)},zf.white=new zf("fff"),zf.black=new zf("000");let Xf=function(t){return t.ONE="--color-one",t.TWO="--color-two",t.THREE="--color-three",t.FOUR="--color-four",t.ONE_MONOCHROME="--color-one-monochrome",t.TWO_MONOCHROME="--color-two-monochrome",t.ONE_OPACITY_NINETY="--color-one-opacity-ninety",t.TWO_OPACITY_NINETY="--color-two-opacity-ninety",t.THREE_OPACITY_TWENTY="--color-three-opacity-twenty",t.ONE_MONOCHROME_OPACITY_TWENTY="--color-one-monochrome-opacity-twenty",t.TWO_MONOCHROME_OPACITY_TWENTY="--color-two-monochrome-opacity-twenty",t.ONE_MONOCHROME_OPACITY_SIXTY="--color-one-monochrome-opacity-sixty",t.ONE_MONOCHROME_OPACITY_TWENTY_EIGHTY="--color-one-monochrome-opacity-twenty-eighty",t.TWO_MONOCHROME_OPACITY_TWENTY_EIGHTY="--color-two-monochrome-opacity-twenty-eighty",t}({}),Gf=function(t){return t[t.ZERO=0]="ZERO",t[t.TWENTY=.2]="TWENTY",t[t.TWENTY_FIVE=.25]="TWENTY_FIVE",t[t.FIFTY=.5]="FIFTY",t[t.SIXTY=.6]="SIXTY",t[t.SEVENTY_FIVE=.75]="SEVENTY_FIVE",t[t.EIGHTY=.8]="EIGHTY",t[t.NINETY=.9]="NINETY",t[t.ONE_HUNDRED=1]="ONE_HUNDRED",t}({}),Wf=function(t){return t.LIGHT="light",t.DARK="dark",t}({});const qf=(t="")=>4===(t=t.replace("#","")).length||8===t.length,Yf=(t,e,n,i)=>{let r;try{r=new zf(t)}catch(t){return""}const o=(t=>zf.white.contrast(t).ratio>=4.5?Wf.DARK:Wf.LIGHT)(r);return n&&(r=Pr(o===Wf.DARK?zf.white:zf.black)),null==e||i&&qf(t)?qf(t)?r.hexWithAlpha:r.hex:("object"==typeof e&&(e=e[o]),r.alpha=e,r.hexWithAlpha)},Kf=t=>t.map((([t,e])=>((t,e)=>t+":"+e+";")(t,e))).join("\n"),Zf=()=>{};let Jf=function(t){return t.CONNECTED="CONNECTED",t.CONNECTING="CONNECTING",t.NOT_CONNECTED="NOT_CONNECTED",t.NOT_SETUP="NOT_SETUP",t.NO_DEVICES_AVAILABLE="NO_DEVICES_AVAILABLE",t.SETUP_DONE="SETUP_DONE",t}({}),Qf=function(t){return t.VimeoPlayer="VimeoPlayer",t.BackgroundPlayer="BackgroundPlayer",t.BarebonePlayer="BarebonePlayer",t}({}),tp=function(t){return t.NORMAL="normal",t.MINI="mini",t.TINY="tiny",t}({}),ep=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({}),np=function(t){return t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA",t}({}),ip=function(t){return t.FIELD_MARKERS="markers",t.FIELD_CLIP_ID="clip_id",t.FIELD_PROFILE_ID="profile_id",t.FIELD_PLAYER_SIZE="player_size",t.FIELD_DROPPED_FRAMES="dropped_frames",t.FIELD_TOTAL_FRAMES="total_frames",t.FIELD_BANDWIDTH="bandwidth",t.FIELD_STREAMS="streams",t.FIELD_FILES="files",t.FIELD_VIDEO_DIMS="video_dims",t.FIELD_MIN_BANDWIDTH="min_bandwidth",t.FIELD_MAX_BANDWIDTH="max_badwidth",t.FIELD_BUFFER_OCCUPANCY="buffer_occupancy",t.FIELD_LIVE_LATENCY="live_latency",t.FIELD_SCANNERS="scanner",t.FIELD_VR_HEADSET="vr_headset",t}({}),rp=function(t){return t.PRIVACY_PUBLIC="anybody",t.PRIVACY_NOBODY="nobody",t.PRIVACY_FOLLOW="contacts",t.PRIVACY_PASSWORD="password",t.PRIVACY_USER="users",t.PRIVACY_PURGATORY="purgatory",t.PRIVACY_HIDE_FROM_VIMEO="disable",t.PRIVACY_PAYTOVIEW="ptv",t.PRIVACY_PAYTOVIEWEXTRA="ptv_extra",t.PRIVACY_UNLISTED="unlisted",t.PRIVACY_STOCK="stock",t}({}),op=function(t){return t.MEDIA_SOURCE_SCANNER="MediaSourceScanner",t.HLS_LIVE_SCANNER="HLSLiveScanner",t}({}),sp=function(t){return t.PLAY="play",t.PAUSE="pause",t.REPLAY="replay",t.TRAILER="trailer",t}({}),ap=function(t){return t.FONT_SIZE="fontSize",t.FONT_FAMILY="fontFamily",t.FONT_OPACITY="fontOpacity",t.COLOR="color",t.EDGE_STYLE="edgeStyle",t.BG_OPACITY="bgOpacity",t.BG_COLOR="bgColor",t.WINDOW_OPACITY="windowOpacity",t.WINDOW_COLOR="windowColor",t}({}),up=function(t){return t.CCMenu="c",t.PrefsMenu="h",t.Transcript="T",t}({}),lp=function(t){return t.SINGLE_VIDEO_VIEW_MANAGE="single_video_view_manage",t.SINGLE_VIDEO_VIEW_RECIPIENT="single_video_view_recipient",t.EMBEDDED_PAGE="embedded_page",t.CLIP_PAGE="clip_page",t.LIVE_EVENT_SETTINGS_PAGE="live_event_settings_page",t}({}),cp=function(t){return t[t.CacheMiss=0]="CacheMiss",t[t.MidCacheHit=1]="MidCacheHit",t[t.EdgeCacheHit=2]="EdgeCacheHit",t}({});const{VIMEO_URL:dp,SVV_RECIPIENT_URL:hp,SVV_MANAGE_URL:fp,CLIP_URL:pp,PROFILE_URL:vp,VOD_URL:mp,VOD_VIDEO_MANAGE_URL:_p,NO_DESTINATION:bp}={VIMEO_URL:"vimeoUrl",SVV_RECIPIENT_URL:"svvRecipientUrl",SVV_MANAGE_URL:"svvManageUrl",CLIP_URL:"clipUrl",PROFILE_URL:"profileUrl",VOD_URL:"vodUrl",VOD_VIDEO_MANAGE_URL:"vodVideoManageUrl",NO_DESTINATION:"noDestination"},yp={[vh]:{viewer:{[kh]:pp,[Th]:pp,[Ch]:dp,[wh]:pp,[gh]:pp,[Eh]:mp,privateMode:dp},creator:{[kh]:fp,[Th]:fp,[Ch]:fp,[wh]:fp,[gh]:fp,[Eh]:_p,privateMode:fp}},[mh]:{viewer:{[kh]:hp,[Th]:pp,[Ch]:vp,[wh]:fp,[gh]:pp,[Eh]:mp,privateMode:dp},creator:{[kh]:fp,[Th]:fp,[Ch]:fp,[wh]:fp,[gh]:fp,[Eh]:_p,privateMode:fp}},[bh]:{viewer:{[kh]:vp,[Th]:vp,[Ch]:vp,[wh]:vp,[gh]:vp,[Eh]:vp,privateMode:dp},creator:{[kh]:vp,[Th]:vp,[Ch]:vp,[wh]:vp,[gh]:vp,[Eh]:_p,privateMode:fp}},[_h]:{viewer:{[kh]:vp,[Th]:vp,[Ch]:vp,[wh]:vp,[gh]:vp,[Eh]:vp,privateMode:dp},creator:{[kh]:vp,[Th]:vp,[Ch]:vp,[wh]:vp,[gh]:vp,[Eh]:_p,privateMode:fp}},[yh]:{viewer:{[kh]:hp,[Th]:bp,[Ch]:bp,[wh]:bp,[gh]:pp,[Eh]:mp,privateMode:bp},creator:{[kh]:hp,[Th]:bp,[Ch]:bp,[wh]:bp,[gh]:pp,[Eh]:mp,privateMode:bp}}};function gp(t={}){const e={selectDestination(t){const n=yp[t];if(!n)return"";const i=e.isOwner?n.creator:n.viewer;return e.isPrivateMode?i.privateMode:i[e.videoPrivacy]},get[pp](){return Rp(e[dp],t)},get[hp](){var n,i;return xp(e[dp],null==(n=t.video)?void 0:n.id,null==(i=t.video)?void 0:i.unlisted_hash)},get[fp](){var n;return Lp(e[dp],null==(n=t.video)?void 0:n.id)},get[dp](){return`https://${t.vimeo_url}`},get[vp](){var e;return null==(e=t.video)||null==(e=e.owner)?void 0:e.url},get[mp](){var e;return null==(e=t.video)||null==(e=e.vod)?void 0:e.url},get[_p](){var e;return`https://${t.vimeo_url}/ondemand/${null==(e=t.video)||null==(e=e.vod)?void 0:e.id}/settings/basic`},get[bp](){return""},get videoPrivacy(){var e;return null==(e=t.video)?void 0:e.privacy},get isPrivateMode(){var e;return!(null==(e=t.user)||!e.private_mode_enabled)},get isOwner(){var e,n;return(null==(e=t.user)?void 0:e.id)===(null==(n=t.video)||null==(n=n.owner)?void 0:n.id)}};return e}function wp(t,e){let n="";const i=gp(e),r=i.selectDestination(t);return i[r]&&(n=i[r]),n}const Tp=/^(%20|\s)*(javascript|data)/im,Cp=/[^\x20-\x7E]/gim,Ep=/^([^:]+):/gm,kp=[".","/"];function Sp(t,e){return-1!==(null==t?void 0:t.indexOf(`?${e}=`))||-1!==(null==t?void 0:t.indexOf(`&${e}=`))}function Ap(t){return-1!==t.indexOf("VideoController")}function Np(t,e=window.location.href){const n=gp(t),i=-1!==t.embed.context.indexOf("ClipController"),r=function(t,e){const n=Lp(e),i=function(t){return`${t}/manage/showcases/`}(e);return-1!==t.indexOf(n)||-1!==t.indexOf(i)}(e,n.vimeoUrl),o=Ap(t.embed.context)&&(-1!==e.indexOf(n.svvRecipientUrl)||e===n.clipUrl);return function(t,e){const n=function(t){return`${t}/live/broadcaster/event/`}(e),i=function(t){return`${t}/live/rtmp/event/`}(e);return-1!==t.indexOf(n)||-1!==t.indexOf(i)}(e,n.vimeoUrl)?lp.LIVE_EVENT_SETTINGS_PAGE:r?lp.SINGLE_VIDEO_VIEW_MANAGE:o?lp.SINGLE_VIDEO_VIEW_RECIPIENT:i?lp.CLIP_PAGE:lp.EMBEDDED_PAGE}function Mp(t,e,n){if(!t)return"";const[i]=t.split("#");return`${i}#t=${e}&end=${n}`}const Op=t=>{const e=t.match(Ep);return null==e?void 0:e[0]},Ip=t=>t?decodeURI(encodeURI((t=>{t=t.trim();const e=Op(t);return t&&!e&&(t=`https://${t}`),t})((t=>{let e=t.replace(Cp,"");if((t=>kp.indexOf(t[0])>-1)(e))return e;const n=Op(e);return n&&Tp.test(n)?"":e})(t)))):null,Rp=(t,e)=>{var n,i;const r=null==(n=e.video)?void 0:n.id,o=null==(i=e.video)?void 0:i.unlisted_hash;return`${t}/${r}${o?"/"+o:""}`};function Lp(t,e){return`${t}/manage/videos/${e??""}`}const xp=(t,e,n)=>n?`${t}/${e}/${n}`:`${t}/${e}`;function Dp(t){return!(!Se.browser.chromium||t.video.spatial||"stock"===t.video.privacy||"https:"!==window.location.protocol)}const Pp=vt("Storage Access","color: #fff; background-color: #fc6203; padding: 2px; border-radius: 2px;"),Bp=()=>Se.storageAccessAPI;function $p(){let t=0,e=null,n=0,i=!1;function r(){return t/1e3}return{trackBufferStart:function(t,r){e=Tt(),n++,i=!0,t(r)},trackBufferEnd:function(n,r={}){if(!i)return;const o=kt(e);t+=o,r.buffer_duration=o/1e3,i=!1,n(r)},trackVideoExit:function(n){i&&!n&&(t+=kt(e))},resetLastBufferTime:function(){e=null},getBufferRatio:function(t){const e=r()/t*100;return isNaN(e)?0:Math.round(100*e)/100},getBufferCount:function(){return n},getTotalBufferDuration:r,isVideoBuffering:function(){return i}}}const jp={VIDEO_BUFFER_END:"video-buffer-end",VIDEO_BUFFER_START:"video-buffer-start",VIDEO_ENDED:"video-ended",VIDEO_EXIT:"video-exit",VIDEO_LOAD_FAILURE:"video-load-failure",VIDEO_MINUTE_WATCHED:"video-minute-watched",VIDEO_PAUSED:"video-paused",VIDEO_PLAYED:"video-played",VIDEO_PLAYBACK_ERROR:"video-playback-error",VIDEO_READY:"video-ready",VIDEO_START_ATTEMPT:"video-start-attempt",VIDEO_START_FAILURE:"video-start-failure",VIDEO_START_TIME:"video-start-time",VIDEO_SEEK:"video-seek",VIDEO_SEEKED:"video-seeked",CHUNK_DOWNLOADED:"chunk_downloaded"};function Vp(t){function e(t,e,n=!0,i="POST"){return new r(((r,o)=>{"POST"===i&&navigator.sendBeacon?r({status:navigator.sendBeacon(t,e)}):Qt({url:t,body:e,method:i,async:n,headers:{"Content-Type":"text/plain; charset=UTF-8"}}).then((t=>{r({response:t,status:t.status})})).catch(o)}))}return{log:function(n,i=!0,r=!0){r&&(n.event_time=n.event_time||Tt());const o=[n];return e(t,JSON.stringify(o),i)},logRequestPromiseWithUrl:e}}const Fp="playing";function Hp(t){let e=0,n=0,i=0,r=0,o=!1,s=-1,a=null,u=null,l=null,c={satisfied:0,tolerable:0,frustrated:0},d=null;function h(){const e=t.getBoundingClientRect(),n=t.videoWidth,i=t.videoHeight;if(0===n&&0===i)return;const r="satisfied";let o=r;if(e.width>n&&e.height>i&&(n/e.width<.4?o=r:n/e.width<1?o="tolerable":n/e.width>1&&(o="frustrated")),u){const t=kt(u);c[l]+=t}l=o,u=Tt()}function f(){return o?0:1}function p(){return-1===s?null:s>8e3||-1===s?0:s>2e3?.5:1}function v(){return d?(r=i/kt(d),e>=4||r>=.12?0:e<4&&0!==e?r<.12?.5:0:1):null}function m(){if(-1===s)return null;h();const t=Object.keys(c).reduce(((t,e)=>c[t]>c[e]?t:e));switch(t){case"satisfied":return 1;case"tolerable":return.5;case"frustrated":return 0}return null}return t.addEventListener(Fp,(()=>{-1===s&&(a=Tt())})),t.addEventListener("progress",(()=>{-1===s&&(d=Tt(),s=kt(a)),h()})),{startupTimeScore:p,rebufferScore:v,failureScore:f,videoQualityScore:m,overallScore:function(){return Math.min(f(),p(),v(),m())},trackBufferStart:function(){-1!==s&&(e++,n=Tt())},trackBufferEnd:function(){-1!==s&&(i+=kt(n))},onError:function(t){t.final&&(o=!0)}}}function Up(t,e=3){if(t=parseFloat(t),isNaN(t))return 0;var n=Math.pow(10,e);return Math.round(t*n)/n}function zp(t,e){let n,i,r,o,s,a,u,l,c,d,h,f,p,v,m=0;function _(){n=0,i=0,r=0,o=0,s=0,a=null,u=0,l=!1,c=!1,d=null,h=!1,f=new Hp(t),p=new $p,v={bufferTracker:p,videoBufferCheck:()=>{setInterval((()=>{let e=t.currentTime;c&&!h&&!t.paused&&!v.bufferTracker.isVideoBuffering()&&e<s+.125&&v.bufferTracker.trackBufferStart(y),c&&!t.paused&&v.bufferTracker.isVideoBuffering()&&e>s+.125&&(v.bufferTracker.trackBufferEnd(g),v.bufferTracker.resetLastBufferTime()),s=e}),250)},addEventData:t=>null,playbackSessionTimer:()=>{let e=Tt();setInterval((()=>{(!t.paused&&l||h||v.bufferTracker.isVideoBuffering())&&(u+=kt(e)/1e3),e=Tt()}),500)},customMinuteTracker:{shouldCount:()=>!1,onCount:()=>{}}}}function b(t,n={}){0===m&&(n=Object.assign(n,v.addEventData(t)),e(t,n))}function y(t={}){f.trackBufferStart(),b(jp.VIDEO_BUFFER_START,t)}function g(t={}){f.trackBufferEnd(),b(jp.VIDEO_BUFFER_END,t)}return _(),b(jp.VIDEO_READY),function(){let e=Math.ceil(59*Math.random());setInterval((()=>{var s,a,u;function c(t,n){return 0===t?n===e:n>=60}!t.paused&&l&&(n++,null!=(s=v.customMinuteTracker)&&null!=s.shouldCount&&s.shouldCount()&&i++,c(r,n)&&(n=0,r++,b(jp.VIDEO_MINUTE_WATCHED)),c(o,i)&&null!=(a=v.customMinuteTracker)&&null!=a.shouldCount&&a.shouldCount()&&(i=0,o++,null==(u=v.customMinuteTracker)||null==u.onCount||u.onCount(o)))}),1e3)}(),window.addEventListener("pagehide",(e=>{v.bufferTracker.trackVideoExit(t.paused);const n={startup:f.startupTimeScore(),rebuffer:f.rebufferScore(),failure:f.failureScore(),quality:f.videoQualityScore(),overall:f.overallScore()};d&&b(jp.VIDEO_EXIT,{vxs:n})}),!1),t.addEventListener(Fp,(()=>{l=!0,h||c&&b(jp.VIDEO_PLAYED)})),t.addEventListener("timeupdate",(()=>{if(c)return;let t={startup_duration:d?Up(kt(d)/1e3,2):null};b(jp.VIDEO_START_TIME,t),c=!0})),t.addEventListener("pause",(()=>{l=!1,b(jp.VIDEO_PAUSED)})),t.addEventListener("seeking",(()=>{h||(a=Tt(),h=!0,l=!1,b(jp.VIDEO_SEEK))})),t.addEventListener("seeked",(()=>{h=!1,t.paused||(l=!0),b(jp.VIDEO_SEEKED,{seek_duration:kt(a)/1e3}),a=null})),t.addEventListener("ended",(()=>{b(jp.VIDEO_ENDED)})),t.addEventListener("waiting",(()=>{l=!1})),t.addEventListener("canplay",(()=>{h||v.bufferTracker.isVideoBuffering()&&!l&&(v.bufferTracker.trackBufferEnd(g),v.bufferTracker.resetLastBufferTime())})),{globalProperties:function(){return{autoplay:t.autoplay,buffer_count:v.bufferTracker.getBufferCount(),total_buffer_duration:v.bufferTracker.getTotalBufferDuration(),buffer_ratio:v.bufferTracker.getBufferRatio(u),client_time:Tt(),is_buffering:v.bufferTracker.isVideoBuffering(),looping:t.loop,minutes_watched:r,network_state:t.networkState,playback_rate:t.playbackRate,player_width:t.getBoundingClientRect().width,player_height:t.getBoundingClientRect().height,session_playback_duration:Up(u,2),video_time:t.currentTime,video_height:t.videoHeight,video_width:t.videoWidth,volume:Up(t.volume,2)}},logStartRequest:function(){d=Tt(),b(jp.VIDEO_START_ATTEMPT)},customizeHooks:function(t){v=Object.assign(v,t)},initHooks:function(){v.videoBufferCheck(),v.playbackSessionTimer()},logBufferStart:y,logBufferEnd:g,setDisplayContext:function(t){m=t},handleExternalError:function(t,e){l=!1,f.onError(e),b(c?jp.VIDEO_PLAYBACK_ERROR:c?jp.VIDEO_START_FAILURE:jp.VIDEO_LOAD_FAILURE,t)},reset:_}}let Xp=function(t){return t.started="started",t.done="done",t.error="error",t}({}),Gp=function(t){return t.pending="pending",t.active="active",t.started="started",t.ended="ended",t}({});function Wp(t){var e;return t.video.ecdn?t.video.live_event?"vimeo-live-ecdn":"vimeo-vod-ecdn":Fc(t.embed.interactive)?null!=(e=t.request.flags)&&e.ott?"vimeo-ott-vod":t.video.live_event?"vimeo-live":t.embed.context&&-1!==t.embed.context.indexOf("Stock")?"vimeo-stock-vod":t.video.vod?"vimeo-ondemand":"vimeo-vod":"vimeo-interactive-vod"}const qp=()=>{const t=Ph,[e,n,i]=t.split(".");return{full:t,major:e,minor:n,patch:i}},Yp=Se.iPhone||Se.mobileAndroid||Se.windowsPhone||Se.browser.bb10;function Kp(){let t="desktop";return Se.iPad?t="tablet":Yp&&(t="mobile"),t}function Zp(){let t="windows";return Se.iOS?t="iOS":Se.android?t="android":Se.mac?t="macOS":Se.windowsPhone&&(t="windowsPhone"),t}function Jp(t){var e;const{user:n,video:i}=t;let r="viewer";return n.team_id&&(r=n.id===n.team_origin_user_id?"admin":"contributor"),n.id===(null==(e=i.owner)?void 0:e.id)&&(r="owner"),r}function Qp(t,e){return t===e?"square":e>t?"portrait":"landscape"}function tv(t){return(null==t?void 0:t.status)===Gp.ended?"ended":(null==t?void 0:t.status)===Gp.started?"streaming":(null==t?void 0:t.status)===Gp.pending?"unavailable":"unknown"}function ev(t){return t.live_event?"live_event":"other"}function nv(t){var e;return null!=t&&t.length&&(null==(e=t.find((t=>t.is_current)))?void 0:e.id)||null}function iv(t){return t===rp.PRIVACY_PUBLIC?"public":t===rp.PRIVACY_PASSWORD?"password":t===rp.PRIVACY_UNLISTED?"unlisted":t===rp.PRIVACY_HIDE_FROM_VIMEO?"hide_from_vimeo":"private"}var rv=function(t){return t.Origin="c=o",t.Peer="c=p",t.ParentCache="c=c",t.CloudWrapper="c=w",t}(rv||{});function ov(t){const e=t.akamai_request_bc,n=t.x_cache;return e?function(t){return t.includes(rv.Origin)?cp.CacheMiss:t.includes(rv.Peer)||t.includes(rv.ParentCache)||t.includes(rv.CloudWrapper)?cp.MidCacheHit:cp.EdgeCacheHit}(e):n?function(t){return"HIT"===t.slice(0,3)?cp.MidCacheHit:"HIT"===t.slice(-3)?cp.EdgeCacheHit:cp.CacheMiss}(n):cp.CacheMiss}const sv=()=>{const t=Mn(window,"_hiveStats",{cdnResponseBytes:0,p2pResponseBytes:0,partners:{}}),{cdnResponseBytes:e,p2pResponseBytes:n,partners:i}=t;return{ecdnBytesByCdn:e,ecdnBytesPeered:n,ecdnPeers:(Object.keys(i)??[]).length}},av=()=>{const t=Mn(window,"_kollectiveStats",{originBytes:0,ecdnBytes:0,currentPeerConnections:0}),{originBytes:e,ecdnBytes:n,currentPeerConnections:i}=t;return{ecdnBytesByCdn:e,ecdnBytesPeered:n,ecdnPeers:i}},uv=t=>{const e={hive:sv,kollective:av};return e[t]?e[t]():{ecdnBytesByCdn:0,ecdnBytesPeered:0,ecdnPeers:0}},lv=({newPriority:t,currentPriority:e,priorityOrder:n})=>{const i=n.indexOf(e),r=n.indexOf(t);return-1===i||-1===r||i>r},cv=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){return new r((e=>{if(!Se.intersectionObserver)return void e();const n=new IntersectionObserver((function(t){const[i]=t;null!=i&&i.isIntersecting&&(e(),n.disconnect())}),{threshold:.5});n.observe(t)}))}));function dv(t){return(null==t?void 0:t.parentElement)===document.body}const hv=()=>{try{return window.self!==window.top}catch(t){return!0}};function fv(t,e){const[n,i]=e;let r=i-n;for(var o,s=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=it(t))){e&&(t=e);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(o=s()).done;){const t=o.value,[e,s]=t,a=Math.max(n,e),u=Math.min(i,s);r-=Math.max(0,u-a)}return Math.max(r,0)}function pv(t){return Vf(sh(t,3))}const vv=t=>{var e;const n=null==t||null==(e=t.ingest)?void 0:e.start_time;if(!n)return Jh;const i=Date.now()-n,r=Jh-i;return Math.min(Math.max(r,0),Jh)},mv=t=>!!t&&t.status===Gp.started&&0===vv(t);function _v(t){return!0===t||!1===t?Number(t):"null"===t?null:t}function bv(t,e=document.cookie){try{if(e&&""!==e)return e.split(";").reduce((function(e,n){return 0===(n=n.trim()).indexOf(`${t}=`)?decodeURIComponent(n.substr(t.length+1)):e}),null)}catch(t){}return null}let yv=function(t){return t.EMPTY="empty",t.LEAD_CAPTURE_FORM="lead_capture_form",t}({}),gv=function(t){return t.BEFORE_VIDEO="before_video",t.DURING_VIDEO="during_video",t.AFTER_VIDEO="after_video",t}({}),wv=function(t){return t.OPENED="access_gate_opened",t.CLOSED="access_gate_closed",t.ERROR="access_gate_error",t}({});const Tv={[yv.LEAD_CAPTURE_FORM]:[Lh.main,Lh.privateUnlocked]},Cv=(nf.REMOTE_ACCESS_GATE,(t,e)=>{const n=e.vimeo_url;let i={lc_param_session_id:e.request.session};return e.video.unlisted_hash&&(i.lc_param_unlisted_hash=e.video.unlisted_hash),e.request.hashed_password&&(i.lc_param_password=e.request.hashed_password),Nt(`https://${n}${t}`,i)}),Ev=(t,e,n=null)=>t===yv.LEAD_CAPTURE_FORM?{purpose:t,url:Cv(`/leadcapture/video/${e.video.id}/form`,e),title:"Lead Capture Form",gateId:n}:{purpose:yv.EMPTY,url:"",title:"",gateId:n},kv=(t,e)=>{if(t===yv.LEAD_CAPTURE_FORM){let t=(t=>"lc_"+t.video.id)(e),n=bv(t);return n||(t=(t=>{const{id:e,unlisted_hash:n}=t.video;return"lc_"+((t,e=0)=>{let n=3735928559^e,i=1103547991^e;for(let e,r=0;r<t.length;r++)e=t.charCodeAt(r),n=Math.imul(n^e,2654435761),i=Math.imul(i^e,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(n^n>>>13,3266489909),(4294967296*(2097151&i)+(n>>>0)).toString()})(n?`${e}:${n}`:`${e}`)})(e),n=bv(t),n??"")}return""},Sv=(t,e)=>!!kv(t,e);function Av(t){var e;const n=kv(yv.LEAD_CAPTURE_FORM,t);var i,r;return null!=(e=t.user)&&e.lead?{leadUuid:(null==(i=t.user.lead)?void 0:i.id)||n,contentType:null==(r=t.user.lead)?void 0:r.type}:n?{leadUuid:n}:{}}let Nv=function(t){return t.NOT_LOGGED_IN="not_logged_in",t.LOGGED_IN_STORAGE_ACCESS_REQUIRED="logged_in_storage_access_required",t.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED="storage_access_granted_login_unconfirmed",t.ALL_ACCESS_ATTEMPTS_FAILED="all_access_attempts_failed",t.LOGGED_IN_NO_ACCESS="logged_in_no_access",t.LOGGED_IN_HAS_ACCESS="logged_in_has_access",t}({});const Mv={storageAccessRequired:Bp,requestCookieAccess:t=>new r(((e,n)=>document.requestStorageAccess().then((()=>{Pp("User granted storage access"),e(!0)}),(()=>{t(),Pp("User storage access denied:"),e(!1)})).catch(n)))};const Ov=["label"],Iv="Hotspot",Rv="Poll";function Lv(t,e,n){return t/e*n}function xv(t=""){try{const e=null==t?void 0:t.split(".")[1];return(t=>Math.trunc(Date.now()/1e3)-t)(JSON.parse(atob(e)).exp)>=0}catch(t){throw new Error("Failed to parse PHP token.")}}const Dv=t=>t?t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):"",Pv=(t,e)=>!t.isLive()||e;let Bv=function(t){return t.XXS="xxs",t.XS="xs",t.SM="sm",t.MD="md",t.LG="lg",t.XL="xl",t.XXL="xxl",t}({}),$v=function(t){return t.MD="md",t.SM="sm",t.XS="xs",t.CUSTOM="custom",t}({}),jv=function(t){return t.PRIMARY="primary",t.ALTERNATIVE="alternative",t.CUSTOM="custom",t}({}),Vv=function(t){return t.LEFT="left",t.RIGHT="right",t}({}),Fv=function(t){return t.RESET="reset",t.BUTTON="button",t.SUBMIT="submit",t}({}),Hv=function(t){return t.SM="sm",t.MD="md",t.LG="lg",t.XL="xl",t}({}),Uv=function(t){return t.NORMAL="normal",t.BOLD="bold",t[t.NUM_500=500]="NUM_500",t}({}),zv=function(t){return t.CUSTOM="custom",t.WHITE="white",t}({}),Xv=function(t){return t.SM="sm",t.LG="lg",t}({}),Gv=function(t){return t.FULL_CONTROLS="full-controls",t.VOLUME_SLIDER="volume-slider",t.PROGRESS_BAR="progress-bar",t.SIDE_DOCK_MENU="side-dock-menu",t}({});const Wv=(t,e,n)=>{switch(t){case Gv.FULL_CONTROLS:case Gv.VOLUME_SLIDER:return e!==tp.MINI&&e!==tp.TINY&&n!==Bv.XXS;case Gv.PROGRESS_BAR:return e!==tp.TINY;case Gv.SIDE_DOCK_MENU:return e===tp.MINI||e===tp.TINY||n===Bv.XXS||n===Bv.XS;default:return!1}};function qv(t){return 1===t}function Yv(t,e=new Date){return t.getTime()-e.getTime()}function Kv(){let t=-1;if(void 0!==window.performance&&"function"==typeof window.performance.getEntriesByType){const e=window.performance.getEntriesByType("resource");if(e){const n=e.filter((t=>null!==t.name.split("?")[0].match(/\.m4s$|\.ts$|\.mp4$/)));t=n.map((t=>t.responseStart-t.connectStart)).reduce(((t,e)=>t+e),0)/(n.length||1)}}return sh(t,2)}const Zv=!!window.DD_RUM&&"function"==typeof window.DD_RUM.setViewContextProperty&&"function"==typeof window.DD_RUM.setGlobalContextProperty&&"function"==typeof window.DD_RUM.addError&&"function"==typeof window.DD_RUM.addAction;var Jv=function(){return xe.Date.now()},Qv=Math.max,tm=Math.min;function em(t,e,n){var i,r,o,s,a,u,l=0,c=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=i,o=r;return i=r=void 0,l=e,s=t.apply(o,n)}function p(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-l>=o}function v(){var t=Jv();if(p(t))return m(t);a=setTimeout(v,function(t){var n=e-(t-u);return d?tm(n,o-(t-l)):n}(t))}function m(t){return a=void 0,h&&i?f(t):(i=r=void 0,s)}function _(){var t=Jv(),n=p(t);if(i=arguments,r=this,u=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(v,e),c?f(t):s}(u);if(d)return clearTimeout(a),a=setTimeout(v,e),f(u)}return void 0===a&&(a=setTimeout(v,e)),s}return e=ec(e)||0,We(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Qv(ec(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=u=r=a=void 0},_.flush=function(){return void 0===a?s:m(Jv())},_}function nm(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return We(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),em(t,e,{leading:i,maxWait:e,trailing:r})}let im=function(t){return t.WEB_GLOBAL="vimeo.web_global",t.COPY_VIDEO_EMBED_CODE="workflow.copy_video_embed_code",t.PLAYER_PERFORMANCE_MEASUREMENT="vimeo.player_performance_measurement",t.CHAPTER_SEGMENT_CLICK="vimeo.chapter_segment_click",t.CLICK="vimeo.click",t.TIMING_OBJECT_CONNECT="vimeo.timing_object_connect",t.TIMING_OBJECT_DISCONNECT="vimeo.timing_object_disconnect",t.EMBEDDED_TRANSCRIPT_CLICK="vimeo.embedded_transcript_click",t.CLOSED_CAPTIONS_CLICK="vimeo.closed_captions_click",t.MULTI_AUDIO_TRACK_CLICK="vimeo.multi_audio_track_click",t.VIEW_PLAYER_CSAT_V1="vimeo.view_player_csat_v1",t.SELECT_THUMBS_UP_PLAYER_CSAT_V1="vimeo.select_thumbs_up_player_csat_v1",t.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1="vimeo.select_thumbs_down_player_csat_v1",t.DISMISS_PLAYER_CSAT_V1="vimeo.dismiss_player_csat_v1",t.DVR_MODE_ENTERED="vimeo.dvr_mode_entered",t.SEEK_BEHIND_LIVE_EDGE="vimeo.seek_behind_live_edge",t.SKIP_TO_LIVE_CLICK="vimeo.skip_to_live_click",t.SEEK_TO_LIVE_EDGE="vimeo.seek_to_live_edge",t.PLAY_VIDEO="vimeo.play_video",t.FINISH_VIDEO="vimeo.finish_video",t.START_VIDEO_SCRUB="vimeo.start_video_scrub",t.END_VIDEO_SCRUB="vimeo.end_video_scrub",t.WATCH_VIDEO_HEARTBEAT="vimeo.watch_video_heartbeat",t.EMBED_SEGMENT="vimeo.embed_segment",t.PLAY_SEGMENT="vimeo.play_segment",t.WATCH_FULL_VIDEO="vimeo.watch_full_video",t.SEEK_INSIDE_SEGMENT="vimeo.seek_inside_segment",t.SHARE_CHAPTER="vimeo.share_chapter",t.CHAPTER_PLAYED="vimeo.chapter_played",t.CHAPTER_SELECTED="vimeo.chapter_selected",t.OPEN_AI_OPTIONS="vimeo.open_ai_options",t.PROCESS_STEP="vimeo.process_step",t.REMOTE_COMPONENT_LOADED="vimeo.remote_component_loaded",t.REMOTE_COMPONENT_TIMEOUT="vimeo.remote_component_timeout",t.REACH_TIME_ACTION="vimeo.reach_time_action",t.VIEW_HOTSPOT="vimeo.view_hotspot",t.CLICK_HOTSPOT="vimeo.click_hotspot",t.VIEW_OVERLAY="vimeo.view_overlay",t.CLOSE_OVERLAY="vimeo.close_overlay",t.CLICK_OVERLAY="vimeo.click_overlay",t.VIEW_POLL="vimeo.view_poll",t.VOTE_POLL="vimeo.vote_poll",t}({}),rm=function(t){return t.TEAM="team_context",t.ACTION="action_context",t.VIEW="view_context",t.WEB="web_context",t.VIDEO="video_context",t.PLAYER="player_context",t.LIVE="live_context",t.PRODUCT_ANALYTICS="product_analytics_context",t.TARGET_TEAM="target_team_context",t.USER_FACING_VIDEO_ANALYTICS="user_facing_video_analytics_context",t.THIRD_PARTY_INTEGRATION="third_party_integration_context",t}({}),om=function(t){return t[t.WEB_GLOBAL=5]="WEB_GLOBAL",t[t.COPY_VIDEO_EMBED_CODE=5]="COPY_VIDEO_EMBED_CODE",t[t.PLAYER_PERFORMANCE_MEASUREMENT=1]="PLAYER_PERFORMANCE_MEASUREMENT",t[t.CHAPTER_SEGMENT_CLICK=2]="CHAPTER_SEGMENT_CLICK",t[t.CLICK=83]="CLICK",t[t.TIMING_OBJECT_CONNECT=1]="TIMING_OBJECT_CONNECT",t[t.TIMING_OBJECT_DISCONNECT=1]="TIMING_OBJECT_DISCONNECT",t[t.EMBEDDED_TRANSCRIPT_CLICK=6]="EMBEDDED_TRANSCRIPT_CLICK",t[t.CLOSED_CAPTIONS_CLICK=5]="CLOSED_CAPTIONS_CLICK",t[t.MULTI_AUDIO_TRACK_CLICK=2]="MULTI_AUDIO_TRACK_CLICK",t[t.PLAY_VIDEO=2]="PLAY_VIDEO",t[t.FINISH_VIDEO=2]="FINISH_VIDEO",t[t.START_VIDEO_SCRUB=2]="START_VIDEO_SCRUB",t[t.END_VIDEO_SCRUB=1]="END_VIDEO_SCRUB",t[t.WATCH_VIDEO_HEARTBEAT=4]="WATCH_VIDEO_HEARTBEAT",t[t.EMBED_SEGMENT=1]="EMBED_SEGMENT",t[t.PLAY_SEGMENT=1]="PLAY_SEGMENT",t[t.WATCH_FULL_VIDEO=1]="WATCH_FULL_VIDEO",t[t.SEEK_INSIDE_SEGMENT=1]="SEEK_INSIDE_SEGMENT",t[t.SHARE_CHAPTER=1]="SHARE_CHAPTER",t[t.CHAPTER_PLAYED=1]="CHAPTER_PLAYED",t[t.CHAPTER_SELECTED=1]="CHAPTER_SELECTED",t[t.OPEN_AI_OPTIONS=4]="OPEN_AI_OPTIONS",t[t.PROCESS_STEP=1]="PROCESS_STEP",t[t.REMOTE_COMPONENT_LOADED=1]="REMOTE_COMPONENT_LOADED",t[t.REMOTE_COMPONENT_TIMEOUT=1]="REMOTE_COMPONENT_TIMEOUT",t[t.REACH_TIME_ACTION=1]="REACH_TIME_ACTION",t[t.VIEW_HOTSPOT=1]="VIEW_HOTSPOT",t[t.CLICK_HOTSPOT=1]="CLICK_HOTSPOT",t[t.VIEW_OVERLAY=1]="VIEW_OVERLAY",t[t.CLOSE_OVERLAY=1]="CLOSE_OVERLAY",t[t.CLICK_OVERLAY=1]="CLICK_OVERLAY",t[t.VIEW_POLL=1]="VIEW_POLL",t[t.VOTE_POLL=1]="VOTE_POLL",t[t.TEAM=5]="TEAM",t[t.ACTION=5]="ACTION",t[t.VIEW=3]="VIEW",t[t.WEB=25]="WEB",t[t.VIDEO=13]="VIDEO",t[t.PLAYER=5]="PLAYER",t[t.LIVE=6]="LIVE",t[t.PRODUCT_ANALYTICS=41]="PRODUCT_ANALYTICS",t[t.TARGET_TEAM=6]="TARGET_TEAM",t[t.USER_FACING_VIDEO_ANALYTICS=2]="USER_FACING_VIDEO_ANALYTICS",t[t.THIRD_PARTY_INTEGRATION=5]="THIRD_PARTY_INTEGRATION",t[t.DEFAULT=-1]="DEFAULT",t}({});const sm={[im.WEB_GLOBAL]:om.WEB_GLOBAL,[im.COPY_VIDEO_EMBED_CODE]:om.COPY_VIDEO_EMBED_CODE,[im.PLAYER_PERFORMANCE_MEASUREMENT]:om.PLAYER_PERFORMANCE_MEASUREMENT,[im.CHAPTER_SEGMENT_CLICK]:om.CHAPTER_SEGMENT_CLICK,[im.CLICK]:om.CLICK,[im.TIMING_OBJECT_CONNECT]:om.TIMING_OBJECT_CONNECT,[im.TIMING_OBJECT_DISCONNECT]:om.TIMING_OBJECT_DISCONNECT,[im.EMBEDDED_TRANSCRIPT_CLICK]:om.EMBEDDED_TRANSCRIPT_CLICK,[im.CLOSED_CAPTIONS_CLICK]:om.CLOSED_CAPTIONS_CLICK,[im.MULTI_AUDIO_TRACK_CLICK]:om.MULTI_AUDIO_TRACK_CLICK,[im.VIEW_PLAYER_CSAT_V1]:om.DEFAULT,[im.SELECT_THUMBS_UP_PLAYER_CSAT_V1]:om.DEFAULT,[im.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1]:om.DEFAULT,[im.DISMISS_PLAYER_CSAT_V1]:om.DEFAULT,[im.DVR_MODE_ENTERED]:om.DEFAULT,[im.SEEK_BEHIND_LIVE_EDGE]:om.DEFAULT,[im.SKIP_TO_LIVE_CLICK]:om.DEFAULT,[im.SEEK_TO_LIVE_EDGE]:om.DEFAULT,[im.PLAY_VIDEO]:om.PLAY_VIDEO,[im.FINISH_VIDEO]:om.FINISH_VIDEO,[im.START_VIDEO_SCRUB]:om.START_VIDEO_SCRUB,[im.END_VIDEO_SCRUB]:om.END_VIDEO_SCRUB,[im.WATCH_VIDEO_HEARTBEAT]:om.WATCH_VIDEO_HEARTBEAT,[im.EMBED_SEGMENT]:om.EMBED_SEGMENT,[im.PLAY_SEGMENT]:om.PLAY_SEGMENT,[im.WATCH_FULL_VIDEO]:om.WATCH_FULL_VIDEO,[im.SEEK_INSIDE_SEGMENT]:om.SEEK_INSIDE_SEGMENT,[im.SHARE_CHAPTER]:om.SHARE_CHAPTER,[im.CHAPTER_PLAYED]:om.CHAPTER_PLAYED,[im.CHAPTER_SELECTED]:om.CHAPTER_SELECTED,[im.OPEN_AI_OPTIONS]:om.OPEN_AI_OPTIONS,[im.PROCESS_STEP]:om.PROCESS_STEP,[im.REMOTE_COMPONENT_LOADED]:om.REMOTE_COMPONENT_LOADED,[im.REMOTE_COMPONENT_TIMEOUT]:om.REMOTE_COMPONENT_TIMEOUT,[im.REACH_TIME_ACTION]:om.REACH_TIME_ACTION,[im.VIEW_HOTSPOT]:om.VIEW_HOTSPOT,[im.CLICK_HOTSPOT]:om.CLICK_HOTSPOT,[im.VIEW_OVERLAY]:om.VIEW_OVERLAY,[im.CLOSE_OVERLAY]:om.CLOSE_OVERLAY,[im.CLICK_OVERLAY]:om.CLICK_OVERLAY,[im.VIEW_POLL]:om.VIEW_POLL,[im.VOTE_POLL]:om.VOTE_POLL,[rm.TEAM]:om.TEAM,[rm.ACTION]:om.ACTION,[rm.VIEW]:om.VIEW,[rm.WEB]:om.WEB,[rm.VIDEO]:om.VIDEO,[rm.PLAYER]:om.PLAYER,[rm.LIVE]:om.LIVE,[rm.PRODUCT_ANALYTICS]:om.PRODUCT_ANALYTICS,[rm.USER_FACING_VIDEO_ANALYTICS]:om.USER_FACING_VIDEO_ANALYTICS,[rm.TARGET_TEAM]:om.TARGET_TEAM,[rm.THIRD_PARTY_INTEGRATION]:om.THIRD_PARTY_INTEGRATION},am=[rm.PLAYER,rm.VIDEO,rm.WEB,rm.TEAM],um=[rm.TEAM,rm.VIDEO,rm.LIVE,rm.PRODUCT_ANALYTICS,rm.USER_FACING_VIDEO_ANALYTICS,rm.TARGET_TEAM,rm.THIRD_PARTY_INTEGRATION],lm={[im.VIEW_PLAYER_CSAT_V1]:[].concat(am,[rm.VIEW]),[im.SELECT_THUMBS_UP_PLAYER_CSAT_V1]:[].concat(am,[rm.ACTION]),[im.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1]:[].concat(am,[rm.ACTION]),[im.DISMISS_PLAYER_CSAT_V1]:[].concat(am,[rm.ACTION]),[im.DVR_MODE_ENTERED]:[].concat(am,[rm.VIEW,rm.LIVE,rm.PRODUCT_ANALYTICS]),[im.SEEK_BEHIND_LIVE_EDGE]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS]),[im.SKIP_TO_LIVE_CLICK]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS]),[im.SEEK_TO_LIVE_EDGE]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS]),[im.PLAY_VIDEO]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS,rm.TARGET_TEAM,rm.USER_FACING_VIDEO_ANALYTICS]),[im.FINISH_VIDEO]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS,rm.TARGET_TEAM,rm.USER_FACING_VIDEO_ANALYTICS]),[im.START_VIDEO_SCRUB]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS,rm.TARGET_TEAM,rm.USER_FACING_VIDEO_ANALYTICS]),[im.END_VIDEO_SCRUB]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS,rm.TARGET_TEAM,rm.USER_FACING_VIDEO_ANALYTICS]),[im.WATCH_VIDEO_HEARTBEAT]:[].concat(am,[rm.ACTION,rm.LIVE,rm.PRODUCT_ANALYTICS,rm.TARGET_TEAM,rm.USER_FACING_VIDEO_ANALYTICS]),[im.WATCH_FULL_VIDEO]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS]),[im.SEEK_INSIDE_SEGMENT]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS]),[im.SHARE_CHAPTER]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS]),[im.CHAPTER_PLAYED]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS]),[im.CHAPTER_SELECTED]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS,rm.THIRD_PARTY_INTEGRATION]),[im.EMBED_SEGMENT]:[].concat(am,[rm.VIEW,rm.PRODUCT_ANALYTICS]),[im.PLAY_SEGMENT]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS]),[im.OPEN_AI_OPTIONS]:[rm.TEAM,rm.ACTION,rm.PRODUCT_ANALYTICS,rm.WEB,rm.VIDEO],[im.PROCESS_STEP]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS]),[im.REMOTE_COMPONENT_LOADED]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS,rm.THIRD_PARTY_INTEGRATION]),[im.REMOTE_COMPONENT_TIMEOUT]:[].concat(am,[rm.ACTION,rm.PRODUCT_ANALYTICS,rm.THIRD_PARTY_INTEGRATION]),[im.REACH_TIME_ACTION]:[].concat(um,[rm.VIEW]),[im.VIEW_HOTSPOT]:[].concat(um,[rm.VIEW]),[im.CLICK_HOTSPOT]:[].concat(um,[rm.ACTION]),[im.VIEW_OVERLAY]:[].concat(um,[rm.VIEW]),[im.CLOSE_OVERLAY]:[].concat(um,[rm.ACTION]),[im.CLICK_OVERLAY]:[].concat(um,[rm.ACTION]),[im.VIEW_POLL]:[].concat(um,[rm.VIEW]),[im.VOTE_POLL]:[].concat(um,[rm.ACTION])},cm={PROVENANCE_AI_GENERATED:"ai_generated",PROVENANCE_USER_UPLOADED:"user_uploaded",PROVENANCE_USER_UPLOADED_AI_GENERATED:"user_uploaded_ai_generated"};let dm=function(t){return t.WORKFLOW="Workflow",t.PLAYBACK="Playback",t}({});const hm=[25,50,75,90,95,100];function fm(t,e){let n,i=null,r=null,o=null,s=null,a=0,u=0,l=[],c=!1,d=!1,h=!1,f=0,p=0,v=Tt(),m=!0,_=!0,b=[],y=[],g=0;function w(){A(),e(im.PLAY_VIDEO,t.config,N(im.PLAY_VIDEO)),s=o}function T(){t.backbone.seeking||(c=!1,E(),e(im.FINISH_VIDEO,t.config,N(im.FINISH_VIDEO)),_=!1,S())}function C(){c&&d&&!h&&(d=!1,A(),e(im.END_VIDEO_SCRUB,t.config,N(im.END_VIDEO_SCRUB)),s=o,k())}function E(){let n=f;(t.backbone.seeking||h)&&(n=p),o=sh(n,3),a&&(g+=u,function(){var e;const n=pv(t.config.video.duration);if(t.backbone.isLive()||0===n)return;y=[];const i=Math.round(g/n*100);y=hm.filter((t=>i>=t&&!b.includes(t))),(e=b).push.apply(e,et(y))}(),e(im.WATCH_VIDEO_HEARTBEAT,t.config,J(J({},N(im.WATCH_VIDEO_HEARTBEAT)),{},{log_view_time:a,log_view_time_excluding_repeats:Math.min(u,a),previous_log_end_time:s,is_first_log:m,completion_quantiles:y})),a=0,u=0,m=!1,s=o)}function k(){n||(n=setInterval(E,1e4))}function S(){clearInterval(n),n=null}function A(){const e=sh(Vf(t.currentTime),3);i?i++:i=1,r=e,o=e,a=0,u=0,p=e,v=Tt()}function N(e){let n;switch(e){case im.FINISH_VIDEO:n={session_segment_id:i,segment_start_time:r,log_end_time:o,is_first_log:_};break;case im.PLAY_VIDEO:n={session_segment_id:i,segment_start_time:r,log_end_time:o,video_duration_ms:pv(t.config.video.duration)};break;default:n={session_segment_id:i,segment_start_time:r,log_end_time:o}}return n}t.events.on(ao.PLAY,(function(){if(k(),!c)if(c=!0,t.backbone.isLive()){const e=({currentTime:n})=>{0!==n&&(w(),t.events.off(ao.TIME_UPDATE,e))};t.events.on(ao.TIME_UPDATE,e)}else w()})),t.events.on(ao.PAUSE,(function(){t.backbone.ended||t.backbone.seeking||h||(E(),S())})),t.events.on(ao.SEEKING,(function(){c&&!d&&(d=!0,E(),e(im.START_VIDEO_SCRUB,t.config,N(im.START_VIDEO_SCRUB)),S())})),t.events.on(ao.SEEKED,nm(C,750)),t.events.on(ao.ENDED,T),t.events.on(ao.TIME_UPDATE,(function(){if(t.backbone.seeking)return;const e=Vf(sh(t.currentTime,3)),n=h?p:e;let i=Math.round(n-p);const o=Tt();if(i=function(e,n,i){const r=t.backbone.playbackRate||1,o=v||i,s=Math.round((i-o)*r),a=Math.max(s,0),u=pv(t.config.video.duration);return!t.backbone.isLive()&&u&&n>u||a&&e>1.3*a?Math.min(e,a):e}(i,n,o),i<=0)return;f=n;const s=[r,n];if(a+=i,Se.iOS&&t.backbone.isLive()){u+=sh(fv(l,s),3);const t=function(t,e){const[n,i]=e;return t.map(((t,e)=>{const[r,o]=t;return n>=r&&n<=o||i>=r&&i<=o||r<=n&&o>=i||n<=r&&i>=o?e:null})).filter((t=>null!==t))}(l,s);l=function(t,e,n){const[i,r]=e;let o;if(n.length)o=Math.min.apply(Math,et(n));else{const e=t.findIndex((t=>i<t[0]));o=-1===e?t.length:e}const s=et(t),a=[Math.min.apply(Math,[i].concat(et(n.map((e=>t[e][0]))))),Math.max.apply(Math,[r].concat(et(n.map((e=>t[e][1])))))];return s.splice(o,n.length,a),s}(l,s,t)}else{const e=t.backbone.played;u+=sh(fv(l,s),3),l=function(t){const e=t.length,n=[];for(let i=0;i<e;i++){const e=t.start(i),r=t.end(i);n.push([Vf(sh(e,3)),Vf(sh(r,3))])}return n}(e)}p=n,v=o,t.config.embed.loop&&function(e){if(c&&e>=pv(t.config.video.duration)-300){T();const e=()=>{t.currentTime>=0&&(t.events.off(ao.TIME_UPDATE,e),w())};t.events.on(ao.TIME_UPDATE,e)}}(f)})),t.events.on(Nh.ju,(function(){h=!0})),t.events.on(Nh.Vu,(function(){h=!1,d&&C()})),t.events.on(Nh.Hl,(t=>{t&&(S(),i=null,r=null,o=null,s=null,a=0,u=0,l=[],c=!1,d=!1,h=!1,f=0,p=0,v=Tt(),_=!0,m=!0,b=[],y=[],g=0)})),window.addEventListener("pagehide",(function(){E()}))}var pm=n((function(t,e){Object.defineProperty(e,"Td",{value:!0}),e.Tracker=void 0;var n=function(){function t(){}return t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"name",baseName:"name",type:"string"},{name:"version",baseName:"version",type:"string"}],t}();e.Tracker=n}));let vm;const mm=new Uint8Array(16);function _m(){if(!vm&&(vm="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vm(mm)}var bm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ym(t){return"string"==typeof t&&bm.test(t)}const gm=[];for(let t=0;t<256;++t)gm.push((t+256).toString(16).slice(1));function wm(t,e=0){return gm[t[e+0]]+gm[t[e+1]]+gm[t[e+2]]+gm[t[e+3]]+"-"+gm[t[e+4]]+gm[t[e+5]]+"-"+gm[t[e+6]]+gm[t[e+7]]+"-"+gm[t[e+8]]+gm[t[e+9]]+"-"+gm[t[e+10]]+gm[t[e+11]]+gm[t[e+12]]+gm[t[e+13]]+gm[t[e+14]]+gm[t[e+15]]}let Tm,Cm,Em=0,km=0;function Sm(t){if(!ym(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}function Am(t,e,n){function i(t,i,r,o){var s;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=Sm(i)),16!==(null===(s=i)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+t.length);if(a.set(i),a.set(t,i.length),a=n(a),a[6]=15&a[6]|e,a[8]=63&a[8]|128,r){o=o||0;for(let t=0;t<16;++t)r[o+t]=a[t];return r}return wm(a)}try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function Nm(t){return 14+(t+64>>>9<<4)+1}function Mm(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function Om(t,e,n,i,r,o){return Mm(function(t,e){return t<<e|t>>>32-e}(Mm(Mm(e,t),Mm(i,o)),r),n)}function Im(t,e,n,i,r,o,s){return Om(e&n|~e&i,t,e,r,o,s)}function Rm(t,e,n,i,r,o,s){return Om(e&i|n&~i,t,e,r,o,s)}function Lm(t,e,n,i,r,o,s){return Om(e^n^i,t,e,r,o,s)}function xm(t,e,n,i,r,o,s){return Om(n^(e|~i),t,e,r,o,s)}const Dm=Am("v3",48,(function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){const e=[],n=32*t.length,i="0123456789abcdef";for(let r=0;r<n;r+=8){const n=t[r>>5]>>>r%32&255,o=parseInt(i.charAt(n>>>4&15)+i.charAt(15&n),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[Nm(e)-1]=e;let n=1732584193,i=-271733879,r=-1732584194,o=271733878;for(let e=0;e<t.length;e+=16){const s=n,a=i,u=r,l=o;n=Im(n,i,r,o,t[e],7,-680876936),o=Im(o,n,i,r,t[e+1],12,-389564586),r=Im(r,o,n,i,t[e+2],17,606105819),i=Im(i,r,o,n,t[e+3],22,-1044525330),n=Im(n,i,r,o,t[e+4],7,-176418897),o=Im(o,n,i,r,t[e+5],12,1200080426),r=Im(r,o,n,i,t[e+6],17,-1473231341),i=Im(i,r,o,n,t[e+7],22,-45705983),n=Im(n,i,r,o,t[e+8],7,1770035416),o=Im(o,n,i,r,t[e+9],12,-1958414417),r=Im(r,o,n,i,t[e+10],17,-42063),i=Im(i,r,o,n,t[e+11],22,-1990404162),n=Im(n,i,r,o,t[e+12],7,1804603682),o=Im(o,n,i,r,t[e+13],12,-40341101),r=Im(r,o,n,i,t[e+14],17,-1502002290),i=Im(i,r,o,n,t[e+15],22,1236535329),n=Rm(n,i,r,o,t[e+1],5,-165796510),o=Rm(o,n,i,r,t[e+6],9,-1069501632),r=Rm(r,o,n,i,t[e+11],14,643717713),i=Rm(i,r,o,n,t[e],20,-373897302),n=Rm(n,i,r,o,t[e+5],5,-701558691),o=Rm(o,n,i,r,t[e+10],9,38016083),r=Rm(r,o,n,i,t[e+15],14,-660478335),i=Rm(i,r,o,n,t[e+4],20,-405537848),n=Rm(n,i,r,o,t[e+9],5,568446438),o=Rm(o,n,i,r,t[e+14],9,-1019803690),r=Rm(r,o,n,i,t[e+3],14,-187363961),i=Rm(i,r,o,n,t[e+8],20,1163531501),n=Rm(n,i,r,o,t[e+13],5,-1444681467),o=Rm(o,n,i,r,t[e+2],9,-51403784),r=Rm(r,o,n,i,t[e+7],14,1735328473),i=Rm(i,r,o,n,t[e+12],20,-1926607734),n=Lm(n,i,r,o,t[e+5],4,-378558),o=Lm(o,n,i,r,t[e+8],11,-2022574463),r=Lm(r,o,n,i,t[e+11],16,1839030562),i=Lm(i,r,o,n,t[e+14],23,-35309556),n=Lm(n,i,r,o,t[e+1],4,-1530992060),o=Lm(o,n,i,r,t[e+4],11,1272893353),r=Lm(r,o,n,i,t[e+7],16,-155497632),i=Lm(i,r,o,n,t[e+10],23,-1094730640),n=Lm(n,i,r,o,t[e+13],4,681279174),o=Lm(o,n,i,r,t[e],11,-358537222),r=Lm(r,o,n,i,t[e+3],16,-722521979),i=Lm(i,r,o,n,t[e+6],23,76029189),n=Lm(n,i,r,o,t[e+9],4,-640364487),o=Lm(o,n,i,r,t[e+12],11,-421815835),r=Lm(r,o,n,i,t[e+15],16,530742520),i=Lm(i,r,o,n,t[e+2],23,-995338651),n=xm(n,i,r,o,t[e],6,-198630844),o=xm(o,n,i,r,t[e+7],10,1126891415),r=xm(r,o,n,i,t[e+14],15,-1416354905),i=xm(i,r,o,n,t[e+5],21,-57434055),n=xm(n,i,r,o,t[e+12],6,1700485571),o=xm(o,n,i,r,t[e+3],10,-1894986606),r=xm(r,o,n,i,t[e+10],15,-1051523),i=xm(i,r,o,n,t[e+1],21,-2054922799),n=xm(n,i,r,o,t[e+8],6,1873313359),o=xm(o,n,i,r,t[e+15],10,-30611744),r=xm(r,o,n,i,t[e+6],15,-1560198380),i=xm(i,r,o,n,t[e+13],21,1309151649),n=xm(n,i,r,o,t[e+4],6,-145523070),o=xm(o,n,i,r,t[e+11],10,-1120210379),r=xm(r,o,n,i,t[e+2],15,718787259),i=xm(i,r,o,n,t[e+9],21,-343485551),n=Mm(n,s),i=Mm(i,a),r=Mm(r,u),o=Mm(o,l)}return[n,i,r,o]}(function(t){if(0===t.length)return[];const e=8*t.length,n=new Uint32Array(Nm(e));for(let i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))}));var Pm={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Bm(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function $m(t,e){return t<<e|t>>>32-e}const jm=Am("v5",80,(function(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const i=t.length/4+2,r=Math.ceil(i/16),o=new Array(r);for(let e=0;e<r;++e){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=t[64*e+4*i]<<24|t[64*e+4*i+1]<<16|t[64*e+4*i+2]<<8|t[64*e+4*i+3];o[e]=n}o[r-1][14]=8*(t.length-1)/Math.pow(2,32),o[r-1][14]=Math.floor(o[r-1][14]),o[r-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<r;++t){const i=new Uint32Array(80);for(let e=0;e<16;++e)i[e]=o[t][e];for(let t=16;t<80;++t)i[t]=$m(i[t-3]^i[t-8]^i[t-14]^i[t-16],1);let r=n[0],s=n[1],a=n[2],u=n[3],l=n[4];for(let t=0;t<80;++t){const n=Math.floor(t/20),o=$m(r,5)+Bm(n,s,a,u)+l+e[n]+i[t]>>>0;l=u,u=a,a=$m(s,30)>>>0,s=r,r=o}n[0]=n[0]+r>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+a>>>0,n[3]=n[3]+u>>>0,n[4]=n[4]+l>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var Vm=Object.freeze({__proto__:null,v1:function(t,e,n){let i=e&&n||0;const r=e||new Array(16);let o=(t=t||{}).node||Tm,s=void 0!==t.clockseq?t.clockseq:Cm;if(null==o||null==s){const e=t.random||(t.rng||_m)();null==o&&(o=Tm=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==s&&(s=Cm=16383&(e[6]<<8|e[7]))}let a=void 0!==t.msecs?t.msecs:Date.now(),u=void 0!==t.nsecs?t.nsecs:km+1;const l=a-Em+(u-km)/1e4;if(l<0&&void 0===t.clockseq&&(s=s+1&16383),(l<0||a>Em)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Em=a,km=u,Cm=s,a+=122192928e5;const c=(1e4*(268435455&a)+u)%4294967296;r[i++]=c>>>24&255,r[i++]=c>>>16&255,r[i++]=c>>>8&255,r[i++]=255&c;const d=a/4294967296*1e4&268435455;r[i++]=d>>>8&255,r[i++]=255&d,r[i++]=d>>>24&15|16,r[i++]=d>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(let t=0;t<6;++t)r[i+t]=o[t];return e||wm(r)},v3:Dm,v4:function(t,e,n){if(Pm.randomUUID&&!e&&!t)return Pm.randomUUID();const i=(t=t||{}).random||(t.rng||_m)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return wm(i)},v5:jm,NIL:"00000000-0000-0000-0000-000000000000",version:function(t){if(!ym(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)},validate:ym,stringify:function(t,e=0){const n=wm(t,e);if(!ym(n))throw TypeError("Stringified UUID is invalid");return n},parse:Sm}),Fm=function(t){return t&&t.default||t}(Vm),Hm=n((function(t,e){Object.defineProperty(e,"Td",{value:!0}),e.Envelope=void 0;var n=function(){function t(t,e){this.event=t,this.eid=(0,Fm.v4)(),this.ts_ms=Date.now(),this.created_at=Date.now(),this.Cd=new pm.Tracker,this.Ed=e}return Object.defineProperty(t.prototype,"tracker",{get:function(){return this.Cd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"global",{get:function(){return this.Ed},enumerable:!1,configurable:!0}),t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"eid",baseName:"eid",type:"string"},{name:"ts_ms",baseName:"ts_ms",type:"number"},{name:"created_at",baseName:"created_at",type:"number"},{name:"event",baseName:"event",type:"Event"},{name:"global",baseName:"global",type:"Event"},{name:"tracker",baseName:"tracker",type:"Tracker"}],t}();e.Envelope=n})),Um=n((function(t,e){Object.defineProperty(e,"Td",{value:!0}),e.Event=void 0;var n=function(){function t(t,e,n){this.name=t,this.ts_ms=Date.now(),this.version=e,this.fields=n}return t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"name",baseName:"name",type:"string"},{name:"ts_ms",baseName:"ts_ms",type:"number"},{name:"version",baseName:"version",type:"number"},{name:"fields",baseName:"fields",type:"object"}],t}();e.Event=n})),zm=n((function(t,e){Object.defineProperty(e,"Td",{value:!0}),e.EventContext=void 0;var n=function(){function t(t,e,n){this.name=t,this.ts_ms=Date.now(),this.version=e,this.fields=n}return t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"name",baseName:"name",type:"string"},{name:"ts_ms",baseName:"ts_ms",type:"number"},{name:"version",baseName:"version",type:"number"},{name:"fields",baseName:"fields",type:"object"}],t}();e.EventContext=n})),Xm=n((function(t,e){Object.defineProperty(e,"Td",{value:!0}),e.GlobalContext=void 0;e.GlobalContext=function(t,e,n){this.name=t,this.ts_ms=Date.now(),this.version=e,this.fields=n}})),Gm=n((function(t,n){var i=e&&e.kd||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.Td:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=e&&e.Sd||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(n,"Td",{value:!0}),n.ObjectSerializer=void 0,r(Hm,n),r(Um,n),r(zm,n),r(pm,n),r(Xm,n);var o=Um,s=zm,a=pm,u=["string","boolean","double","integer","long","float","number","any"],l={},c={Envelope:Hm.Envelope,Event:o.Event,Tracker:a.Tracker,EventContext:s.EventContext},d=function(){function t(){}return t.findCorrectType=function(t,e){if(null==t)return e;if(-1!==u.indexOf(e.toLowerCase()))return e;if("Date"===e)return e;if(l[e])return e;if(!c[e])return e;var n=c[e].discriminator;if(null==n)return e;if(t[n]){var i=t[n];return c[i]?i:e}return e},t.serialize=function(e,n){if(null==e)return e;if(-1!==u.indexOf(n.toLowerCase()))return e;if(0===n.lastIndexOf("Array<",0)){var i=n.replace("Array<","");i=i.substring(0,i.length-1);var r=[];for(var o in e){var s=e[o];r.push(t.serialize(s,i))}return r}if("Date"===n)return e.toISOString();if(l[n])return e;if(!c[n])return e;n=this.findCorrectType(e,n);var a=c[n].getAttributeTypeMap(),d={};for(var o in a){var h=a[o];d[h.baseName]=t.serialize(e[h.name],h.type)}return d},t.deserialize=function(e,n){if(n=t.findCorrectType(e,n),null==e)return e;if(-1!==u.indexOf(n.toLowerCase()))return e;if(0===n.lastIndexOf("Array<",0)){var i=n.replace("Array<","");i=i.substring(0,i.length-1);var r=[];for(var o in e){var s=e[o];r.push(t.deserialize(s,i))}return r}if("Date"===n)return new Date(e);if(l[n])return e;if(!c[n])return e;var a=new c[n],d=c[n].getAttributeTypeMap();for(var o in d){var h=d[o];a[h.name]=t.deserialize(e[h.baseName],h.type)}return a},t}();n.ObjectSerializer=d})),Wm=n((function(t,e){Object.defineProperty(e,"Td",{value:!0}),e.formatRequestEvent=e.parseJwt=e.getCookie=void 0,e.getCookie=function(t){if("undefined"==typeof document)return null;var e=document.cookie.match(new RegExp("(;\\s)?".concat(t,"=")));if(!e||0==e.length||void 0===e.index)return null;var n=document.cookie.indexOf(";",e.index+1),i=e.index+e[0].length,r=-1===n?document.cookie.substr(i):document.cookie.substring(i,n);return decodeURIComponent(r)},e.parseJwt=function(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)},e.formatRequestEvent=function(t){var e=t.split(".");if(e.length<=2)return t;var n=e.pop();return"".concat(e.join("_"),".").concat(n)}})),qm=n((function(t,n){var i,o=e&&e.Ad||function(t,e,n,i){return new(n||(n=r))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=e&&e.Nd||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof x&&(o[x.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=e&&e.Md||function(t){var e="function"==typeof x&&x.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=e&&e.Od||function(t,e){var n="function"==typeof x&&t[x.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s};Object.defineProperty(n,"Td",{value:!0}),n.BigPictureClient=n.Configuration=n.Service=void 0,function(t){t.FRESNEL_PROD="https://fresnel-events.vimeocdn.com",t.FRESNEL_PROD_CN="https://fresnel-events.videoji.cn",t.FRESNEL_DEV="https://fresnel-event-staging.vimeows.com",t.EVENTS_PROD="https://lensflare.vimeo.com"}(i=n.Service||(n.Service={}));var l=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=""),this.service=t,this.globalBPO=e,this.contexts=n,this.endpoint=i};n.Configuration=l;var c=function(){function t(){}return Object.defineProperty(t,"isInitalized",{get:function(){return Boolean(t.conf.globalBPO)},enumerable:!1,configurable:!0}),t.configure=function(e){t.conf=e,t.WAIT_QUEUE.length>0&&(t.WAIT_QUEUE.map((function(e){var n=e.event,i=e.contexts;i?t.sendEventWithContexts(n,i):t.sendEvent(n)})),t.WAIT_QUEUE=[])},t.updateObject=function(e,n){return o(this,void 0,void 0,(function(){var i,r,o,l,c,d,h;return s(this,(function(s){try{for(i=a(Object.entries(e)),r=i.next();!r.done;r=i.next())if(o=u(r.value,2),l=o[0],c=o[1],l in n){if(c instanceof Object)return n[l]instanceof Object?(t.updateObject(c,n[l]),[2]):(n[l]=c,[2]);n[l]=c}}catch(t){d={error:t}}finally{try{r&&!r.done&&(h=i.return)&&h.call(i)}finally{if(d)throw d.error}}return[2]}))}))},t.updateContext=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(n){return"global"==e.context&&t.conf.globalBPO&&t.updateObject(e.fields,t.conf.globalBPO.fields),[2]}))}))},t.sendEvent=function(e,n){return o(this,void 0,void 0,(function(){var i,r,o,a,u,l;return s(this,(function(s){switch(s.label){case 0:if(null==e)throw new Error("Required parameter event was null or undefined when calling sendEvent.");return t.isInitalized?(i=JSON.stringify(Gm.ObjectSerializer.serialize([new Hm.Envelope(e,this.conf.globalBPO)],"Array<Envelope>")),r=(0,Wm.formatRequestEvent)(e.name),o=""!==this.conf.endpoint?this.conf.endpoint:this.conf.service,a="".concat(o,"/add/").concat(encodeURIComponent(r)),navigator.sendBeacon&&!n?[3,2]:(u={method:"POST",headers:{"Content-Type":"application/json","User-Agent":navigator.userAgent,Origin:location.origin,Referer:document.referrer},body:i},n&&(u.headers.Authorization=n),[4,fetch(a,u)])):(t.WAIT_QUEUE.push({event:e}),t.waitAndFlushQueue(),[2]);case 1:return s.sent(),[3,3];case 2:l=new Blob([i]),navigator.sendBeacon(a,l),s.label=3;case 3:return[2]}}))}))},t.sendEventWithContexts=function(e,n,i){return o(this,void 0,void 0,(function(){var r,o,l,c,d,h,f,p,v,m,_,b,y,g,w,T;return s(this,(function(s){switch(s.label){case 0:if(null==e)throw new Error("Required parameter event was null or undefined when calling sendEvent.");if(!t.isInitalized)return t.WAIT_QUEUE.push({event:e,contexts:n}),t.waitAndFlushQueue(),[2];r=new Hm.Envelope(e,this.conf.globalBPO),(o=Gm.ObjectSerializer.serialize([r],"Array<Envelope>"))[0].contexts={};try{for(l=a(Object.entries(n)),c=l.next();!c.done;c=l.next())d=u(c.value,2),h=d[0],f=d[1],p=Gm.ObjectSerializer.serialize(f,"EventContext"),o[0].contexts[h]=p}catch(t){w={error:t}}finally{try{c&&!c.done&&(T=l.return)&&T.call(l)}finally{if(w)throw w.error}}return v=JSON.stringify(o),m=(0,Wm.formatRequestEvent)(e.name),_=""!==this.conf.endpoint?this.conf.endpoint:this.conf.service,b="".concat(_,"/add/").concat(encodeURIComponent(m)),navigator.sendBeacon&&!i?[3,2]:(y={method:"POST",headers:{"Content-Type":"application/json","User-Agent":navigator.userAgent,Origin:location.origin,Referer:document.referrer},body:v},i&&(y.headers.Authorization=i),[4,fetch(b,y)]);case 1:return s.sent(),[3,3];case 2:g=new Blob([v]),navigator.sendBeacon(b,g),s.label=3;case 3:return[2]}}))}))},t.waitAndFlushQueue=function(){t.flushQueueTimeoutHandler||(t.flushQueueTimeoutHandler=setTimeout((function(){t.WAIT_QUEUE.length>0&&(t.WAIT_QUEUE=[])}),t.FLUSH_QUEUE_TIMEOUT))},t.FLUSH_QUEUE_TIMEOUT=1e4,t.conf=new l(i.FRESNEL_PROD),t.WAIT_QUEUE=[],t}();n.BigPictureClient=c})),Ym=n((function(t,e){Object.defineProperty(e,"Td",{value:!0})})),Km=n((function(t,n){var i=e&&e.kd||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.Td:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=e&&e.Sd||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(n,"Td",{value:!0}),r(qm,n),r(Gm,n),r(Ym,n)}));let Zm={transcriptId:null,transcriptStartTime:null,transcriptDefaultLanguage:null,currentTime:null,leadUuid:null,contentType:null,playerBreakpoint:null,playerWidth:0,playerHeight:0},Jm=function(){function t(t){G(this,"player",void 0),this.player=t,this.Id(),this.Rd()}var e=t.prototype;return e.Id=function(){const t=this.Ld(),e=e_(im.WEB_GLOBAL,this.player.config),n=new Km.Configuration(t,e,null,this.player.config.request.urls.telemetry_base);Km.BigPictureClient.configure(n)},e.Rd=function(){Qm(J({playerBreakpoint:this.player.store.get("ui.player.breakpoint"),playerWidth:this.player.store.get("ui.player.width"),playerHeight:this.player.store.get("ui.player.height")},Av(this.player.config))),this.player.events.on(ao.TIME_UPDATE,(({currentTime:t})=>{Qm({currentTime:t})})),this.player.events.on(Nh.Jc,(({id:t,startTime:e,defaultLanguage:n})=>{Qm({transcriptId:t,transcriptStartTime:e,transcriptDefaultLanguage:n})})),this.player.events.on(Nh.dd,(t=>{null!=t&&t.leadUuid&&Qm({leadUuid:t.leadUuid})})),this.player.events.on(Nh.Hl,(()=>{Qm(J({},Av(this.player.config)))})),this.player.store.watch("ui.player.breakpoint",(t=>{Qm({playerBreakpoint:t})})),this.player.store.watch("ui.player.width",(t=>{Qm({playerWidth:t})})),this.player.store.watch("ui.player.height",(t=>{Qm({playerHeight:t})}))},e.Ld=function(){let t;switch(this.player.config.request.urls.telemetry_base){case Km.Service.FRESNEL_PROD_CN:t=Km.Service.FRESNEL_PROD_CN;break;case Km.Service.EVENTS_PROD:t=Km.Service.EVENTS_PROD;break;case Km.Service.FRESNEL_PROD:t=Km.Service.FRESNEL_PROD;break;default:t=Km.Service.FRESNEL_DEV}return t},t}();function Qm(t){Object.assign(Zm,t)}function t_(t){return sm[t]}function e_(t,e,n={}){const i=function(t,e,n={}){let i=Object.assign({},function(t,e){var n,i,r,o;const{user:s,request:a,video:u,embed:l}=e;switch(t){case im.WEB_GLOBAL:return{user:{subscription_type:s.account_type||null,is_mod:!!s.mod,session_id:a.session||null,teams:s.team_id?[{team_id:s.team_id,team_role:Jp(e)}]:[],user_id:s.id||null,vuid:bv("vuid")||null,flags:a.flags?Object.keys(a.flags):null,is_free_trial:!1},application:{application:"vimeo",vimeo_language:a.lang||"en",product:Wp(e),build_environment:"production",version:qp()},platform:{device_language:(null==(n=window.navigator)?void 0:n.language)??"",screen:{dpi:screen.pixelDepth,height:screen.height,width:screen.width,size:`${screen.width} x ${screen.height}`},network:null,platform:"web"}};case im.COPY_VIDEO_EMBED_CODE:return{hash:u.unlisted_hash,height:u.height,is_video_password_protected:u.privacy===Th,product:dm.WORKFLOW,sizing:l.playsinline?"fixed":"responsive",video_embed_privacy:u.embed_permission,video_id:`${u.id||""}`,video_privacy:u.privacy,width:u.width,actor_resource_role:null,actor_team_role:null,entry_page:null,is_preset_applied:null,location:null,page:null,path:null,team_owner_id:null,team_size:null,team_subscription_type:null,upload_id:null,video_app_id:null,video_status:null,video_type:null};case im.PLAYER_PERFORMANCE_MEASUREMENT:return{module_player:!1,device_type:Kp(),browser:Object.keys(Se.browser).find((t=>Se.browser[t]))||"",device_os:Zp(),iframed:hv(),measurement_type:null,measurement_value:null};case im.CHAPTER_SEGMENT_CLICK:return{video_id:u.id,team_owner_id:(null==(i=u.owner)?void 0:i.id)||0,is_creator_mode:!!s.owner,chapter_seek_event_delta:null,fragment_no_chapters_at_seek:null,is_chapter_seek:null,nearest_chapter_start_time:null,seek_event_start_time:null,total_no_chapters_at_seek:null};case im.CLICK:return{page:Np(e),click_type:null,copy:null,device_type:null,feature:null,location:null,name:null,path:null,target:null,target_path:null,type:null};case im.EMBEDDED_TRANSCRIPT_CLICK:return{video_id:u.id,team_owner_id:(null==(r=u.owner)?void 0:r.id)||0,total_clip_duration:sh(u.duration,2),embedded_transcript_session_id:Zm.transcriptId,session_duration:sh(jf(Zm.transcriptStartTime),2),default_transcript_language:Zm.transcriptDefaultLanguage,video_timestamp:sh(Zm.currentTime,2)||0,copy:null,current_transcript_language:null,element:null,location:null,name:null};case im.CLOSED_CAPTIONS_CLICK:return{video_id:u.id,video_privacy:u.privacy,final_action_reset_all:null,has_changed_background:null,has_changed_font:null,has_changed_window:null,has_clicked_background:null,has_clicked_window:null,has_clicked_customize:null,has_clicked_font:null,has_customized:null,has_reset_all:null,language_selected:null,has_updated_language:null,language_provenance:null,prev_language_provenance:null,prev_selected_language:null};case im.MULTI_AUDIO_TRACK_CLICK:return{video_id:`${u.id||""}`,video_privacy:u.privacy,video_owner_id:`${null==(o=u.owner)?void 0:o.id}`,page:Np(e),event_name:null,has_selected_track:null,initial_track:null,initial_track_provenance:null,track_selected:null,track_selected_provenance:null};case im.OPEN_AI_OPTIONS:return{if_uploader:!!s.owner,value:null};case im.REACH_TIME_ACTION:return{time_action_id:null};case im.VIEW_HOTSPOT:return{hotspot_id:null};case im.CLICK_HOTSPOT:return{hotspot_id:null,overlay_id:null,click_action_type:null,clickout_id:null};case im.VIEW_OVERLAY:return{overlay_id:null};case im.CLOSE_OVERLAY:return{overlay_id:null,dwell_time:null};case im.CLICK_OVERLAY:return{overlay_id:null,click_action_type:null,clickout_id:null};case im.VIEW_POLL:return{poll_id:null};case im.VOTE_POLL:return{poll_id:null,poll_option_id:null,is_poll_option_correct:null};default:return{}}}(t,e),n);return i}(t,e,n),r=t_(t);return new Km.Event(t,r,i)}function n_(t,e,n={},i={}){const r=e_(t,e,n),o=function(t,e,n={}){const i=lm[t];return i?i.reduce(((t,i)=>{var r;if(i===rm.LIVE&&(null==(r=e.video)||!r.live_event_id))return t;const o=t_(i),s=n[i]||{},a=function(t,e,n={}){let i=Object.assign({},function(t,e){var n,i,r,o;const{embed:s,user:a,request:u,video:l}=e;switch(t){case rm.TEAM:return{team_owner_id:a.team_origin_user_id,team_subscription_type:a.account_type,team_role:Jp(e),team_id:a.team_id,joined_team_at:null,resource_permission_level:null,team_size:null};case rm.WEB:return{location:"player",page_name:Np(e),referrer:u.referrer,copy:null,path:null,referrer_page_name:null,target:null,target_path:null};case rm.VIDEO:return{video_id:l.id,title:l.title,video_privacy:l.privacy,video_embed_privacy:l.embed_permission,content_rating:[`${null==(n=l.rating)?void 0:n.id}`],duration:Math.round(l.duration),resolution:`${l.width}x${l.height}`,video_height:l.height,video_width:l.width,orientation:Qp(l.width,l.height),is_auto_cc_enabled:null,upload_method_api:null,upload_method_api_id:null,is_demo:null,video_owner_id:(null==(i=l.owner)?void 0:i.id)||0,video_owner_account_type:(null==(r=l.owner)?void 0:r.account_type)||"",video_categories:null,has_embed_available:!!s.settings.embed,video_version_id:nv(null==(o=l.version)?void 0:o.available),embed_context:s.context,is_drm_enabled:!!u.drm,is_intaractive:!!s.interactive,language:null};case rm.PLAYER:return{player_session_id:u.session,total_video_duration:l.duration,video_timestamp:sh(Zm.currentTime,2)||0,player_location:s.on_site?"onsite":"embed",player_breakpoint:Zm.playerBreakpoint,player_width:Math.floor(Zm.playerWidth),player_height:Math.floor(Zm.playerHeight)};case rm.ACTION:return{feature:"player",action_type:Se.touch?"tap":"click"};case rm.VIEW:return{feature:"player",view_type:"impression"};case rm.LIVE:return{recurring_live_event_id:`${l.live_event_id}`,live_event_id:null,live_status:tv(null==l?void 0:l.live_event),live_production_method:null,encoder_type:null,audience_type:ev(l),lead_source:null,event_privacy:iv(l.privacy),live_feature:null,is_guest_speaker:null};case rm.PRODUCT_ANALYTICS:return{product:"viewer_experience",feature:"player",location:"player",modal_name:null,flow:null,element:null,copy:null,device_type:Kp(),is_user_facing_data:null,entity_type:null};case rm.TARGET_TEAM:return{is_team_member:!!a.team_id,team_owner_id:a.team_origin_user_id,team_subscription_type:a.account_type,team_role:Jp(e),team_id:a.team_id,team_size:null,resource_permission_level:null,joined_team_at:null};case rm.USER_FACING_VIDEO_ANALYTICS:const t=u.atid,[c,d]=t.split(".").map(Number);return{session_ts:d,session_id:c,lead_id:Zm.leadUuid,content_type:Zm.contentType,is_do_not_track:!!s.dnt,playback_route:"player_embed",is_session_live:null};case rm.THIRD_PARTY_INTEGRATION:return{is_integration:!1,integration_id:null,integration_type:null,integration_name:null,app_id:null,managed_user_id:null,partner_bucket:null,is_partner:null};default:return{}}}(t,e),n);return i}(i,e,s);return t[i]=new Km.EventContext(i,o,a),t}),{}):{}}(t,e,i);Km.BigPictureClient.sendEventWithContexts(r,o)}const i_={product_analytics_context:{product:"analysis",feature:"interactive"}};let r_=function(){function t(t){G(this,"_overlayOpenTime",void 0),G(this,"_config",void 0),this.xd=t,this.Dd=new Oe}var e=t.prototype;return e.Pd=function(t,e={}){n_(t,this.xd,e,i_)},e.sendReachTimeAction=function({timeActionId:t}){this.Pd(im.REACH_TIME_ACTION,{time_action_id:t})},e.sendViewHotspot=function({hotspotId:t}){this.Pd(im.VIEW_HOTSPOT,{hotspot_id:t})},e.sendClickHotspot=function({hotspotId:t,clickActionType:e,clickoutId:n,overlayId:i}){this.Pd(im.CLICK_HOTSPOT,{hotspot_id:t,click_action_type:e,clickout_id:n??null,overlay_id:i??null})},e.sendViewOverlay=function({overlayId:t}){this.Dd.set(t,Tt()),this.Pd(im.VIEW_OVERLAY,{overlay_id:t})},e.sendCloseOverlay=function({overlayId:t}){const e=this.Dd.get(t),n=Tt()-e;this.Pd(im.CLOSE_OVERLAY,{overlay_id:t,dwell_time:n})},e.sendClickOverlay=function({overlayId:t,clickActionType:e,clickoutId:n}){this.Pd(im.CLICK_OVERLAY,{overlay_id:t,click_action_type:e,clickout_id:n??null})},e.sendViewPoll=function({pollId:t}){this.Pd(im.VIEW_POLL,{poll_id:t})},e.sendVotePoll=function({pollId:t,pollOptionId:e,isPollOptionCorrect:n}){this.Pd(im.VOTE_POLL,{poll_id:t,poll_option_id:e,is_poll_option_correct:n??null})},t}();function o_(t){return Math.random()<=t}function s_(t,e,n=.1){o_(n)&&((t,e={})=>{if(Zv&&t){const n=Object.assign({},e,{manually_captured:1});window.DD_RUM.addError(t,n)}})(t,e)}window.addEventListener("unhandledrejection",(t=>{t.preventDefault(),t.reason&&s_(t.reason,{unhandled_rejection:1})}));var a_={setUp:function(t,e=Qf.VimeoPlayer){((t,e=Qf.VimeoPlayer)=>{if(Zv){var n,i,r;const o={js_modules:!1,version_js:t.request.build.js,version_backend:t.request.build.backend,visibility_state:document.visibilityState,vimeo_session:t.request.session,locale:t.request.lang,product:Wp(t),video_embed_permission:t.video.embed_permission,video_privacy:t.video.privacy,live_session_id:null==(n=t.video.live_event)?void 0:n.id,rawUserAgent:navigator.userAgent,background_mode:Number(1===(null==(i=t.embed)||null==(i=i.settings)?void 0:i.background)),player_name:e,owner_account_type:null==(r=t.video.owner)?void 0:r.account_type};if(t.request.ab_tests)for(const e in t.request.ab_tests){const n=t.request.ab_tests[e];o[`${e}_test`]=1,o[`${e}_group`]=n.group;for(const t in n.data)o[`${e}_data_${t}`]=n.data[t]}t.user.logged_in&&(o.userId=t.user.id);for(let t in o)window.DD_RUM.setGlobalContextProperty(t,o[t]);if(e){const t=`has${e}`;window.DD_RUM.setViewContextProperty(t,1)}}})(t,e)},captureException:s_,captureMessage:function(t){},captureBreadcrumb:function(t){(t=>{Zv&&window.DD_RUM.addAction(t)})(t)}};let u_;function l_({events:t}){let e=null,n=null,i=null,o=null,s=null,a={video:{},request:{},embed:{}};function u(){return n&&n-6e4<=Date.now()}function l(t){const e=Date.now()+1e3*t;return s=setTimeout((()=>{"onLine"in navigator&&!navigator.onLine||o||(o=d().catch(a_.captureException))}),1e3*t-6e4-5e3),e}function c(t,i={}){var o,u;clearTimeout(s);const c=e;if(isNaN(t)&&"string"!=typeof t){e=t,n=l(e.request.expires);let i=new URL(window.location.href);const o=i.searchParams.get("referrer"),s=i.searchParams.get("player_id");return o&&(e.request.referrer=o,i.searchParams.delete("referrer")),s&&(e.embed.player_id=s,i.searchParams.delete("player_id")),r.resolve({old:c,loaded:e})}Date.now(),a=gd(a,e);const d=a.request.referrer;return d&&(i.referrer=d),i.s=a.request.signature,i.expires=a.request.expires,i.time=a.request.timestamp,u_||(u_=ih(t)),Qt(rh(u_||(null!=(o=e)&&o.player_url?`https://${null==(u=e)?void 0:u.player_url}`:""),t,i),{withCredentials:!0,throwHttpErrors:!1}).json().then((t=>(e=t,e.view!==Lh.error&&(n=l(e.request.expires),a.request.session&&e.video.id===a.video.id&&(e.request.session=a.request.session),d&&(e.request.referrer=d),a.embed.player_id&&(e.embed.player_id=a.embed.player_id),a.embed.on_site&&(e.embed.on_site=1,e.embed.context=a.embed.context)),Date.now(),{old:c,loaded:e}))).catch((t=>{a_.captureException(t)}))}function d(){var i;clearTimeout(s),Date.now();const r=null==(i=e)?void 0:i.request.referrer,{signature:a,session:u,timestamp:c,expires:d,atid:h}=e.request,f=e.request.ott_chromecast_token;let p=`https://${e.player_url}/video/${e.video.id}/config/request?atid=${h}&session=${u}&signature=${a}&time=${c}&expires=${d}`;return f&&(p=`${p}&ott_chromecast_token=${f}`),r&&(p+=`${-1===p.indexOf("?")?"?":"&"}referrer=${encodeURIComponent(r)}`),Qt(p,{withCredentials:!0,retry:3}).json().then((i=>(e.request=i,r&&(e.request.referrer=r),n=l(e.request.expires),Date.now(),o=null,t.fire(Nh.Yl),e.request))).catch((e=>{const n=vf();throw t.fire(Nh.hu,n.type,n),e}))}return window.addEventListener("online",(()=>{u()&&(o=d().catch(a_.captureException))})),t.on(Nh.hu,(t=>{o||"media-url-expired"!==t||(o=d().catch(a_.captureException))})),{get isExpired(){return u()},load:(t,e)=>c(t,e),reload(){var t;return null!=(t=e)&&t.video.id?c(e.video.id):r.reject(new Error("No config loaded."))},toJSON:()=>e,get config(){return e},set config(t){e=t},verify:()=>u()?(o||(o=d()),o):r.resolve(e.request),refreshAssetUrls:()=>d(),get Y(){return i},set Y(t){i=t}}}var c_,d_=0,h_=0,f_={},p_={};function v_(t,e,n){return"_root"==e?n:t!==n?function(t){return c_||(c_=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:y_.matchesSelector)}(t).call(t,e)?t:t.parentNode?(d_++,v_(t.parentNode,e,n)):void 0:void 0}function m_(t,e,n,i){f_[t.id]||(f_[t.id]={}),f_[t.id][e]||(f_[t.id][e]={}),f_[t.id][e][n]||(f_[t.id][e][n]=[]),f_[t.id][e][n].push(i)}function __(t,e,n,i){if(f_[t.id])if(e)if(i||n)if(i){if(f_[t.id][e][n])for(var r=0;r<f_[t.id][e][n].length;r++)if(f_[t.id][e][n][r]===i){f_[t.id][e][n].splice(r,1);break}}else delete f_[t.id][e][n];else f_[t.id][e]={};else for(var o in f_[t.id])f_[t.id].hasOwnProperty(o)&&(f_[t.id][o]={})}function b_(t,e,n,i){if(this.element){t instanceof Array||(t=[t]),n||"function"!=typeof e||(n=e,e="_root");var r,o=this.id;for(r=0;r<t.length;r++)i?__(this,t[r],e,n):(f_[o]&&f_[o][t[r]]||y_.addEvent(this,t[r],s(t[r])),m_(this,t[r],e,n));return this}function s(t){return function(e){!function(t,e,n){if(f_[t][n]){var i,r,o=e.target||e.srcElement,s={},a=0,u=0;for(i in d_=0,f_[t][n])f_[t][n].hasOwnProperty(i)&&(r=v_(o,i,p_[t].element))&&y_.matchesEvent(n,p_[t].element,r,"_root"==i,e)&&(d_++,f_[t][n][i].match=r,s[d_]=f_[t][n][i]);for(e.stopPropagation=function(){e.cancelBubble=!0},a=0;a<=d_;a++)if(s[a])for(u=0;u<s[a].length;u++){if(!1===s[a][u].call(s[a].match,e))return void y_.cancel(e);if(e.cancelBubble)return}}}(o,e,t)}}}function y_(t,e){if(!(this instanceof y_)){for(var n in p_)if(p_[n].element===t)return p_[n];return h_++,p_[h_]=new y_(t,h_),p_[h_]}this.element=t,this.id=e}y_.prototype.on=function(t,e,n){return b_.call(this,t,e,n)},y_.prototype.off=function(t,e,n){return b_.call(this,t,e,n,!0)},y_.matchesSelector=function(){},y_.cancel=function(t){t.preventDefault(),t.stopPropagation()},y_.addEvent=function(t,e,n){var i="blur"==e||"focus"==e,r=Se.passiveEvents?{capture:i,passive:!1}:i;t.element.addEventListener(e,n,r)},y_.matchesEvent=function(){return!0};const g_=y_.addEvent,w_=void 0===window.PointerEvent&&void 0!==window.MSPointerEvent,T_={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",pointerover:"MSPointerOver",pointerout:"MSPointerOut"},C_="onmspointerenter"in document,E_="onmspointerleave"in document;y_.addEvent=function(t,e,n){w_&&T_[e]&&(e=T_[e]),"transitionend"===e&&(g_(t,"webkitTransitionEnd",n),g_(t,"otransitionend",n)),"mouseenter"===e&&(e="mouseover"),"mouseleave"===e&&(e="mouseout"),"MSPointerEnter"!==e||C_||(e="MSPointerOver"),"MSPointerLeave"!==e||E_||(e="MSPointerOut"),g_(t,e,n)},y_.matchesEvent=function(t,e,n,i,r){return!("mouseenter"===t||"mouseleave"===t||!C_&&"MSPointerEnter"===t||!E_&&"MSPointerLeave"===t)||function(t,e,n,i){return!i.relatedTarget||(!n||t===e)&&e!==i.relatedTarget&&!e.contains(i.relatedTarget)}(e,n,i,r)};const k_=(t,e,n)=>{let i;try{i=new URL(t)}catch(t){return null}const r=Array.isArray(e)?e:[e],o=r.map((function(t){return`${Fh}${t}`})).concat(r),s=new URLSearchParams(i.hash.substring(1));let a=null;return o.some((t=>{const e=`${t}_${n}`,i=s.get(e)||s.get(t);return!!i&&(a=(t=>{var e;let n,i=!1,r="0",o="0",s="0",a=t;const u=a.startsWith("-");if(u&&(a=a.substring(1)),n=a.match(/^(\d*\.?\d+)$/),null!=(e=n)&&e.length&&(i=!0,s=n[0]),!1===i&&(n=a.match(/^(?:(\d*\.?\d+)h)?(?:(\d*\.?\d+)m)?(?:(\d*\.?\d+)s)?/),null!==n&&""!==n[0]&&(i=!0,[,r="0",o="0",s="0"]=n)),!1===i&&(n=a.match(/^([0-9:]+)/),null!==n&&(i=!0,[s,o="0",r="0"]=a.split(":").reverse())),!i)return null;const l=60*Number(r)*60+60*Number(o)+Number(s);return u?-l:l})(i),!0)})),a},S_=(t,e,n)=>-1===t.indexOf("#")?null:k_(t,e,n);function A_(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const N_=O_((function(t){return new r(((e,n)=>{R_(t)?e():(t.events.once(ao.LOADED_DATA,(()=>{R_(t)&&e()})),t.events.once(ao.PLAYING,(()=>{n("Video started playing before start time thumbnail could be shown")})))}))}));function M_(){}function O_(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const I_=O_((function(t){return function(){var e=function(){if(L_(t))return function(t){if(t&&t.then)return t.then(M_)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return A_(t.ready(),(function(){return A_(t.inView(),(function(){return t.backbone.preload="auto",A_(N_(t),(function(){!function(t){var e;null==(e=t.backbone.element)||null==(e=e.classList)||e.remove("invisible"),t.events.fire(Ah.lu)}(t)}))}))}))}),(function(t){})))}();if(e&&e.then)return e.then(M_)}()}));function R_(t){return t.currentTime===t.startTime&&t.backbone.readyState>=np.HAVE_CURRENT_DATA}function L_(t){var e;const n=1===(null==t||null==(e=t.config)||null==(e=e.embed)?void 0:e.autoplay);return Se.videoContentPreload&&t.segmentedPlaybackEnabled&&!n}function x_(t){return!!L_(t)&&t.backbone.readyState<np.HAVE_CURRENT_DATA}const D_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){const{events:e}=t;return new r((n=>{e.on(Nh.nd,(function(i){const{backbone:r}=t,{startTime:o,endTime:s}=function(t,e){const{video:n,embed:i}=e.config,r=n.id,o=n.duration,s=i.chapters,a=((t,e)=>S_(t,jh,e))(t,r);let u,l;return a?(({startTime:u,endTime:l}=B_(a,s)),j_(e,a)):(u=((t,e)=>S_(t,Vh,e))(t,r),l=((t,e)=>S_(t,"end",e))(t,r)),({startTime:u,endTime:l}=$_(u,l,o)),{startTime:u,endTime:l}}(i,t);n({startTime:o,endTime:s}),null!==o&&r.currentTime!==o&&e.fire(Ah.tu,o,o/r.duration)}))}))}));function P_(t){const{video:e,embed:n}=t.config,i=t.seekingController.canSeekForward;let o;if((null==e||!e.live_event)&&i){let i=null,o=null;const a=((t,e)=>k_(t,jh,e))(document.location.href,e.id);a?(({startTime:i,endTime:o}=B_(a,n.chapters)),j_(t,a)):({startTime:i,endTime:o}=function(t,e){const n=document.location.href;let i=((t,e)=>k_(t,Vh,e))(n,t),r=((t,e)=>k_(t,"end",e))(n,t);var o;return null!==i&&function(t){var e;-1!==t.indexOf("at=")&&null!=(e=history)&&e.replaceState&&history.replaceState("","",window.location.pathname+window.location.search)}(null==(o=document)||null==(o=o.location)?void 0:o.hash),({startTime:i,endTime:r}=$_(i,r,e)),{startTime:i,endTime:r}}(e.id,e.duration)),s(i,o),null===i&&null===o&&function(t,e){t&&t.then||(t=r.resolve(t)),e&&t.then(e)}(D_(t),(function({startTime:t,endTime:e}){s(t,e)}))}function s(i,r){null!==i&&(t.startTime=eh(i,0,e.duration)),null!==r&&(t.endTime=r,o=function({player:t,startTime:e,endTime:n,loop:i=!1}){let r=!0,o=!1;const{events:s}=t;(function(){const i=n-e,r={duration:i,endTime:n,startTime:e},o={get currentFragment(){return r},firstFragmentDuration:i,checkForNewFragment:Zf,reset:Zf,hibernate:Zf,wake:Zf,getFragmentFromTime:()=>r},s=function(t,e){return[1e3*t,1e3*e]}(e,n);t.overrideFragmentsHandler(o,s)})(),I_(t),s.on(ao.TIME_UPDATE,a),s.on(Nh.Iu,l),s.on(Nh.Hl,c),s.on(ao.SEEKED,d),s.once(gc,(function(){r&&n_(im.PLAY_SEGMENT,t.config,{start_time:e,end_time:n})}));return()=>{r=!1,s.off(ao.TIME_UPDATE,a),s.off(Nh.Iu,l),s.off(Nh.Hl,c),s.off(ao.SEEKED,d),t.restoreLastFragmentsHandler()};function a({currentTime:r}){r>=n&&(i?u(e):(t.backbone.pause(),s.fire(ao.ENDED)))}function u(e){o=!1,t.backbone.currentTime=e}function l(){t.backbone&&(t.backbone.currentTime>=n||t.backbone.currentTime<e)&&u(e)}function c(e){e&&(t.startTime=null,t.endTime=null)}function d(){r&&o&&n_(im.SEEK_INSIDE_SEGMENT,t.config,{start_time:e,end_time:n}),o=!0}}({player:t,startTime:i??0,endTime:r,loop:!!n.loop}),t.ready().then((()=>{n_(im.EMBED_SEGMENT,t.config,{start_time:i,end_time:r})})).catch((t=>{})))}return{clearSegmentedPlayback:()=>null==o?void 0:o()}}function B_(t,e){const n=null==e?void 0:e.find((e=>e.id===t));let i={startTime:null,endTime:null};return n&&(i={startTime:n.timecode,endTime:null}),i}function $_(t,e,n){let i=t,r=e;return i&&(i=Math.max(i,0)),r&&(r<0&&(r=Math.max(0,n+r)),r=Math.min(r,n),i?i>r&&(i=null,r=null):i=0),{startTime:i,endTime:r}}function j_(t,e){t.events.once(gc,(()=>{n_(im.CHAPTER_PLAYED,t.config,{chapter_id:e})}))}function V_(t){const e=!L_(t);function n(t){if("opacity"===t.propertyName){const t=i();var e;t&&(y_(t).off("transitionend",n),null==t||null==(e=t.parentNode)||e.removeChild(t))}}function i(){return document.querySelector(".vp-placeholder")}return{hide:function(){if(e){const t=i();t&&(y_(t).on("transitionend",n),t.classList.add("vp-placeholder-fadeout"))}}}}const F_="CAPTIONS_RESET",H_="CAPTIONS_SET_FONT_SIZE",U_="CAPTIONS_SET_FONT_FAMILY",z_="CAPTIONS_SET_FONT_OPACITY",X_="CAPTIONS_SET_COLOR",G_="CAPTIONS_SET_BACKGROUND_OPACITY",W_="CAPTIONS_SET_BACKGROUND_COLOR",q_="CAPTIONS_SET_WINDOW_OPACITY",Y_="CAPTIONS_SET_WINDOW_COLOR",K_="CAPTIONS_SET_EDGE_STYLE",Z_=t=>({type:H_,payload:t}),J_=t=>({type:U_,payload:t}),Q_=t=>({type:z_,payload:t}),tb=t=>({type:X_,payload:t}),eb=t=>({type:G_,payload:t}),nb=t=>({type:W_,payload:t}),ib=t=>({type:q_,payload:t}),rb=t=>({type:Y_,payload:t}),ob=t=>({type:K_,payload:t}),sb=()=>({bgColor:{items:[{id:"white",label:"White"},{id:"yellow",label:"Yellow"},{id:"green",label:"Green"},{id:"cyan",label:"Cyan"},{id:"blue",label:"Blue"},{id:"magenta",label:"Magenta"},{id:"red",label:"Red"},{id:"black",label:"Black"}],id:"bgColor",cookie:"bg_color",title:"Color",dispatch:nb},color:{items:[{id:"#fff",label:"White"},{id:"#ff0",label:"Yellow"},{id:"#0f0",label:"Green"},{id:"#0ff",label:"Cyan"},{id:"#00f",label:"Blue"},{id:"#f0f",label:"Magenta"},{id:"#f00",label:"Red"},{id:"#000",label:"Black"}],id:"color",cookie:"color",title:"Color",dispatch:tb},fontSize:{items:[{id:"0.5",label:"50%"},{id:"1",label:"100%"},{id:"1.5",label:"150%"},{id:"2",label:"200%"}],id:"fontSize",cookie:"font_size",title:"Size",dispatch:Z_},fontFamily:{items:[{id:"monospace_serif",value:'"Courier New", Courier, monospace',label:"Monospace Serif"},{id:"proportional_serif",value:"Georgia, Times, serif",label:"Proportional Serif"},{id:"monospace_sans_serif",value:'Monaco, "Lucida Console", monospace',label:"Monospace Sans-Serif"},{id:"proportional_sans_serif",value:'"Helvetica Neue", Helvetica, Arial, sans-serif',label:"Proportional Sans-Serif"},{id:"casual",value:'"Comic Sans MS", sans-serif',label:"Casual"},{id:"cursive",value:'"Apple Chancery", "Lucida Handwriting, cursive',label:"Cursive"},{id:"small_capitals",value:'"Helvetica Neue", Helvetica, Arial, sans-serif',label:"Small Capitals"}],id:"fontFamily",cookie:"font_family",title:"Family",dispatch:J_},fontOpacity:{items:[{id:"25",label:"25%"},{id:"50",label:"50%"},{id:"75",label:"75%"},{id:"100",label:"100%"}],id:"fontOpacity",cookie:"font_opacity",title:"Opacity",dispatch:Q_},edgeStyle:{items:[{id:"none",label:"None"},{id:"shadow",label:"Drop Shadow"},{id:"raised",label:"Raised"},{id:"depressed",label:"Depressed"},{id:"outline",label:"Outline"}],id:"edgeStyle",cookie:"edge",title:"Edge style",dispatch:ob},bgOpacity:{items:[{id:"0",label:"0%"},{id:"25",label:"25%"},{id:"50",label:"50%"},{id:"75",label:"75%"},{id:"100",label:"100%"}],id:"bgOpacity",cookie:"bg_opacity",title:"Opacity",dispatch:eb},windowColor:{items:[{id:"#fff",label:"White"},{id:"#ff0",label:"Yellow"},{id:"#0f0",label:"Green"},{id:"#0ff",label:"Cyan"},{id:"#00f",label:"Blue"},{id:"#f0f",label:"Magenta"},{id:"#f00",label:"Red"},{id:"#000",label:"Black"}],id:"windowColor",cookie:"window_color",title:"Color",dispatch:rb},windowOpacity:{items:[{id:"0",label:"0%"},{id:"25",label:"25%"},{id:"50",label:"50%"},{id:"75",label:"75%"},{id:"100",label:"100%"}],id:"windowOpacity",cookie:"window_opacity",title:"Opacity",dispatch:ib}}),ab={fontSize:1,fontFamily:"proportional_sans_serif",fontOpacity:"100",color:"#fff",bgOpacity:"100",bgColor:"black",windowOpacity:"0",windowColor:"#000",edgeStyle:"none"},ub=["quality","volume","captions","transcript","captions_color","captions_font_family","captions_font_size","captions_font_opacity","captions_bg_color","captions_bg_opacity","captions_edge","captions_window_color","captions_window_opacity","audio_language","audio_kind","qoe_survey_vote"];let lb=null;function cb(t){const e=sb(),n=0!==t.config.request.urls.proxy.indexOf(window.location.origin);let i=0;function o(t){let e=null;try{e=bv("player")}catch(t){}if(!e)return null;e=e.substring(1,e.length-1);const n={};e.split("&").forEach((function(t){t=t.split("="),n[t[0]]=_v(decodeURIComponent(t[1]||""))}));const i=[].concat(t),r=i.reduce((function(t,e){if(e in n){const i=parseFloat(n[e]);return t[e]=isNaN(i)||"quality"===e?n[e]:i,t}return t[e]=null,t}),{});return 1===i.length?r[t]:r}function s(e,n,i=!0){t.doNotTrackEnabled||(n=_v(n),i&&function(e,n){if(lb){const i={method:"set",key:`sync_${e}`,val:n,session:t.config.request.session};return function(e){lb.then((n=>{const i=Qd(t.config.request.urls.proxy);return n.contentWindow.postMessage(e,i),n})).catch((e=>{a_.captureException(e,{extra:{proxyUrl:t.config.request.urls.proxy}})}))}(i),void function(e){t.config.embed.on_site&&window.postMessage(e,window.location.origin)}(i)}try{window.localStorage.setItem(`sync_${e}`,JSON.stringify(n))}catch(t){}}(e,n),function(e,n){ub.indexOf(e)>=0&&(t.config.request.cookie[e]=n);const i=[];ub.indexOf(e)>=0&&null!==n&&i.push(`${e}=${n}`);const r=o(ub);for(let t in r)t in r&&null!==r[t]&&t!==e&&i.push(`${t}=${r[t]}`);!function(t,e,n,{samesite:i,secure:r}={}){var o=new Date;o.setFullYear(o.getFullYear()+1),o=o.toGMTString();var s=`${t}=${e=_v(e)}`;s+=`;expires=${o}`,s+=";path=/",s+=`;domain=${n}`,r&&(s+=";secure"),i&&(s+=`;samesite=${i}`);try{return document.cookie=s,!0}catch(t){return!1}}("player",`"${i.join("&")}"`,t.config.request.cookie_domain,{secure:!0,samesite:"none"})}(e,n))}function a(e,n){const r=!0;switch(e){case"sync_quality":t.events.fire(Ah.xa,n,r);break;case"sync_volume":if(t.config.embed.settings.background)break;t.events.fire(Ah.Ma,n,r);break;case"sync_captions":if(null===n){t.events.fire(Ah.Ua,r);break}t.events.fire(Ah.Ha,n,r);break;case"sync_login":!function(e){i>4||(i++,e&&!t.config.user.logged_in?t.events.fire(Nh.Bl):!e&&t.config.user.logged_in&&t.events.fire(Nh.jl))}(n);break;case"sync_active":null!==n&&n!==t.config.request.session&&t.config.embed.autopause&&t.events.fire(Nh.rc)}}return t.events.on(Nh.gu,(function(t,e){e||s("quality",t)})),function(){const e=(e,n)=>{t.config.request.cookie.volume=_v(e),n||s("volume",e,!1)};t.events.on(Nh.bu,e),t.events.on(Nh.yu,((t,n)=>{t&&e(0,n)}))}(),t.events.on(Nh.Wu,(function(e,n){if(e){const i=`${e.language}.${e.kind}`;return t.config.request.cookie.captions=_v(i),void(n||s("captions",t.config.request.cookie.captions))}t.config.request.cookie.captions=null,n||s("captions",null)})),t.events.on(Ah.za,(function(e,n){const{dispatch:i,cookie:r}=e;t.store.dispatch(i(n)),s(`captions_${r}`,_v(n))})),t.events.on(Ah.Xa,(function(){t.store.dispatch({type:F_}),Object.keys(e).forEach((t=>{const{cookie:n}=e[t];s(`captions_${n}`,null)}))})),t.events.on(Nh.Wc,(function(e,n){if(e)return t.config.request.cookie.transcript=_v(e.language),void(n||s("transcript",t.config.request.cookie.transcript));t.config.request.cookie.transcript=null,n||s("transcript",null)})),function(){const e=["descriptions","main-desc"];t.events.on(Ah.iu,(function(n,i){t.config.request.cookie.audio_language=null!=n&&n.language?_v(n.language):null,t.config.request.cookie.audio_kind=e.includes(null==n?void 0:n.kind)?_v(n.kind):null,i||(s("audio_language",t.config.request.cookie.audio_language),s("audio_kind",t.config.request.cookie.audio_kind))}))}(),t.events.on(Nh.ed,(function(){const e=Date.now();t.config.request.cookie.qoe_survey_vote=e,s("qoe_survey_vote",e)})),t.events.on(Nh.Iu,(function(){t.config.embed.settings.background||(s("active",t.config.request.session),t.events.fire(Nh.nc))})),t.events.on([Nh.Ou,Nh._u],(function(){o("active")===t.config.request.session&&s("active",null)})),t.events.on(Nh.$l,(function(){s("login",!0)})),n&&!lb&&(lb=function(e){return new r(((n,i)=>{document.createElement("a").href=t.config.request.urls.proxy;const r=document.createElement("iframe");r.src=e,r.setAttribute("title","Vimeo LocalStorage Proxy"),r.setAttribute("aria-hidden","true"),r.setAttribute("hidden",""),r.onload=function(e){const n=Qd(t.config.request.urls.proxy);r.contentWindow.postMessage({method:"ping"},n)},r.onerror=function(t){i(t)};const o=setTimeout((()=>{i()}),1e4),s=function(t){0!==e.indexOf(t.origin)||"ready"!==t.data&&"ping"!==t.data||(window.removeEventListener("message",s,!1),clearTimeout(o),n(r))};window.addEventListener("message",s,!1),document.body.appendChild(r)}))}(t.config.request.urls.proxy)),n?window.addEventListener("message",(function(e){const n=Qd(t.config.request.urls.proxy);e.origin===n&&"object"==typeof e.data&&"key"in e.data&&"newValue"in e.data?a(e.data.key,e.data.newValue):e.origin===window.location.origin&&e.data.session!==t.config.request.session&&a(e.data.key,e.data.val)}),!1):window.addEventListener("storage",(function(t){var e;if(0===(null==(e=t.key)?void 0:e.indexOf("sync_"))&&t.oldValue!==t.newValue){try{if(window.localStorage.getItem(t.key)!==t.newValue)return}catch(t){}try{a(t.key,JSON.parse(t.newValue))}catch(e){a_.captureException(e,{extra:{key:t.key,oldValue:t.oldValue,newValue:t.newValue}})}}}),!1),{reset:function(){s("login",!!t.config.user.logged_in)}}}const db={id:"7742C69E",name:"prod"},hb={id:"BA42D416",name:"prod"},fb={id:"78077C77",name:"prod"},pb="urn:x-cast:com.vimeo.cast.media",vb={connected:fh(),disconnected:fh(),playing:fh(),paused:fh(),buffering:fh(),idle:fh(),ended:fh(),initialized:fh(),castStateChanged:fh(),sessionStateChanged:fh(),timeUpdated:fh(),mediaLoadedSuccess:fh(),mediaLoadedFailed:fh(),error:fh()};let mb=function(){function t({core:t}){this.Bd=t,this.$d=this.onControlSeek.bind(this),this.jd=this.onPlayerMutedChanged.bind(this),this.Vd=this.onPlayerVolumeChanged.bind(this),this.Fd=this.onPlayOrPausePressed.bind(this),this.Hd=this.onConfigChanged.bind(this),this.Ud=this.onReset.bind(this),this.zd=this.onPlayerStateChanged.bind(this),this.Xd=this.onCurrentTimeChanged.bind(this),this.Gd=this.onIsConnectedChanged.bind(this),this.Wd=this.onSessionStateChanged.bind(this),this.qd=this.onCastStateChanged.bind(this),this.Yd=this.onIsMediaLoadedChanged.bind(this),this.Kd=this.onCaptionsChanged.bind(this),this.Zd=this.onMessageReceived.bind(this),this.Jd=this.onReceiverMutedChanged.bind(this),this.Qd=this.onReceiverVolumeChanged.bind(this),this.th=this.preventPlayerDefaultEvent.bind(this),this.endVideo=em(this.eh,500),this.nh=this.onOutroDisplayed.bind(this),this.ih=this.onOutroHidden.bind(this),this.volumeLevel=null,this.mutedState=null}var e=t.prototype;return e.calculateStartTime=function(t=null){let e=Number(t)||this.Bd.backbone.currentTime-7;return e<0&&(e=0),this.isEndOfVideo&&(e=0),e},e.loadMedia=function({contentId:t,currentTime:e=null,duration:n=null,token:i=null,bypassToken:o=null,autoRequest:s=!1,autoCaption:a=!0,autoDisconnect:u=!0,tracks:l=[]}={}){if(gb.isLoadingMedia)return r.resolve(!1);const c=this.Bd.config;t=t||c.video.id;const d=c.request,h=d.drm;let f;if(h){const e=Mn(d,"files.dash.default_cdn");t=Mn(d,`files.dash.cdns.${e}.url`),f=Mn(h,"cdms.widevine.license_url"),l=(d.text_tracks||[]).map((t=>{const{pathname:e,search:n}=function(t){try{return new URL(t)}catch(t){return{}}}(t.url);return J(J({},t),{},{url:`https://player.vimeo.com${e}${n}`})}))}const p=this.calculateStartTime(e);n=Number(n)||this.duration,i=i||c.user.vimeo_api_client_token,o=o||c.video.bypass_token,this.isEndOfVideo&&(this.rh=!1);const v={contentId:t,duration:n,autoRequest:s,tracks:l,currentTime:p,requestCustomData:{token:i,bypassToken:o,tokenType:"jwt"}};return this.Bd.config.request.ott_chromecast_token&&(v.requestCustomData.ottChromecastToken=this.Bd.config.request.ott_chromecast_token),this.Bd.config.ottCastOptions&&(v.ottCastOptions=this.Bd.config.ottCastOptions),(f?this.oo(f).then((t=>J(J({},v),{},{mediaCustomData:{widevineLicenseServerURL:t}}))):r.resolve(v)).then((t=>gb.loadMedia(t))).then((()=>(gb.fire(vb.mediaLoadedSuccess),this.addRemotePlayerListenersOnPlaying(),this.Bd.events.fire(gc),this.Bd.events.fire(Ah._hideOutro),this.oh=!1,a&&this.onCaptionsChanged(this.Bd.backbone.enabledTextTrack),this.Bd.backbone.paused||this.Bd.backbone.pause(),!0))).catch((t=>(gb.fire(vb.mediaLoadedFailed,t),u&&this.endCurrentSession(),r.reject(t))))},e.oo=function(t){return new r(((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.onload=()=>{const t=t=>new Error(`Error retrieving License Acquisition URL (LA_URL): ${t}`);if(i.status>=200&&i.status<300)try{e(i.response)}catch(e){n(t(e))}else n(t(i.status))},i.onerror=n,i.send()}))},e.init=function(){this.removeInitListeners(),this.addInitListeners()},e.addInitListeners=function(){this.addSessionStateListener(),this.addCastStateListener(),this.addIsConnectedListener()},e.endCurrentSession=function(t=!0){gb.castContext&&gb.castContext.endCurrentSession(t)},e.syncBackbone=function(){!this.isOutroRendered&&this.Bd.backbone.paused&&(this.Bd.backbone.currentTime=this.lastCurrentTime,this.syncTime())},e.stopBackbone=function(){this.Bd.events.fire(Ah.Ra)},e.storeBackboneData=function(){this.lastCurrentTime=this.Bd.backbone.currentTime},e.applyBackboneData=function(){this.lastCurrentTime&&(this.Bd.backbone.currentTime=this.lastCurrentTime)},e.enableUI=function(){this.Bd.events.fire(Ah.uu),this.Bd.element.classList.add("is-casting")},e.disableUI=function(){this.isOutroRendered||(this.Bd.events.fire(Ah.lu),this.Bd.backbone.element.classList.remove("invisible")),this.Bd.element.classList.remove("is-casting")},e.syncTime=function(){const t=this.lastCurrentTime/this.duration;gb.fire(vb.timeUpdated,{currentTime:this.lastCurrentTime,duration:this.duration,percent:t}),t>0&&this.Bd.events.fire(ao.TIME_UPDATE,{currentTime:this.lastCurrentTime,duration:this.duration,timeProgress:t})},e.eh=function(){return this.rh=!0,this.Bd.events.fire(Nh._u),this.removeRemotePlayerListenersOnPlaying(),this.isLooped?this.loadMedia().catch((()=>{this.showOutro()})):this.showOutro(),gb.fire(vb.ended),!0},e.showOutro=function(){this.isOutroRendered||(this.oh=!0,this.Bd.events.fire(Ah.Wa))},e.dispose=function(){this.endCurrentSession(),this.removeAllRemoteListeners()},e.onIsMediaLoadedChanged=function(t){!1===t.value?this.isTimeEnded&&this.endVideo():this.Bd.backbone.paused||this.Bd.backbone.pause()},e.onPlayerStateChanged=function(t){switch(null===t.value&&this.isTimeEnded&&this.endVideo(),t.value){case gb.PlayerState.PLAYING:gb.fire(vb.playing);break;case gb.PlayerState.PAUSED:gb.fire(vb.paused);break;case gb.PlayerState.BUFFERING:gb.fire(vb.buffering);break;case gb.PlayerState.IDLE:default:gb.fire(vb.idle)}},e.onReceiverVolumeChanged=function(t){null===this.volumeLevel&&(this.volumeLevel=gb.remotePlayer?gb.remotePlayer.volumeLevel:1),t.value!==this.volumeLevel&&(this.volumeLevel=t.value,this.Bd.events.fire(Ah.Ma,t.value,!1,!1))},e.onReceiverMutedChanged=function(t){null===this.mutedState&&(this.mutedState=!!gb.remotePlayer&&gb.remotePlayer.isMuted),this.Bd.events.fire(Ah.Oa,t.value,!0)},e.onPlayerMutedChanged=function(t){gb.remotePlayer&&gb.remotePlayerController&&gb.remotePlayer.isMuted!==t&&gb.remotePlayerController.muteOrUnmute()},e.onPlayerVolumeChanged=function(t){this.Bd.backbone.muted||gb.remotePlayer&&gb.remotePlayerController&&ac(gb.remotePlayer.volumeLevel)!==ac(t)&&(gb.remotePlayer.volumeLevel=t,gb.remotePlayerController.setVolumeLevel())},e.onCurrentTimeChanged=function(t){this.isMediaLoaded&&(this.lastCurrentTime=t.value),this.syncTime(),this.isTimeEnded&&this.endVideo()},e.onCaptionsChanged=function(t){const e=gb.currentSession;e&&e.sendMessage(pb,{action:"setActiveByLanguage",value:null==t?void 0:t.language})},e.onSessionStateChanged=function(t){switch(t.sessionState){case gb.SessionState.SESSION_STARTING:this.addPreventLocalPlayerEvents();break;case gb.SessionState.SESSION_RESUMED:case gb.SessionState.SESSION_STARTED:this.loadMedia();break;case gb.SessionState.SESSION_ENDING:case gb.SessionState.SESSION_ENDED:break;case gb.SessionState.SESSION_START_FAILED:this.removePreventLocalPlayerEvents()}gb.fire(vb.sessionStateChanged,t.sessionState)},e.onCastStateChanged=function(t){gb.fire(vb.castStateChanged)},e.onIsConnectedChanged=function(t){t.value?this.onConnected():this.onDisconnected()},e.onConnected=function(){this.removePreventLocalPlayerEvents(),this.storeBackboneData(),this.stopBackbone(),this.applyBackboneData(),this.addLocalPlayerListeners(),this.addRemotePlayerListenersOnIdle(),this.addMessageListener(),this.enableUI(),gb.fire(vb.connected,gb.currentSessionObj)},e.onDisconnected=function(){this.syncBackbone(),this.removeRemotePlayerListeners(),this.removeLocalPlayerListeners(),this.removeMessageListener(),this.disableUI(),gb.fire(vb.disconnected)},e.onConfigChanged=function(){this.loadMedia()},e.onReset=function(){this.loadMedia()},e.onPlayOrPausePressed=function(){this.isEndOfVideo?this.loadMedia():this.isPlayingOrPaused&&gb.remotePlayerController.playOrPause(),this.Bd.events.halt()},e.onControlSeek=function(t){t=this.Bd.seekingController.getAllowedSeekTime(t),this.currentTime=t,this.Bd.events.halt()},e.addSessionStateListener=function(){gb.castContext&&gb.castContext.addEventListener(gb.CastContextEventType.SESSION_STATE_CHANGED,this.Wd)},e.addCastStateListener=function(){gb.castContext&&gb.castContext.addEventListener(gb.CastContextEventType.CAST_STATE_CHANGED,this.qd)},e.addMessageListener=function(){const t=gb.currentSession;t&&t.addMessageListener(pb,this.Zd)},e.onMessageReceived=function(t,e){"MEDIA_FINISHED"===(e=JSON.parse(e)).type&&("END_OF_STREAM"===e.endedReason?this.endVideo():"ERROR"===e.endedReason&&(this.endCurrentSession(),gb.fire(vb.error,new Error("Chromecast encountered an error and media finished."))))},e.onOutroDisplayed=function(){this.oh=!0},e.onOutroHidden=function(){this.oh=!1},e.addIsConnectedListener=function(){gb.remotePlayerController&&gb.remotePlayerController.addEventListener(gb.RemotePlayerEventType.IS_CONNECTED_CHANGED,this.Gd)},e.addPreventLocalPlayerEvents=function(){this.Bd.events.prependOn([Nh.Iu,Nh.Ou,Nh.ju,Nh.Vu,ho.BUFFER_STARTED,ho.BUFFER_ENDED,Ah.Na,Nh.yu,Nh.bu,Nh.Wu,Nh.Hl,Ah.Ra],this.th)},e.addRemotePlayerListenersOnIdle=function(){this.removeRemotePlayerListenersOnIdle(),this.addIsMediaLoadedChangedListener(),this.addVolumeLevelChangedListener()},e.addLocalPlayerListeners=function(){this.Bd.events.prependOn(Nh.Iu,this.Fd),this.Bd.events.prependOn(Nh.Ou,this.Fd),this.Bd.events.prependOn(Nh.ju,this.th),this.Bd.events.prependOn(Nh.Vu,this.th),this.Bd.events.prependOn(ho.BUFFER_STARTED,this.th),this.Bd.events.prependOn(ho.BUFFER_ENDED,this.th),this.Bd.events.prependOn(Ah.Na,this.$d),this.Bd.events.prependOn(Nh.yu,this.jd),this.Bd.events.prependOn(Nh.bu,this.Vd),this.Bd.events.on(Nh.Wu,this.Kd),this.Bd.events.on(Nh.Hl,this.Hd),this.Bd.events.on(Ah.Ra,this.Ud),this.Bd.events.on(Nh.Ql,this.nh),this.Bd.events.on(Nh.tc,this.ih)},e.preventPlayerDefaultEvent=function(){this.Bd.events.halt()},e.addCurrentTimeChangedListener=function(){gb.remotePlayerController&&gb.remotePlayerController.addEventListener(gb.RemotePlayerEventType.CURRENT_TIME_CHANGED,this.Xd)},e.addIsMediaLoadedChangedListener=function(){gb.remotePlayerController&&gb.remotePlayerController.addEventListener(gb.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,this.Yd)},e.addPlayerStateChangedListener=function(){gb.remotePlayerController&&gb.remotePlayerController.addEventListener(gb.RemotePlayerEventType.PLAYER_STATE_CHANGED,this.zd)},e.addVolumeLevelChangedListener=function(){gb.remotePlayerController&&(gb.remotePlayerController.addEventListener(gb.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,this.Qd),gb.remotePlayerController.addEventListener(gb.RemotePlayerEventType.IS_MUTED_CHANGED,this.Jd))},e.addRemotePlayerListenersOnPlaying=function(){this.removeRemotePlayerListenersOnPlaying(),this.addCurrentTimeChangedListener(),this.addPlayerStateChangedListener()},e.removeRemotePlayerListenersOnIdle=function(){this.removeIsMediaLoadedChangedListener(),this.removeVolumeLevelChangedListener()},e.removeInitListeners=function(){gb.castContext&&(gb.castContext.removeEventListener(gb.CastContextEventType.SESSION_STATE_CHANGED,this.Wd),gb.castContext.removeEventListener(gb.CastContextEventType.CAST_STATE_CHANGED,this.qd)),gb.remotePlayerController&&gb.remotePlayerController.removeEventListener(gb.RemotePlayerEventType.IS_CONNECTED_CHANGED,this.Gd)},e.removeRemotePlayerListenersOnPlaying=function(){this.removeCurrentTimeChangedListener(),this.removePlayerStateChangedListener()},e.removeMessageListener=function(){const t=gb.currentSession;t&&t.removeMessageListener(pb,this.Zd)},e.removeCurrentTimeChangedListener=function(){gb.remotePlayerController&&gb.remotePlayerController.removeEventListener(gb.RemotePlayerEventType.CURRENT_TIME_CHANGED,this.Xd)},e.removeIsMediaLoadedChangedListener=function(){gb.remotePlayerController&&gb.remotePlayerController.removeEventListener(gb.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,this.Yd)},e.removePlayerStateChangedListener=function(){gb.remotePlayerController&&gb.remotePlayerController.removeEventListener(gb.RemotePlayerEventType.PLAYER_STATE_CHANGED,this.zd)},e.removeVolumeLevelChangedListener=function(){gb.remotePlayerController&&(gb.remotePlayerController.removeEventListener(gb.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,this.Qd),gb.remotePlayerController.removeEventListener(gb.RemotePlayerEventType.IS_MUTED_CHANGED,this.Jd))},e.removePreventLocalPlayerEvents=function(){this.Bd.events.off([Nh.Iu,Nh.Ou,Nh.ju,Nh.Vu,ho.BUFFER_STARTED,ho.BUFFER_ENDED,Ah.Na,Nh.yu,Nh.bu,Nh.Wu,Nh.Hl,Ah.Ra],this.th)},e.removeLocalPlayerListeners=function(){this.Bd.events.off(Nh.Iu,this.Fd),this.Bd.events.off(Nh.Ou,this.Fd),this.Bd.events.off(Nh.ju,this.th),this.Bd.events.off(Nh.Vu,this.th),this.Bd.events.off(ho.BUFFER_STARTED,this.th),this.Bd.events.off(ho.BUFFER_ENDED,this.th),this.Bd.events.off(Ah.Na,this.$d),this.Bd.events.off(Nh.yu,this.jd),this.Bd.events.off(Nh.bu,this.Vd),this.Bd.events.off(Nh.Wu,this.Kd),this.Bd.events.off(Nh.Hl,this.Hd),this.Bd.events.off(Ah.Ra,this.Ud)},e.removeRemotePlayerListeners=function(){this.removeRemotePlayerListenersOnPlaying(),this.removeRemotePlayerListenersOnIdle()},e.removeAllRemoteListeners=function(){this.removeRemotePlayerListeners(),this.removeInitListeners()},X(t,[{key:"currentTime",get:function(){return this.lastCurrentTime||0},set:function(t){gb.remotePlayer&&gb.remotePlayerController&&(t=this.Bd.seekingController.getAllowedSeekTime(t),gb.remotePlayer.currentTime=t,gb.remotePlayerController.seek(),this.lastCurrentTime=t)}},{key:"isTimeEnded",get:function(){return this.lastCurrentTime+.5>=this.duration}},{key:"isOutroRendered",get:function(){return this.oh||!1}},{key:"isLooped",get:function(){return this.Bd.config.embed.loop}},{key:"isEndOfVideo",get:function(){return this.rh||!1}},{key:"duration",get:function(){return this.Bd.config.video.duration}},{key:"isPlayingOrPaused",get:function(){return gb.remotePlayer?gb.remotePlayer.playerState===gb.PlayerState.PLAYING||gb.remotePlayer.playerState===gb.PlayerState.PAUSED:null}},{key:"isIdle",get:function(){return gb.remotePlayer?null===gb.remotePlayer.playerState||gb.remotePlayer.playerState===gb.PlayerState.IDLE:null}},{key:"isMediaLoaded",get:function(){return!!gb.remotePlayer&&gb.remotePlayer.isMediaLoaded}}])}();const _b={SETUP_DONE:"SETUP_DONE",NOT_SETUP:"NOT_SETUP"};let bb=function(){function t(){this.version="1.2.36",this.remotePlayer=null,this.remotePlayerController=null,this.CastContextEventType=null,this.RemotePlayerEventType=null,this.CastState=_b,this.SessionState=null,this.PlayerState=null,this.currentLoadRequestId=null,this.currentLoadingMediaPromise=null}var e=t.prototype;return e.init=function({receiverApplicationId:t="",resumeSavedSession:e=!0,language:n=null,autoJoinPolicy:i="TAB_AND_ORIGIN_SCOPED"}={}){if(!this.isGCastApiAvailable)throw new Error("CAF is not available. Call setup() first.");if("string"!=typeof t||""===t.trim())throw new Error("Parameter 'receiverApplicationId' must be valid.");switch(i){case chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED:case chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED:case chrome.cast.AutoJoinPolicy.PAGE_SCOPED:break;default:i=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED}return this.CastContextEventType=cast.framework.CastContextEventType,this.RemotePlayerEventType=cast.framework.RemotePlayerEventType,this.CastState=Object.assign(this.CastState,cast.framework.CastState),this.SessionState=cast.framework.SessionState,this.PlayerState=chrome.cast.media.PlayerState,cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:t.trim(),resumeSavedSession:e,language:n,autoJoinPolicy:i}),this.isInitialized?this.remotePlayerController:this.initRemotePlayer()},e.initRemotePlayer=function(){if(!this.isGCastApiAvailable)throw new ReferenceError("CAF is not available. Call setup() first.");return this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.remotePlayerController},e.setup=function({loadLibrary:t=!0}={}){return new r(((e,n)=>{if(this.isGCastApiAvailable)return this.AutoJoinPolicy=chrome.cast.AutoJoinPolicy,void e(!0);window.__onGCastApiAvailable=(t,i)=>{let r;i?(r=new Error(i),n(r)):chrome.cast?(this.AutoJoinPolicy=chrome.cast.AutoJoinPolicy,e(t)):(r=new ReferenceError("Cast is not available on this browser."),n(r))};try{if(!1===t)throw new ReferenceError("Cast is not available. Make sure the library has been loaded.");this.loadLibrary()||e(!1)}catch(t){const e=new Error(t);n(e)}}))},e.loadLibrary=function(){if(this.isGCastApiAvailable)return!0;if(null!==window.chrome&&void 0!==window.chrome&&"Google Inc."===window.navigator.vendor){let t="//www.gstatic.com/cv/js/sender/v1/cast_sender.js";if(!(document.querySelectorAll('script[src^="'+t+'"]').length>0)){t+="?loadCastFramework=1";const e=document.createElement("script");return e.src=t,e.async=!0,e.defer=!0,document.head.appendChild(e),!0}}return!1},e.loadMedia=function({contentId:t,contentType:e,currentTime:n=0,duration:i=0,requestCustomData:o=null,mediaCustomData:s=null,autoRequest:a=!1,tracks:u=[],ottCastOptions:l}){return t?this.isSessionEstablished?this.loadMediaOnSession(this.currentSession,{contentId:t,contentType:e,currentTime:n,duration:i,requestCustomData:o,mediaCustomData:s,tracks:u,ottCastOptions:l}):!0!==a?r.reject(new TypeError("Option 'autoRequest' must be true when session is not connected.")):this.requestSession().then((r=>this.loadMediaOnSession(r,{contentId:t,contentType:e,currentTime:n,duration:i,requestCustomData:o,mediaCustomData:s,tracks:u,ottCastOptions:l}))):r.reject(new TypeError("Option 'contentId' must be valid."))},e.loadMediaOnSession=function(t,{contentId:e,contentType:n,currentTime:i=0,duration:o,requestCustomData:s=null,mediaCustomData:a=null,tracks:u=[],ottCastOptions:l}){if(t&&t instanceof cast.framework.CastSession){const c=t.getSessionState();if(c!==this.SessionState.SESSION_STARTING&&c!==this.SessionState.SESSION_STARTED&&c!==this.SessionState.SESSION_RESUMED)return r.reject(new ReferenceError("Session must be established."));const d=this.createLoadRequest(e,n,i,o,s,a,u,l);return null!==this.currentLoadRequestId&&this.currentLoadRequestId===d.requestId||(this.currentLoadRequestId=d.requestId,this.currentLoadingMediaPromise=t.loadMedia(d).finally((()=>{this.currentLoadRequestId=null,this.currentLoadingMediaPromise=null}))),this.currentLoadingMediaPromise}return r.reject(new ReferenceError("Session must be cast.framework.CastSession."))},e.requestSession=function(){return this.isSessionEstablished?r.resolve(this.currentSession):this.castContext?this.castContext.requestSession().then((()=>this.currentSession)):r.reject(new Error("CastContext is not available. Call setup() first."))},e.sendMessage=function({namespace:t,data:e={},autoRequest:n=!1}){return this.isSessionEstablished?this.sendMessageOnSession(this.currentSession,{namespace:t,data:e}):!0!==n?r.reject(new TypeError("Option 'autoRequest' must be true when session is not connected.")):this.requestSession().then((n=>this.sendMessageOnSession(n,{namespace:t,data:e})))},e.sendMessageOnSession=function(t,{namespace:e,data:n={}}){if(t||!(t instanceof cast.framework.CastSession)){const i=t.getSessionState();return i!==this.SessionState.SESSION_STARTING&&i!==this.SessionState.SESSION_STARTED&&i!==this.SessionState.SESSION_RESUMED?r.reject(new ReferenceError("Session must be established.")):t.sendMessage(e,n)}return r.reject(new ReferenceError("Session must be cast.framework.CastSession."))},e.createCastButton=function(t){const e=document.createElement("button","google-cast-button");return t&&t.style&&(null===t.style["--disconnected-color"]&&(t.style["--disconnected-color"]="#00ADEF"),null===t.style["--connected-color"]&&(t.style["--connected-color"]="#E5E500")),t&&Object.keys(t).forEach((n=>{if("string"==typeof t[n])e.setAttribute(n,t[n]);else if("style"===n&&"object"==typeof t[n]){let i="";Object.keys(t[n]).forEach((e=>{i+=e+":"+t[n][e]+";"})),e.setAttribute(n,i)}})),e},e.createLoadRequest=function(t,e,n,i,r,o,s,a){const u=a?new chrome.cast.media.MediaInfo(a.contentId):new chrome.cast.media.MediaInfo(t.toString(),e);u.customData=o,u.duration=i;const l={subtitles:chrome.cast.media.TextTrackType.SUBTITLES,captions:chrome.cast.media.TextTrackType.CAPTIONS};u.tracks=s.map((t=>{const e=new chrome.cast.media.Track(t.id,chrome.cast.media.TrackType.TEXT);return e.trackContentId=t.url,e.trackContentType="text/vtt",e.subtype=l[t.kind],e.name=t.label,e.language=t.lang,e}));const c=new chrome.cast.media.LoadRequest(u);return c.customData=a?a.customData:r,c.currentTime=n||0,a&&(c.credentials=a.credentials,c.credentialsType=a.credentialsType),c},X(t,[{key:"isGCastApiAvailable",get:function(){return!!("undefined"!=typeof cast&&cast&&cast.framework&&cast.framework.VERSION)}},{key:"castState",get:function(){return this.castContext?this.castContext.getCastState():this.isGCastApiAvailable?this.CastState.SETUP_DONE:this.CastState.NOT_SETUP}},{key:"versionGCastApi",get:function(){return this.isGCastApiAvailable?cast.framework.VERSION:null}},{key:"castContext",get:function(){return this.isGCastApiAvailable?cast.framework.CastContext.getInstance():null}},{key:"currentSession",get:function(){return this.castContext?this.castContext.getCurrentSession():null}},{key:"currentSessionObj",get:function(){const t=this.currentSession;return t?t.getSessionObj():null}},{key:"isInitialized",get:function(){return!(!this.isGCastApiAvailable||!this.remotePlayerController)}},{key:"isSessionEstablished",get:function(){const t=this.currentSessionObj;return!!t&&t.status===chrome.cast.SessionStatus.CONNECTED}},{key:"isCastConnected",get:function(){return this.castState===this.CastState.CONNECTED}}])}();new bb;let yb=function(t){function e(){return t.apply(this,arguments)||this}q(e,t);var n=e.prototype;return n.init=function({appId:e,chromecastPlayer:n=null}={}){var i,o;return e||(e=null!=n&&null!=(i=n.Bd)&&null!=(i=i.config.request.flags)&&i.ott?null!=n&&null!=(o=n.Bd)&&o.config.ottCastOptions?n.Bd.config.ottCastOptions.appId?n.Bd.config.ottCastOptions.appId:hb.id:fb.id:db.id),this.chromecastPlayer=n,this.setup().then((n=>(n&&(t.prototype.init.call(this,{receiverApplicationId:e,autoJoinPolicy:this.AutoJoinPolicy.PAGE_SCOPED}),this.chromecastPlayer&&this.chromecastPlayer.init(),this.fire(vb.initialized)),n))).catch((t=>(this.fire(vb.error,t),r.reject(t))))},n.dispose=function(){this.chromecastPlayer=null},X(e,[{key:"chromecastPlayer",get:function(){return this.sh},set:function(t){if(t&&!(t instanceof mb))throw new SyntaxError("An invalid ChromecastPlayer was specified");this.chromecastPlayer&&this.chromecastPlayer.dispose(),this.sh=t}}])}(bb);const gb=ti.extend(new yb),wb="LIVE_UPDATE";function Tb(t,e){return Object.keys(e).reduce(((n,i)=>(e[i]&&"object"==typeof e[i]?n[t(i)]=Tb(t,e[i]):n[t(i)]=e[i],n)),{})}function Cb(t){return t.replace(/(_\w)/g,(t=>t[1].toUpperCase()))}function Eb(t){return Tb(Cb,t)}const kb="CONFIG_LOAD",Sb=t=>({type:kb,payload:J({},Eb(t))});function Ab(t={},{type:e,payload:n}){switch(e){case kb:return n.video.liveEvent?J(J({},t),n.video.liveEvent):null;case wb:return J(J({},t),n);case"LIVE_SET_START_TIME":return J(J({},t),{},{ingest:J(J({},t.ingest),{},{startTime:n})});case"LIVE_SETTINGS_UPDATE":return J(J({},t),{},{settings:J(J({},t.settings),n)});default:return t}}const Nb=t=>{var e;return!(null==(e=t.liveEvent)||!e.status)},Mb=t=>{var e;return null==(e=t.liveEvent)?void 0:e.status},Ob=t=>{var e;return(null==(e=t.liveEvent)?void 0:e.status)===Ih},Ib=t=>{var e;return Nb(t)&&"ended"===(null==(e=t.liveEvent)?void 0:e.status)},Rb=t=>{var e;return(null==(e=t.liveEvent)||null==(e=e.archive)?void 0:e.status)===Oh};var Lb=Object.freeze({__proto__:null,default:Ab,liveExists:Nb,liveStatus:Mb,liveStartTime:t=>{var e;return(null==(e=t.liveEvent)||null==(e=e.ingest)?void 0:e.startTime)||null},isLiveStarted:Ob,liveInProgress:Ib,isLiveArchived:Rb});const xb="interactive";function Db(){}function Pb(t,e,n){const i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(e,n){var i=function(){var e;if(Qh.includes(null==t||null==(e=t.config)||null==(e=e.user)?void 0:e.id))return function(t){if(!void 0)return t&&t.then?t.then(Db):r.resolve()}(lt(2e3))}();return i&&i.then?i.then(n):n()}(0,(function(){t.refreshAssetUrls()}))})),o=t.events;let s=t.backbone;const a=sb(),u=!t.config.embed.playsinline&&(Se.mobileAndroid||Se.iOS&&!Se.iPad),l=(Se.iOS>=8||$h)&&!Se.iPad;let c=!1,d=!1,h=!1,f=!1,p=null,v=!1,m=null,_=!1,b=!1,y=!1,g=!1,w=!1;function T(t){s.element.classList.remove("invisible"),C()}function C(){let t=s.play();return w&&(t=t.catch(E)),t.catch(S).then(A)}function E(t){if(w=!1,k(t))return o.fire(Ah.Oa,!0,!0),s.play();throw t}function k(t){return t&&("NotAllowedError"===t.name||"AbortError"===t.name)}function S(t){return o.fire(Nh.fu,t),new r((()=>{}))}function A(){o.fire(Nh.pu)}function N(t){try{s.currentTime=t}catch(t){}}function M(){f||v||c&&s.paused&&C()}function O(){var e,n;let i="none";("metadata"===(null==(e=t.config.request.flags)?void 0:e.preload_video)||u||Se.iOS>=8||$h)&&(i="metadata"),"auto"===(null==(n=t.config.request.flags)?void 0:n.preload_video)&&(i="metadata","MediaSourceScanner"===s.currentScannerName&&(i="auto")),Se.isGoogleBot&&(i="none"),s.preload=i,o.on(Nh.Ol,(function(){var e;t.config.request&&"metadata_on_hover"===(null==(e=t.config.request.flags)?void 0:e.preload_video)&&!h&&t.verifyConfig().then((()=>(s.preload="metadata",!0))).catch((t=>{}))})),o.on(ho.LOAD_SEGMENT_FAILED,(function(t){a_.captureException(t)}))}function I(){g=!1;const e=s.video;if(s.loadVideo(t.config),!e)if(t.config.embed.texttrack){let e=t.config.embed.texttrack;if(s.hasTextTrack(e)){const t=!0;o.fire(Ah.Ha,e,t)}}else o.on(ho.TEXT_TRACKS_AVAILABLE,(()=>{n(),i()})),n(),i();function n(){if(null===t.config.request.cookie.captions||"null"===t.config.request.cookie.captions);else if(s.hasTextTrack(t.config.request.cookie.captions)){const e=!0;o.fire(Ah.Ha,t.config.request.cookie.captions,e)}}function i(){Object.keys(a).forEach((e=>{var n;const{dispatch:i,items:r}=a[e],o=null==(n=t.config.request.cookie.captions_styles)?void 0:n[e],s=r.some((t=>t.id===o));t.store.dispatch(i(s?o:ab[e]))}))}}function R(t,e,n,i){if(d){const r=new XMLHttpRequest;r.open("DELETE",`${t}/plays/${e}/${n}?token=${i}`,!1),r.send(),d=!1}}function L(){t.startTime>0&&o.fire(Ah.tu,t.startTime,t.startTime/s.duration)}function x(){if(t.config.embed.autoplay){var n,i;if(e.get(Nb)&&!e.get(Ob))return;if(e.get(Nb)&&!mv(null==(n=t.config.video)?void 0:n.live_event))return void setTimeout((function(){o.fire(Nh.rd),o.fire(Nh.Iu)}),vv(null==(i=t.config.video)?void 0:i.live_event));o.fire(Nh.Iu)}}s.element.classList.add("invisible"),l&&s.element.classList.add("hide-webkit-controls"),t.config.video.live_event&&n.classList.add("live-background"),t.config.embed.transparent&&n.classList.add("transparent"),e.watch(Mb,(function(t){t===Ih&&setTimeout((()=>{I(),s.element.classList.remove("invisible"),o.fire(Nh.rd),o.fire(Nh.Iu)}),Jh)})),e.watch(Rb,i),e.watch("ui.video.scaleFactor",(t=>{s.element.classList.toggle("vp-telecine-cover",t>1)})),function e(){o.once(Nh.sc,e),s=t.backbone,lh(s.on,o.fire,[Ec,Cc,Tc,Sc,gc,wc,kc,bc,yc,Ac,Nc,Mc,Oc,lo.ACTIVATED,lo.AVAILABLE,lo.DEACTIVATED,lo.UNAVAILABLE,Lc.ARCHIVE_DONE,Lc.EVENT_ACTIVE,Lc.EVENT_ENDED,Lc.EVENT_STARTED,Lc.STREAM_OFFLINE,Lc.STREAM_ONLINE,Lc.BUFFER_GAP_JUMP,Lc.BUFFER_GAP_JUMP_PREVENT,Lc.STALL_JUMP,Lc.SETTINGS_UPDATED,Lc.LOW_LATENCY_FALLBACK,Lc.LIVE_STATS_SUCCESS,Lc.LIVE_STATS_FAILURE,Lc.LATENCY_UPDATED,vo.MEDIASESSION_PAUSE,vo.MEDIASESSION_PLAY,vo.MEDIASESSION_SEEK_BACKWARD,vo.MEDIASESSION_SEEK_FORWARD,vo.MEDIASESSION_SEEK_TO,ho.AV_DURATION_MISMATCH,ho.BANDWIDTH,ho.BUFFER_ENDED,ho.BUFFER_OCCUPANCY,ho.BUFFER_STARTED,ho.CHAPTER_CUES_UPDATED,ho.CUE_POINT,ho.CURRENT_FILE_CHANGE,ho.DOWNLOAD_END,ho.DOWNLOAD_TIMEOUT,ho.DRM_AUTH_SUCCESS,ho.DRM_KEY_SWITCH,ho.DROPPED_FRAMES,ho.MANIFEST_LOADED,ho.MANIFEST_TIMEOUT,ho.QUOTA_EXCEEDED_ERROR,ho.SCANNER_CHANGE,ho.STREAM_BUFFER_START,ho.STREAM_CHANGE,ho.STREAM_CHANGE_START,ho.STREAM_TARGET_CHANGE,ho.AVAILABLE_STREAMS_CHANGED,ho.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,ho.TEXT_TRACKS_AVAILABLE,ho.DROPPED_FRAME_PERCENT_EXCEEDED,ho.LOAD_SEGMENT_FAILED,ho.AUDIO_TRACK_CHANGED,ho.SEGMENT_CUES_LOADED,po.CAMERA_CHANGE,po.CAMERA_UPDATE,po.MOTION_END,po.MOTION_START,po.SPATIAL_UNSUPPORTED,po.WEBVR_ENTER,po.WEBVR_EXIT,po.WEBVR_HARDWARE_AVAILABLE,ao.DURATION_CHANGE,ao.ENDED,ao.ERROR,ao.LOAD_START,ao.LOADED_DATA,ao.LOADED_METADATA,ao.PAUSE,ao.PLAY,ao.PLAYING,ao.PROGRESS,ao.RATE_CHANGE,ao.RESIZE,ao.SEEKED,ao.SEEKING,ao.STALLED,ao.TIME_UPDATE,ao.VOLUME_CHANGE,ao.WAITING,ao.ENTER_PICTURE_IN_PICTURE,ao.LEAVE_PICTURE_IN_PICTURE,ao.WEBKIT_BEGIN_FULLSCREEN,ao.WEBKIT_END_FULLSCREEN])}(),lh(gb.on,o.fire,[vb.connected,vb.disconnected]),O(),o.on(ao.LOADED_METADATA,(function(e){t.config.video.duration=s.duration,t.config.video.video_width=s.videoWidth,t.config.video.video_height=s.videoHeight})),o.on(ao.DURATION_CHANGE,(function(e){t.config.video.duration=s.duration})),o.on(ho.SCANNER_CHANGE,(()=>{O(),setTimeout((()=>{o.fire(Nl.settingVolume?Ah.$a:Ah.Ba),o.fire(Nl.textTracks?Ah.Va:Ah.ja)}),0),a_.captureBreadcrumb(`Scanner changed to ${s.currentScannerName}`,{},"video")})),o.on([Lc.EVENT_ACTIVE,Lc.EVENT_STARTED,Lc.EVENT_ENDED,Lc.ARCHIVE_DONE],(n=>{Object.assign(t.config.video.live_event,n),e.dispatch((t=>({type:wb,payload:t}))(n))})),o.on(Nh.Iu,(function(){t.displayContext!==t.backbone?t.displayContext.play():function(){var n;if(("disable"===t.config.video.privacy||!t.config.video.spatial||Se.spatialPlayback||g)&&s.element.classList.remove("invisible"),p)return o.fire(Nh.hu,null==(n=p)?void 0:n.type,p),void o.fire(Ah.uu);if(c=!0,v)o.fire(Ah.uu);else{if(s.off(ao.PLAY,T),u&&(_=!0,o.fire(Ah.Fa)),e.get(Ob)&&(w=!0),!h)return!t.config.video.spatial||Se.spatialPlayback||g?void C().catch(console.error):(g=!0,o.fire(Ah.Ia,"spatial-redirect","browser-support"),void o.once(ao.PLAY,T));h&&M()}}()})).on(Nh.Ou,(()=>{c=!1,t.displayContext.pause()})).on(Nh.rc,(function(){(window.location.search.indexOf("autopause=0")<0&&!s.paused&&!t.config.embed.settings.background||c)&&(c=!1,o.fire(Nh.Ou))})),o.on(ao.ERROR,(function(e){if(k(e)&&!w){if(t.config.embed.autoplay=0,s.pause(),t.startTime)return N(t.startTime),void o.fire(Nh.rn,s.currentTime);if(0===s.currentTime)return void o.fire(Ah.Ra);o.fire(Nh.rn,s.currentTime)}})),o.on(ao.PLAY,(function(t){s.element.classList.remove("invisible")})),o.on(ao.PAUSE,(function(t,e){f||o.fire(Nh.rn,t,e)})),o.on(ao.TIME_UPDATE,(function({currentTime:t}){})),o.on(ao.ENDED,(function(e){f||t.config.embed.loop||(_&&o.fire(Nh.Mu),c=!1,o.fire(Nh._u,e))})),o.on(ho.DRM_AUTH_SUCCESS,(()=>{d=!0})),o.on(gc,(()=>{h=!0,o.once(ao.TIME_UPDATE,(()=>{o.fire(Nh.Cu)}))})),o.on(ho.BUFFER_STARTED,(()=>{})),function(){let e=!1,n=!1;function i(r){var s,a;if(e)return;if(r.name.includes(zo))return;if("TextTracksNotSupported"===r.name)return void o.fire(Ah.ja);a_.captureBreadcrumb(r.name,{message:r.message},"telecine error","error");let u=t.config.video.live_event?.25:.01;if(r.name===Uo&&!n){n=!0,u=.5;const e=t.config.request,i=e.files,o=i.dash.cdns.fastly_skyfire.url,s=i.hls.cdns.fastly_skyfire.url,a=i.dash.cdns.akfire_interconnect_quic.url,l=i.hls.cdns.akfire_interconnect_quic.url,c=i.progressive.length?i.progressive[0].url:null,d=i.progressive.length?i.progressive[0].id:null,h=e.file_codecs,f=t.config.video.file_codecs,p=t.config.user.logged_in,v=e.build.js;a_.captureBreadcrumb(r.name,{fastly_dash_url:o,fastly_hls_url:s,akamai_dash_url:a,akamai_hls_url:l,prog_url:c,prog_id:d,file_codecs:h,video_file_codecs:f,logged_in:p,version:v},"MediaUrlBadRequest config","error")}const l="string"!=typeof r.message?r.name:r.message,c=new Error(l);c.name=r.name;const d="object"==typeof r.message?r.message:null;a_.captureException(c,d,u);const h=_f[r.name];if("function"==typeof h){if(p=h(),null!=(s=p)&&s.final&&o.off(ao.ERROR,i),r.name===Fo){let e=t.config.request.dynamic_drm_translation_map,n=r.message.code;p&&e&&n&&e[n]&&(p.title=e[n].title,p.message=e[n].msg),a_.captureBreadcrumb("DRM failure",r,"video")}o.fire(Nh.hu,null!=(a=p)&&a.deferred?p.type:null,p,l)}}window.addEventListener("pagehide",(()=>{e=!0}),!1),o.on(ao.ERROR,i),o.on("test-error",i)}(),o.on(Ah.La,(function(e){const n=!!e&&("boolean"==typeof Se.iOS||Se.iOS>=10);t.config.embed.loop=n,s.loop=n})),o.fire(Ah.La,t.config.embed.loop),o.on(Nh.xu,((e,n)=>{t.events.fire(Nh.Du,n),t.events.fire(Ah.Na,e),h||o.fire(Nh.Iu)})),o.on(Nh.ju,(function(){v||(c=!s.paused,f=!0,s.pause())})),o.on(Nh.Vu,(function(t){f=!1,h?t||M():o.fire(Nh.Iu)})),o.on(Ah.Na,(function(e){v||(e=t.seekingController.getAllowedSeekTime(e),o.fire(Ah.tu,e))})),o.on(Ah.tu,(function(e){h||t.fragmentsHandler.checkForNewFragment(e,s.duration),N(e)})),function(){o.on(Ah.Ma,(function(e,n,i,r=!0){i&&(e+=s.volume),e=sh(e=eh(e,0,1)),t.displayContext!==s&&(t.displayContext.volume=e),s.volume=e,t.events.fire(Nh.bu,e,n),s.muted&&r&&t.events.fire(Ah.Oa,!1,n)})),o.on(Ah.Oa,(function(e,n=!1){s.muted=!!e,t.displayContext!==s&&(t.displayContext.muted=e),t.events.fire(Nh.yu,e,n)})),o.on(ao.VOLUME_CHANGE,(()=>{o.fire(Nh.bu,s.volume,!0)}));const e=t.config.request.cookie.volume;o.fire(Ah.Ma,e,!0),o.fire(Ah.Oa,t.config.embed.muted,!0)}(),function(){let t;o.on(Ah.xa,(function(n,i){(s.video.currentFile.mime===Sh.dash||e.get(Ob))&&(i=!0),t=i,s.quality=n})),o.on(wc,(function(e){o.fire(Nh.gu,e,t)}))}(),function(){let t=s.playbackRate;o.on(ao.RATE_CHANGE,(function(e){s.playbackRate!==t&&(o.fire(Nh.Eu,s.playbackRate,t),t=s.playbackRate)})),o.on(Ah.eu,(function(t){s.playbackRate=t})),o.on(Nh._loadVideo,(function(){try{s.playbackRate=1}catch(t){}}))}(),function(){function t(t){v=!0,m=t,t!==xb&&h&&!y&&(c=c||!s.paused,s.pause(),o.fire(Nh.rn,s.currentTime))}function e(){const t=m===yv.LEAD_CAPTURE_FORM&&!h;v=!1,m=null,t?o.fire(Nh.Iu):c&&!y&&(_||b||!u||o.fire(Ah.Fa),M())}o.on(Nh.fl,t),o.on(Nh.ld,t),o.on(Nh.pl,e),o.on(Nh.dd,e),o.on(Nh.Gu,(function(n,i){i&&i!==Uh&&i.isCentered()&&(i.isVisible()?t():e())}))}(),o.on(Nh.gl,(function(t){h&&!y&&(c=!s.paused,s.pause())})),o.on(Nh.Tl,(function(t){y||M()})),o.on(Nh.il,(function(t,e){s.element.classList.remove("hide-webkit-controls"),t&&(b=!0),t||(h||Se.browser.safari||(s.poster=(t=>{const e=t.querySelector(`.${tf.VP_PREVIEW}`);return e&&e.getAttribute("data-thumb")||""})(n)),_=!0,setTimeout((()=>{s.textTracks.forEach((t=>{"hidden"===t.mode&&(t.mode="showing")}))}),500)),e||!Se.windowsPhone||Se.browser.edge||o.fire(Ah.Ga,!0)})),o.on(Nh.ol,(function(e){s.poster="",e||s.pause(),h||t.segmentedPlaybackEnabled||s.element.classList.add("invisible"),_=!1,b=!1,l&&s.element.classList.add("hide-webkit-controls"),s.textTracks.forEach((t=>{"showing"===t.mode&&(t.mode="hidden")}))})),o.on(gc,(function(){s.poster=""})),o.on(Ah.Ga,(function(t){if(t)return s.controls=!0,void n.classList.add("native-controls");s.controls=!1,n.classList.remove("native-controls")})),o.on(Nh.Yl,(function(){I()})),o.on(Nh.Hl,(function(){I(),x()})),o.on(Ah.Ra,(function(){if(t.segmentedPlaybackEnabled)L();else{const e=t.element.querySelector("[telecine-snapshot]");e&&"none"!==e.style.display||(o.fire(Ah.uu),s.element.classList.add("invisible")),setTimeout((()=>{s.unload(),o.fire(Nh.rn,s.currentTime),h=!1,c=!1,p=null}),300)}})),function(){let e;o.on(Ah.Ha,(function(n,i=!1){e=i;try{var r;(null!=(r=t.config.request.flags)&&r.ott||"dev"===t.config.request.build.js||"gedevplayer.vimeows.com"===t.config.player_url)&&s.videoElement&&s.videoElement.setAttribute("crossorigin","anonymous"),s.enableTextTrack(n)}catch(t){}})).on(Ah.Ua,(function(n=!1){var i;e=n,null!=(i=t.config.request.flags)&&i.ott&&s.videoElement&&s.videoElement.removeAttribute("crossorigin"),s.disableTextTrack()})).on(Ah.ru,(function(){s.requestCompleteLiveSubtitles()})).on(Ah.au,(function(t){s.setCaptionsShouldLoad(t)})),o.on(Ec,(function(t,n){t&&s.enableTextTrack(t.id),o.fire(Nh.Wu,t,e||n)})),o.on(ao.WEBKIT_BEGIN_FULLSCREEN,(function(){var t;null==(t=s.videoElement)||t.setAttribute("crossorigin","anonymous")})),o.on(ao.WEBKIT_END_FULLSCREEN,(function(){var e,n;null!=(e=t.config.request.flags)&&e.ott||null==(n=s.videoElement)||n.removeAttribute("crossorigin")}))}(),o.on(lo.AVAILABLE,(function({type:e}){t.config.request.drm||"AirPlay"!==e||o.fire(Nh.Ac)})),o.on(lo.UNAVAILABLE,(function({type:e}){t.config.request.drm||"AirPlay"!==e||o.fire(Nh.Nc)})),o.on(lo.ACTIVATED,(function({type:t}){y=!0,"AirPlay"===t&&o.fire(Nh.Mc)})),o.on(lo.DEACTIVATED,(function({type:t}){y=!1,"AirPlay"===t&&o.fire(Nh.Oc)})),o.on(Nh.Ic,(function(){s.showExternalDisplayPicker("AirPlay")})),o.on(Ah.Ya,(()=>{t.canPlayPictureInPicture&&s.requestPictureInPicture()})),o.on(Ah.Ka,(()=>{s.pictureInPictureEnabled&&s.exitPictureInPicture()})),I(),Se.spatialPlayback?(o.fire(Ah.Za),o.on([ao.PLAY,ao.SEEKED],(()=>{o.fire(Ah.Qa)})),o.on(po.SPATIAL_UNSUPPORTED,(()=>{h?o.fire(ph.Aa,v):o.once(Nh.Cu,(()=>{o.fire(ph.Aa,v)}))}))):o.once(Nh.Cu,(()=>{t.config.video.spatial&&o.fire(ph.Sa,v)})),window.addEventListener("beforeunload",(()=>{const e=t.config.request.drm;e&&R(e.hoover_url,e.user,e.asset,e.hoover_token)}),!1),o.on(Nh._loadVideo,(()=>{const e=t.config.request&&t.config.request.drm;e&&R(e.hoover_url,e.user,e.asset,e.hoover_token)})),t.events.on(Ah.nu,(()=>s.destroy())),"mediaSession"in navigator&&(o.on(ao.LOADED_METADATA,(()=>(navigator.mediaSession.setActionHandler("play",(()=>{C().then((()=>s.fire(vo.MEDIASESSION_PLAY))).catch(console.error)})),navigator.mediaSession.setActionHandler("pause",(()=>{s.pause(),o.fire(vo.MEDIASESSION_PAUSE)})),navigator.mediaSession.setActionHandler("seekto",(t=>{s.currentTime=t.seekTime,o.fire(vo.MEDIASESSION_SEEK_TO)})),navigator.mediaSession.setActionHandler("seekforward",(()=>{s.currentTime=Math.min(s.duration,s.currentTime+10),o.fire(vo.MEDIASESSION_SEEK_FORWARD)})),void navigator.mediaSession.setActionHandler("seekbackward",(()=>{s.currentTime=Math.max(0,s.currentTime-10),o.fire(vo.MEDIASESSION_SEEK_BACKWARD)}))))),o.on(ao.PLAY,(()=>(()=>{const e={title:t.config.video.title,artist:`from ${t.config.video.owner.name}`,artwork:[{src:Nt(t.config.video.thumbnail_url,{w:"640"})}]};navigator.mediaSession.metadata=new MediaMetadata(e)})()))),t.ready().then((()=>(setTimeout((()=>x()),0),L(),null))).catch((t=>{})),o.fire(Nh.wc)}function Bb(t){return"dev"===t.request.build.js?"dev":Ph}const $b={will:"willLikeVideo",did:"didLikeVideo"},jb={will:"willUnlikeVideo",did:"didUnlikeVideo"},Vb={will:"willAddToWatchLater",did:"didAddToWatchLater"},Fb={will:"willRemoveFromWatchLater",did:"didRemoveFromWatchLater"},Hb={will:"willOpenVodPurchaseForm",did:"didOpenVodPurchaseForm"},Ub={will:"willOpenShareOverlay",did:"didOpenShareOverlay"},zb={will:"willOpenLoginForm",did:"didOpenLoginForm"},Xb={will:"willOpenCollectionsOverlay",did:"didOpenCollectionsOverlay"},Gb={will:"willShowOutro",did:"didShowOutro"},Wb={will:"willSendPlayLog",did:"didSendPlayLog"};function qb(t){var e,n,i,r,o=new Vp;function s(){return Date.now?Date.now():(new Date).getTime()}function a(){e=!1,n=t.backbone?t.backbone.currentTime:0,i=0,r=0}function u(e,n,i){t.verifyConfig().then((()=>{let r=n;r.signature=t.config.request.signature,r.session=t.config.request.session,r.time=t.config.request.timestamp,r.expires=t.config.request.expires;const s=JSON.stringify(r);if(null===r.sessionTime&&(a_.captureBreadcrumb("sessionTime is null breadcrumbs",{endpoint:e,allParams:r}),a_.captureException("sessionTime is null when making stats request")),!t.config.request.urls.player_telemetry_url)throw new Error("Stats logging failed due to lack of telemetry host");const a=t.config.request.urls.player_telemetry_url+e;return o.logRequestPromiseWithUrl(a,s).then((e=>{if(200!==e.status&&i<2){if(410===e.status)return void t.events.once(Nh.Yl,(()=>{u(a,n,i+1)}));setTimeout((()=>{u(a,n,i+1)}),1e3)}})).catch((t=>{throw t}))})).catch((t=>{}))}function l(e,n){var i,r;n=n||{};var o={referrer:t.config.request.referrer,embed:!t.config.embed.on_site,context:t.config.embed.context,id:t.config.video.id,vodId:null!=(i=t.config.video.vod)&&i.id?t.config.video.vod.id:null,vodSaleId:null!=(r=t.config.video.vod)&&r.sale_id?t.config.video.vod.sale_id:null,userId:t.config.user.id,userAccountType:t.config.user.account_type,userIsMod:t.config.user.mod?1:0,ownerId:t.config.video.owner?t.config.video.owner.id:0,duration:sh(t.config.video.duration),seconds:sh(t.backbone.currentTime),playbackRate:t.backbone.playbackRate,build:Bb(t.config)};for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);u("/log/"+e,o)}return a(),function(){t.events.on(ao.TIME_UPDATE,(function({currentTime:t,ah:o,uh:a,playbackRate:u}){!e&&r+1e3<s()&&(t>n&&!(0!==t&&0===n)&&(i+=(t-n)/u),n=t)})),t.events.on(Nh.Eu,(function(t,e){l("playback_rate_change",{oldPlaybackRate:e})})),t.events.on(Nh.ju,(function(){r=s(),e=!0})),t.events.on(Nh.Vu,(function(){n=t.backbone.currentTime,e=!1})),t.events.on(Nh._u,(function(){t.backbone.isLive()||(i+=t.config.video.duration-n)}));let o=[],a=!1;function c(){let e=t.backbone.getEffectByName("ThreeSixtyEffect").currentCoordinates,n=100,r=Math.round(e.lat*n)/n,s=Math.round(e.long*n)/n;const u={sessionTime:i,videoTime:t.backbone.currentTime,coordinates:{lat:r,lon:s}};o.push(u),setTimeout((()=>{a&&c()}),1e3)}function d(){o.length&&t.performDelegateAction(Wb,((e,n={})=>{var i,r;u("/log/spatial",{embed:!t.config.embed.on_site,id:t.config.video.id,context:t.config.embed.context,ownerId:t.config.video.owner?t.config.video.owner.id:0,referrer:t.config.request.referrer,vodId:null!=(i=t.config.video.vod)&&i.id?t.config.video.vod.id:null,vodSaleId:null!=(r=t.config.video.vod)&&r.sale_id?t.config.video.vod.sale_id:null,userId:t.config.user.id,userAccountType:t.config.user.account_type,userIsMod:t.config.user.mod?1:0,teamOriginUserId:t.config.user.team_origin_user_id?t.config.user.team_origin_user_id:null,teamId:t.config.user.team_id?t.config.user.team_id:null,build:Bb(t.config),motionLog:JSON.stringify(o)},!1)}))}t.events.on(po.MOTION_START,(()=>{a=!0,c()})),t.events.on(po.MOTION_END,(()=>{a=!1,d()})),t.events.on(Nh._loadVideo,(()=>{d(),o=[]})),window.addEventListener("pagehide",(function(){t.backbone&&t.backbone.currentTime>0&&d()}),!1)}(),function(){let e;[{type:"share_press",event:Nh.ul},{type:"facebook_press",event:Nh.vl},{type:"twitter_press",event:Nh.ml},{type:"tumblr_press",event:Nh._l},{type:"email_press",event:Nh.bl},{type:"embed_press",event:Nh.ll},{type:"login_success",event:Nh.$l},{type:"airplay",event:Nh.Mc},{type:"vod_press",event:Nh.cl},{type:"collection_press",event:Nh.dl}].forEach((function(e){t.events.on(e.event,function(t){return function(){l(t)}}(e.type))})),t.events.on(Nh.vd,(function(t){e=t})).on(Nh.Ql,(function(){var n,i={outroType:t.config.embed.outro,ownerAccountType:t.config.video.owner.account_type,playerWidth:t.element.clientWidth,playerHeight:t.element.clientHeight};null!=(n=e)&&null!=(n=n.videos)&&n.length&&(i.outroVideos=e.videos.map((t=>t.id)).join(",")),l("outro_displayed",i)})).on(Nh.ec,(function(e){l("outro_video_press",{ownerAccountType:t.config.video.owner.account_type,videoId:e})})).on(Nh.hl,(function(){l("outro_follow_press",{add:!t.config.user.following})})).on(Nh.hc,(function(e){l("outro_cta_press",{ownerAccountType:t.config.video.owner.account_type,link:e})})).on(Nh.ac,(function(e){l("outro_link_press",{ownerAccountType:t.config.video.owner.account_type,link:e})})).on(Nh.dc,(function(e){l("outro_image_press",{ownerAccountType:t.config.video.owner.account_type,link:e})})).on(Nh.sl,(function(){l("like_press",{add:!t.config.user.liked})})).on(Nh.al,(function(){l("watch_later_press",{add:!t.config.user.watch_later})})).on(Nh.gl,(function(t){0===t.indexOf("login-")&&l("login_attempt")})).on(Nh.Wu,(function(t,e){e||(t?l("text_track_change",{textTrackLanguage:t.language,textTrackKind:t.kind}):l("text_track_change"))})).on(Nh.tl,(function(t){1!==t&&12!==t||l("badge_press",{badgeId:t})})).on(Nh.vc,(function(e){l("card_press",{ownerAccountType:t.config.video.owner.account_type,cardId:e,cardType:"link"})})).on(Nh.fc,(function(e,n){t.config.embed.editor||l("card_displayed",{ownerAccountType:t.config.video.owner.account_type,cardId:e,cardType:n.url?"link":"text"})}))}(),t.events.on(Nh.Hl,(function(t){t&&a()})),t.events.fire(Nh.Cc),{}}const Yb={settings:{}};function Kb(t=Yb,{type:e,payload:n}){return e===kb?J(J({},t),n.embed):t}var Zb=Object.freeze({__proto__:null,default:Kb,transparent:t=>t.embed.transparent});function Jb(t={},{type:e,payload:n}){return e===kb?J(J({},t),n.video):t}const Qb=t=>t.video.height/t.video.width;var ty=Object.freeze({__proto__:null,default:Jb,ratio:Qb});const ey="CONTAINER_RESIZE",ny="PLAYER_CONTAINER_RESIZE";function iy(t={},e){return e.type===ey?J(J({},t),{},{width:e.payload.width,height:e.payload.height}):t}var ry=Object.freeze({__proto__:null,default:iy,width:t=>t.ui.container.width,height:t=>t.ui.container.height});function oy(t={},e){return e.type===ny?J(J({},t),{},{width:e.payload.width,height:e.payload.height}):t}var sy=Object.freeze({__proto__:null,default:oy,width:t=>t.ui.playercontainer.width,height:t=>t.ui.playercontainer.height});const ay="PREVIEW_SET_SIZE";function uy(t={},e){return e.type===ay?J(J({},t),{},{width:e.payload.width,height:e.payload.height}):t}var ly=Object.freeze({__proto__:null,default:uy,scaleFactor:t=>th({width:t.ui.preview.width,height:t.ui.preview.height,elementWidth:yy.width(t),elementHeight:yy.height(t)}).scaleFactor});function cy(t=ab,e){switch(e.type){case F_:return J(J({},t),ab);case H_:return J(J({},t),{},{fontSize:e.payload});case X_:return J(J({},t),{},{color:e.payload});case U_:return J(J({},t),{},{fontFamily:e.payload});case z_:return J(J({},t),{},{fontOpacity:e.payload});case G_:return J(J({},t),{},{bgOpacity:e.payload});case W_:return J(J({},t),{},{bgColor:e.payload});case Y_:return J(J({},t),{},{windowColor:e.payload});case q_:return J(J({},t),{},{windowOpacity:e.payload});case K_:return J(J({},t),{},{edgeStyle:e.payload});default:return t}}var dy=Object.freeze({__proto__:null,default:cy,calculatedFontSize:t=>Math.max(10,Math.round(.045*yy.height(t)*t.ui.captions.fontSize)),fontFamily:t=>t.ui.captions.fontFamily,fontOpacity:t=>t.ui.captions.fontOpacity,color:t=>t.ui.captions.color,backgroundOpacity:t=>t.ui.captions.bgOpacity,backgroundColor:t=>t.ui.captions.bgColor,edgeStyle:t=>t.ui.captions.edgeStyle});const hy=t=>{const e=e=>Math.min(t.height(e)/Qb(e),t.width(e)),n=e=>Math.min(t.width(e)*Qb(e),t.height(e)),i=i=>th({width:e(i),height:n(i),elementWidth:t.width(i),elementHeight:t.height(i)}).scaleFactor,r=t=>i(t)>1,o=n=>n.embed.transparent&&!r(n)?e(n):t.width(n),s=e=>e.embed.transparent&&!r(e)?n(e):t.height(e),a=t=>t.embed.transparent&&!r(t)?"contain":"100% 100%",u=bn((t=>({width:o(t),height:s(t)}))),l=bn((t=>({ratio:Qb(t),size:a(t)})));return{scaleFactor:i,width:o,height:s,size:a,boundingRect:u,settings:l}},fy={xxs:0,xs:430,sm:600,md:960,lg:1280,xl:1600,xxl:1920},py=(t,e)=>{const n=bn((n=>({width:t(n),height:e(n)}))),i=t=>{const{height:e,width:n}=t.video;return e>n},r=n=>{const r=t(n),o=e(n);if(i(n))return r<225;const s=Fc(n.embed.settings.customLogo)&&r<300||o<169,a=!Fc(n.embed.settings.customLogo)&&(r<338||o<190);return s||a},o=e=>{const n=t(e);if(i(e))return n<300;const r=Fc(e.embed.settings.customLogo)&&n<=375,o=!Fc(e.embed.settings.customLogo)&&n<=450;return r||o},s=e=>{const n=t(e);return n>=fy.xxs&&n<fy.xs},a=e=>{const n=t(e);return n>=fy.xs&&n<fy.sm},u=e=>{const n=t(e);return n>=fy.sm&&n<fy.md},l=e=>{const n=t(e);return n>=fy.md&&n<fy.lg},c=e=>{const n=t(e);return n>=fy.lg&&n<fy.xl},d=e=>{const n=t(e);return n>=fy.xl&&n<fy.xxl},h=e=>t(e)>=fy.xxl;return{width:t,height:e,breakpoint:t=>{const e={xxs:s,xs:a,sm:u,md:l,lg:c,xl:d,xxl:h};return Object.keys(fy).find((n=>e[n](t)))},xxl:h,xl:d,lg:c,md:l,sm:u,xs:a,xxs:s,mode:t=>r(t)?"tiny":o(t)?"mini":"normal",isMiniMode:o,isTinyMode:r,isVerticalVideo:i,boundingRect:n}};var vy=Object.freeze({__proto__:null,scaleFactor:t=>th({width:t.video.width,height:t.video.height,elementWidth:yy.width(t),elementHeight:yy.height(t)}).scaleFactor});const my=t=>yy.isVerticalVideo(t)?yy.isTinyMode(t):yy.isMiniMode(t)||yy.isTinyMode(t)||yy.xs(t)||yy.xxs(t);var _y=Object.freeze({__proto__:null,isPrefsMenuCentered:t=>Se.touch&&yy.width(t)<415,isMenuFullWidth:my,isMenuVerticalVideoMode:t=>!my(t)&&yy.isVerticalVideo(t)&&yy.xxs(t)&&yy.height(t)>300,doMenuItemsWrap:t=>yy.width(t)<240});function by(t={},e){return{container:iy(t.container,e),preview:uy(t.preview,e),captions:cy(t.captions,e),playercontainer:oy(t.playercontainer,e)}}const yy=py((t=>Ty.width(t)),(t=>Ty.height(t))),gy=py((t=>wy.width(t)),(t=>wy.height(t))),wy=hy(ry),Ty=hy(sy);var Cy=Object.freeze({__proto__:null,default:by,container:ry,player:yy,appLayout:wy,playerLayout:Ty,preview:ly,video:vy,controlbar:_y,captions:dy,playercontainer:sy,app:gy});function Ey(t={},e){const n=J(J({},function(t={},e){return e.type===kb?J(J({},t),e.payload):t}(t,e)),{},{embed:Kb(t.embed,e),video:Jb(t.video,e),liveEvent:Ab(t.liveEvent,e)});return J(J({},n),{},{ui:by(t.ui,e)})}var ky=Object.freeze({__proto__:null,default:Ey,embed:Zb,video:ty,liveEvent:Lb,ui:Cy});const Sy=function(t){return(e,...n)=>(n.forEach((n=>{for(const i in n){const r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,Object.assign(r,t))}})),e)}({enumerable:!0,configurable:!0,writeable:!1});var Ay=function(){if(void 0!==Oe)return Oe;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.dh=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.dh.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.dh,e),i=this.dh[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.dh,e);~i?this.dh[i][1]=n:this.dh.push([e,n])},e.prototype.delete=function(e){var n=this.dh,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.dh,e)},e.prototype.clear=function(){this.dh.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.dh;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),Ny="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,My="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Oy="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(My):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},Iy=["top","right","bottom","left","width","height","size","weight"],Ry="undefined"!=typeof MutationObserver,Ly=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t){var e=!1,n=!1,i=0;function r(){e&&(e=!1,t()),n&&s()}function o(){Oy(r)}function s(){var t=Date.now();if(e){if(t-i<2)return;n=!0}else e=!0,n=!1,setTimeout(o,20);i=t}return s}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){Ny&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ry?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Ny&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;Iy.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),xy=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},Dy=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||My},Py=Fy(0,0,0,0);function By(t){return parseFloat(t)||0}function $y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+By(t["border-"+n+"-width"])}),0)}var jy="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Dy(t).SVGGraphicsElement}:function(t){return t instanceof Dy(t).SVGElement&&"function"==typeof t.getBBox};function Vy(t){return Ny?jy(t)?function(t){var e=t.getBBox();return Fy(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Py;var i=Dy(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=t["padding-"+r];e[r]=By(o)}return e}(i),o=r.left+r.right,s=r.top+r.bottom,a=By(i.width),u=By(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=$y(i,"left","right")+o),Math.round(u+s)!==n&&(u-=$y(i,"top","bottom")+s)),!function(t){return t===Dy(t).document.documentElement}(t)){var l=Math.round(a+o)-e,c=Math.round(u+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(c)&&(u-=c)}return Fy(r.left,r.top,a,u)}(t):Py}function Fy(t,e,n,i){return{x:t,y:e,width:n,height:i}}var Hy=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Fy(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=Vy(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Uy=function(t,e){var n=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return xy(s,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),s}(e);xy(this,{target:t,contentRect:n})},zy=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new Ay,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Dy(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Hy(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Dy(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new Uy(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Xy=void 0!==Zn?new Zn:new Ay,Gy=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ly.getInstance(),i=new zy(e,n,this);Xy.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){Gy.prototype[t]=function(){var e;return(e=Xy.get(this))[t].apply(e,arguments)}}));var Wy=void 0!==My.ResizeObserver?My.ResizeObserver:Gy;function qy(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function Yy(){}function Ky(t){var e=t();if(e&&e.then)return e.then(Yy)}function Zy(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function Jy(t,e,n){const i=Zy((function(){return Ky((function(){if(!l())return qy(t.ready(),(function(){u()}))}))})),r=Zy((function(){return Ky((function(){if(!l())return qy(t.playbackEngineReady(),(function(){u()}))}))})),o=l()?n.parentElement:n,s=n.querySelector(`.${tf.VP_VIDEO_WRAPPER}`),a=nm(u,150);function u(){(function(){const{width:t,height:n}=Jd(o),i=e.get("ui.app.width"),r=e.get("ui.app.height"),s=i>0&&r>0,a=t>0&&n>0;(l()||!s||a)&&e.dispatch(((t,e)=>({type:ey,payload:{width:t,height:e}}))(t,n))})(),function(){const{width:t,height:n}=Jd(s),i=e.get("ui.player.width"),r=e.get("ui.player.height"),o=i>0&&r>0,a=t>0&&n>0;(l()||!o||a)&&e.dispatch(((t,e)=>({type:ny,payload:{width:t,height:e}}))(t,n))}()}function l(){return n.parentElement===document.body}function c({size:t,ratio:e,bottom:i}){l()&&(o.classList.toggle("vp-center","contain"===t),function(t){[].concat(["height","max-width","max-height","bottom"]).map((e=>t.style.removeProperty(e)))}(n),"contain"!==t?i>0&&uh(n,{height:`calc(100% - ${i}px)`,bottom:i/2+"px"}):uh(n,i>0?{maxWidth:`calc((100vh - ${i}px) / ${e})`,maxHeight:`calc(100vh - ${i}px)`,height:`calc(${e} * 100vw)`,bottom:i/2+"px"}:{maxWidth:`calc(100vh / ${e})`,height:`calc(${e} * 100vw)`}))}e.watch("ui.appLayout.settings",c),c(e.get("ui.appLayout.settings")),new Wy(a).observe(o),window.addEventListener("orientationchange",a),t.events.on(Nh.il,a),t.events.on(Nh.ol,a),t.events.on(Nh.Hl,a),u(),r(),i(),qy()}function Qy(t,e,n){this.constructorName="MessageApiError",this.message=t,this.name=e,this.source=n}function tg(t){return t}function eg(t){if(!t||""===t)return{};if("object"==typeof t)return t;try{return JSON.parse(t)}catch(t){return{}}}function ng(t){}Qy.prototype=new Error;let ig={captureException(t){},captureMessage(t){},captureBreadcrumb(){}},rg=ig;var og=function(t){rg=Object.assign({},ig,t)},sg=function(t,e,n="backbone",i="info"){return rg.captureBreadcrumb(t,e,n,i)};function ag(t={hidePrivateMethods:!0}){const e={},n={},i={parseMessage:eg,buildMessage:tg,logError:ng};let o,s,a={};const u={get methods(){return e},extendMethods(...t){ut.apply(void 0,[e].concat(t))},get listeners(){return a},set listeners(t){a=t},emit(t,...e){l.apply(void 0,[t].concat(e))&&d(c.apply(void 0,[t].concat(e)))},emitMethodEvent(t,e){d({method:t,value:e})},filter(t,e){e||"function"!=typeof t||(e=t,t=null),t?function(t,e){n.event=n.event||{},n.event[t]=n.event[t]||[],n.event[t].push(e)}(t,e):function(t){n.global=n.global||[],n.global.push(t)}(e)},hooks:(...t)=>ut.apply(void 0,[i].concat(t)),configureClient(t,e){o=t,s=e}};function l(...t){if(n){let e,i;if(n.global&&n.global.length)for(e=0;e<n.global.length;e++)if(i=n.global[e],!i.apply(i,t))return!1;let r=t[0];if(n.event&&n.event[r]&&n.event[r].length)for(e=0;e<n.event[r].length;e++)if(i=n.event[r][e],!i.apply(i,t))return!1}return!0}function c(t,...e){const n={event:t};return e&&void 0!==e[0]&&(n.data=e[0]),n}function d(t){if(s&&function(t=window.parent){return!(!window.postMessage||!t.postMessage)}(o)){t=i.buildMessage(t);try{o.postMessage(t,s)}catch(t){}}}return window.addEventListener("message",(function(n){if(o!==n.source)return;let s=i.parseMessage(n.data),{method:a,value:u,id:l}=s;if(!(void 0===a||"string"!=typeof a||t.hidePrivateMethods&&a.indexOf("_")>-1))try{let t=function(t,e){if(!t)return null;let n=Object.getOwnPropertyDescriptor(e,t);if(n&&"function"==typeof n.value)return n.value;if(n&&"function"==typeof n.get)return n.get;const i=t.substr(0,3),r=t.substr(3,1).toLowerCase()+t.substr(4);return n=Object.getOwnPropertyDescriptor(e,r),"get"===i&&n&&"function"==typeof n.get?n.get:"set"===i&&n&&"function"==typeof n.set?n.set:null}(a,e);if(!t)throw new Qy(`${n} is not a valid method. Valid methods are: ${function(t){return Object.keys(t).reduce(((e,n)=>{if(n.indexOf("_")>-1)return e;const i=Object.getOwnPropertyDescriptor(t,n);return"function"==typeof i.value?(e.push(n),e):("function"==typeof i.get&&e.push("get"+n.charAt(0).toUpperCase()+n.slice(1)),"function"==typeof i.set&&e.push("set"+n.charAt(0).toUpperCase()+n.slice(1)),e)}),[]).sort()}(e).join(", ")}.`,"TypeError",a);sg("API message received",s,"api"),r.resolve(t.call(n,u,l)).then((t=>d({method:a,value:null==t?u:t}))).catch(i.logError)}catch(t){i.logError(t)}}),!1),u}function ug(t){return t.account_type&&"basic"!==t.account_type&&!/_lapsed|_expired/.test(t.account_type)}var lg=self!==top,cg=function(){var t=document.createElement("video"),e={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},n={};for(var i in e)for(var r=0,o=e[i].length;r<o;r++)if(e[i][r]in t||e[i][r]in document||"on"+e[i][r].toLowerCase()in document){n[i]=e[i][r];break}return n}(),dg={ENTER:"enter",EXIT:"exit",CHANGE:"change",ERROR:"error"},hg=[],fg={};function pg(){var t=Array.prototype.slice.apply(arguments),e=t.shift();fg[e].forEach((function(e){"function"==typeof e&&e.apply(e,t)}))}function vg(t){return function(e,n){-1!==hg.indexOf(e)&&t.call(this,e,n)}}function mg(t){var e=null;if("VIDEO"===t.tagName)e=t;else{var n=t.getElementsByTagName("video");n[0]&&(e=n[0])}return e}Object.keys(dg).forEach((function(t){hg.push(dg[t]),fg[dg[t]]=[]}));var _g=null,bg=function(){},yg=[];function gg(t){var e=mg(t);if(e&&e.webkitEnterFullscreen){try{e.readyState<e.HAVE_CURRENT_DATA?e.addEventListener("loadeddata",(function n(){e.removeEventListener("loadeddata",n,!1);try{e.webkitEnterFullscreen()}catch(e){return Cg("cannot_enter_fullscreen",t)}}),!1):e.webkitEnterFullscreen(),_g=e}catch(e){return Cg("not_supported",t)}return!0}return Cg(void 0===cg.request?"not_supported":"not_enabled",t)}var wg=function(t){var e=yg[yg.length-1];e&&(t!==e.element&&t!==_g||!e.hasEntered)&&("VIDEO"===t.tagName&&(_g=t),1===yg.length&&Eg.onenter(Eg.element),e.enter.call(e.element,t||e.element),e.hasEntered=!0,pg(dg.ENTER,Eg.element))},Tg=function(){_g=null;var t=yg.pop();t&&(t.exit.call(t.element),pg(dg.EXIT,t.element),Eg.element||(yg.forEach((function(t){t.exit.call(t.element),pg(dg.EXIT,t.element)})),yg=[],Eg.onexit()))},Cg=function(t,e){if(yg.length>0){var n=yg.pop();e=e||n.element,n.error.call(e,t),Eg.onerror(e,t),pg(dg.ERROR,e,t)}},Eg={request:function(t,e,n,i){if(t=t||document.body,yg.push({element:t,enter:e||bg,exit:n||bg,error:i||bg}),void 0===cg.request)return gg(t);if(lg&&!1===document[cg.enabled])return gg(t);try{t[cg.request]()}catch(e){Cg("not_enabled",t)}},exit:function(){!document[cg.exit]&&Eg.element?Eg.element[cg.exit]():document[cg.exit]()},toggle:function(t,e,n,i){Eg.element?Eg.exit():Eg.request(t,e,n,i)},videoEnabled:function(t){if(Eg.enabled)return!0;var e=mg(t=t||document.body);return!(!e||void 0===e.webkitSupportsFullscreen)&&(e.readyState<e.HAVE_METADATA?"maybe":e.webkitSupportsFullscreen)},on:vg((function(t,e){fg[t].push(e)})),off:vg((function(t,e){var n=fg[t].indexOf(e);n>-1&&fg[t].splice(n,1)})),onenter:bg,onexit:bg,onchange:bg,onerror:bg};try{Object.defineProperties(Eg,{element:{enumerable:!0,get:function(){return _g&&_g.webkitDisplayingFullscreen?_g:document[cg.element]||null}},enabled:{enumerable:!0,get:function(){return document[cg.enabled]||!1}}})}catch(t){Eg.element=null,Eg.enabled=!1}function kg(t){const{videoObject:e,element:n}=Sg();if(e)try{Object.assign(e,t),n.textContent=JSON.stringify(e)}catch(t){}}function Sg(){const t=document.body.querySelector("script[type='application/ld+json']");if(t)try{return{videoObject:JSON.parse(t.textContent),element:t}}catch(t){}return{}}function Ag(t,e){switch(t.view){case Lh.privateLocked:throw new Qy("The video is private.","PrivacyError",e);case Lh.privatePassword:throw new Qy("The video is password-protected. The viewer must enter the password first.","PasswordError",e);case Lh.geoBlocked:throw new Qy("The video is not available in your region.","GeoBlockedError",e);case Lh.error:throw new Qy(t.message,"NotFoundError",e)}}function Ng(t){let e=[];for(let n=0;n<t.length;n++)e.push([t.start(n),t.end(n)]);return e}cg.change&&document.addEventListener(cg.change,(function(t){if(Eg.onchange(Eg.element),pg(dg.CHANGE,Eg.element),Eg.element){var e=yg[yg.length-2];e&&e.element===Eg.element?Tg():wg(Eg.element)}else Tg()}),!1),document.addEventListener("webkitbeginfullscreen",(function(t){var e=!0;if(yg.length>0)for(var n=0,i=yg.length;n<i;n++)if(mg(yg[n].element)===t.srcElement){e=!1;break}e&&yg.push({element:t.srcElement,enter:bg,exit:bg,error:bg}),Eg.onchange(t.srcElement),pg(dg.CHANGE,Eg.srcElement),wg(t.srcElement)}),!0),document.addEventListener("webkitendfullscreen",(function(t){Eg.onchange(t.srcElement),pg(dg.CHANGE,t.srcElement),Tg(t.srcElement)}),!0),cg.error&&document.addEventListener(cg.error,(function(t){Cg("not_allowed")}),!1);const Mg=()=>{};function Og(t){const e=t.events;let n,i,o,s=new ti,u=!1,l=!1,c=null,d=!1,h=null,f=null,p=!1,v=[];function m(e){i!==e&&(i=e,t.config.embed.api=e)}function _(){n&&n.emit("exitFullscreen"),t.events.halt()}function b(){var e=sh(t.config.request.cookie.volume);return 1===i?Math.round(100*e):e}function y(n,i,r,o=[]){const s=Yh[i];let a=t.config.embed[s];a||i!==Xh||(a=t.config.embed.color);let u=t.config.embed.settings[`force_${s}`];if(u||i!==Xh||(u=t.config.embed.settings.color),u&&!t.config.embed.on_site)throw new Qy(`The creator of the video has chosen to always use ${new zf(a).hex}.`,"EmbedSettingsError",r);try{const r=new zf(n);e.fire(Ah.Pa,r.hex,i),o.forEach((function(e){const n=Yh[e],i=t.config.embed[n];try{new zf(i).contrast(r).ratio}catch(t){}}))}catch(t){throw new Qy("The color should be a valid hex value.","TypeError",r)}}let g={ping:()=>t.config.video.id,notifyTimingObjectConnect(){n_(im.TIMING_OBJECT_CONNECT,t.config)},notifyTimingObjectDisconnect(){n_(im.TIMING_OBJECT_DISCONNECT,t.config)},fullscreenchange(e){t.element.classList.toggle("js-player-fullscreen-api",e);const i=!0;e?(t.events.prependOn(Nh.Mu,_),n.listeners.exitFullscreen=!0,t.events.fire(Nh.nl),t.events.fire(Nh.il,!0,i)):(t.events.off(Nh.Mu,_),n.listeners.exitFullscreen=!1,t.events.fire(Nh.rl),t.events.fire(Nh.ol,i))},on(t,e){t in Dh&&(t=Dh[t]);const i=ch(xh);if(i.indexOf(t)<0)throw new Qy(`${t} is not a valid event. Valid events are: ${i.join(", ")}.`,"TypeError","on");e&&s.on(t,e),n&&(n.listeners[t]=!0),t===xh.LOADED&&S()},off(t,e){e&&s.off(t,e),n&&(n.listeners[t]=!1)},play:()=>new r(((n,i)=>{e.once(Nh.pu,n),e.once(Nh.fu,(t=>{i(new Qy(t.message,t.name,"play"))})),Ag(t.config,"play"),e.fire(Mh.yd),e.fire(Nh.Iu)})),destroy(){e.fire(Ah.nu)},pause(){Ag(t.config,"pause"),e.fire(Mh.gd),e.fire(Nh.Ou)},loadVideo(e){const{id:i,url:r,params:o}=function(t){if(!t)return{};if(Wd(t))return{id:parseInt(t,10),params:{}};if("string"==typeof t)return 0!==t.indexOf("https://")?{}:{url:t,params:{}};if("url"in t){if(0!==t.url.indexOf("https://"))return{};const e=t.url;return delete t.url,{url:e,params:t}}if("id"in t){if(!Wd(t.id))return{};const e=t.id;return delete t.id,{id:parseInt(e,10),params:t}}return{}}(e);if(!i&&!r)throw new Qy("The video id must be an integer.","TypeError","loadVideo");if(r&&!function(t,e){return null!==t.match(new RegExp(`^https?://${e.player_url}/video/([0-9]+)`))||null!==t.match(new RegExp(`^https?://${e.vimeo_url}/([0-9]+)`))}(r,t.config))throw new Qy("The url must be a valid Vimeo url.","TypeError","loadVideo");const s=function(t,e,n,i){var r;if(e===t.video.id)return!0;const o=`^https?://${t.player_url}/video/${t.video.id}(/(config/?)?)?(\\?.*)?$`,s=`^https?://${t.player_url}/video/([0-9]+)`;if(null!=n&&n.match(new RegExp(o)))return!0;const a=Sp(n||"","s")||(null==i||null==(r=i.s)?void 0:r.length);return!(!n||null===n.match(new RegExp(s))||!a)}(t.config,i,r,o)||!dv(t.element);return s?t.loadVideoViaConfig(r||i,o).then((()=>e)).catch((()=>{throw Ag(t.config,"loadVideo"),new Qy("An error occurred loading the video.","Error","loadVideo")})):(t.loadVideoViaIframe(r||i,o,n.listeners),Mg)},unload(){t.config.view!==Lh.main&&t.config.view!==Lh.privateUnlocked||e.fire(Ah.Ra)},addCuePoint(n,i){if(n=parseFloat(n),isNaN(n)||n<0||n>t.config.video.duration)throw new Qy(`Cue point time must be positive number less than the duration of the video (${sh(t.config.video.duration)}).`,"RangeError","addCuePoint");try{const r=t.backbone.addCuePoint(n,i);return setTimeout((()=>{e.fire(Nh.qu,r)}),0),r.id}catch(t){if("CuePointsNotSupported"===t.name)throw new Qy("Cue points are not supported in the current player.","UnsupportedError","addCuePoint");throw new Qy("Unable to add cue point","InvalidCuePoint","addCuePoint")}},removeCuePoint(n){const i=t.backbone.cuePoints.filter((t=>t.id===n))[0];if(!i)throw new Qy(`Cue point ${n} was not found.`,"InvalidCuePoint","removeCuePoint");t.backbone.removeCuePoint(i),setTimeout((()=>{e.fire(Nh.Yu,i)}),0)},enableTextTrack(n,o=null){let s=("text_tracks"in t.config.request?t.config.request.text_tracks:[]).map((t=>(t.language=t.lang,t)));const a=s.some((t=>t.language.toLowerCase()===n.toLowerCase()));if(!a)throw new Qy(`There are no tracks for ${n.toUpperCase()}.`,"InvalidTrackLanguageError","enableTextTrack");const u=o?`${n}.${o}`:n,{track:l}=((t,e=[])=>{if(!t||"null"===t||0===e.length)return{track:null};const[n,i]=t.split("."),[r]=n.split(/[-_]/),o=n!==r,s=e.filter((t=>o&&t.language===n||t.language===r)).sort(((t,e)=>{const o=2*Number(t.language===r&&t.kind===i)+2*Number(t.language===n)+1*Number(t.kind===i);return 2*Number(e.language===r&&e.kind===i)+2*Number(e.language===n)+1*Number(e.kind===i)-o}));return s.length>0?{track:s[0],exactMatch:s[0].language===n&&s[0].kind===i}:{track:null}})(u,s);if(!l||o&&l.kind!==o)throw new Qy(`There are no ${o} tracks for ${n.toUpperCase()}.`,"InvalidTrackError","enableTextTrack");return e.fire(Ah.Ha,l.id),i<3?null:new r((t=>{e.once(Nh.Wu,(e=>{t({label:e.label,language:e.language,kind:e.kind})}))}))},disableTextTrack(){e.fire(Ah.Ua)},toggleFullscreen(t){const n={not_supported:{name:"UnsupportedError",msg:"Fullscreen is not supported at all or for this element."},not_enabled:{name:"Error",msg:"The request was made from an iframe that does not allow fullscreen."},not_allowed:{name:"NotAllowedError",msg:"The request failed, probably because it was not called from a user-initiated event."}};return new r(((i,r)=>{if(!Eg.element===t){const o=()=>{Eg.off("enter",o),i()},s=(e,i)=>{Eg.off("error",s);const o=n[i]||n.not_supported;r(new Qy(o.msg,o.name,(t?"request":"exit")+"Fullscreen"))};return Eg.on("enter",o),Eg.on("error",s),void e.fire(Nh.Mu)}i()}))},requestFullscreen:()=>g.toggleFullscreen(!0),exitFullscreen:()=>g.toggleFullscreen(!1),get fullscreen(){return!!Eg.element},requestPictureInPicture:()=>t.backbone.requestPictureInPicture(),exitPictureInPicture:()=>t.backbone.exitPictureInPicture(),remotePlaybackPrompt(){try{t.backbone.showExternalDisplayPicker()}catch(t){throw new Qy("Remote playback is not available.","NotFoundError","remotePlaybackPrompt")}},appendVideoMetadata:n=>new r(((i,r)=>{try{const r=a(t.backbone.chapters);t.parentUrl=n,function(t,e,n){const{duration:i,id:r,privacy:o}=t.video;if(o!==Ch&&o!==gh&&o!==kh)return;const s=function(t,e,n,i){if(e<30||0===i.length)return[];const r=[];return i.forEach(((o,s)=>{const{startTime:a,text:u}=o;if(a<e){var l;const e=null==i||null==(l=i[s+1])?void 0:l.startTime,o=`${Hh}${t}`,[c]=n.split("#"),d=`${c}#${o}=${a}`;r.push({"@type":"Clip",name:u,startOffset:a,endOffset:e,url:d})}})),r.length&&(r[r.length-1].endOffset=e),r}(r,i,e,n);kg({hasPart:s})}(t.config,n,r),e.fire(Nh.nd,n),i()}catch(t){r(new Qy((null==t?void 0:t.message)||"",(null==t?void 0:t.name)||"","appendVideoMetadata"))}})),get pictureInPicture(){return t.backbone.pictureInPictureActive},get autopause(){return!!t.config.embed.autopause},set autopause(e){t.config.embed.autopause=!!e},get chromecasting(){return!!gb.currentSession},get color(){var e;return t.config.embed.color_two?t.config.embed.color_two.replace("#",""):null==(e=t.config.embed.color)?void 0:e.replace("#","")},get colorOne(){var e;return null==(e=t.config.embed.color_one)?void 0:e.replace("#","")},get colorTwo(){var e;return t.config.embed.color_two?t.config.embed.color_two.replace("#",""):null==(e=t.config.embed.color)?void 0:e.replace("#","")},get colorThree(){var e;return null==(e=t.config.embed.color_three)?void 0:e.replace("#","")},get colorFour(){var e;return null==(e=t.config.embed.color_four)?void 0:e.replace("#","")},set color(t){y(t,Xh,"setColor")},set colorOne(t){y(t,zh,"setColorOne",[Xh,Gh])},set colorTwo(t){y(t,Xh,"setColorTwo",[zh])},set colorThree(t){y(t,Gh,"setColorThree",[zh])},set colorFour(t){y(t,Wh,"setColorFour")},get cuePoints(){return t.backbone.cuePoints.map((t=>({time:t.time,data:t.data,id:t.id})))},get currentTime(){return t.currentTime},set currentTime(n){if(n=parseFloat(n),isNaN(n)||n<0||n>t.config.video.duration)throw new Qy(`Seconds must be a positive number less than the duration of the video (${sh(t.config.video.duration)}).`,"RangeError","setCurrentTime");return e.fire(Mh.Na),t.config.embed.on_site||(t.seekingController.maxPlayedTime=n),e.fire(Ah.Na,n),e.fire(Nh.Ol),i<3?null:new r((t=>{e.once(ao.SEEKED,(({currentTime:e})=>{t(e)}))}))},get duration(){return sh(t.config.video.duration)},get ended(){return!!t.backbone.ended},get loop(){return!!t.config.embed.loop},set loop(t){e.fire(Ah.La,t)},set muted(t){e.fire(Ah.Oa,t,!0)},get muted(){return t.backbone.muted||0===b()},get paused(){return!t.backbone||!("paused"in t.backbone)||!!t.backbone.paused},get buffered(){return Ng(t.backbone.buffered)},get played(){return Ng(t.backbone.played)},get seekable(){return Ng(t.backbone.seekable)},get seeking(){return t.backbone.seeking},get playbackRate(){return t.backbone?t.backbone.playbackRate:1},set playbackRate(n){if(!t.config.embed.settings.speed)throw new Qy("Setting the playback rate is not enabled for this video.","Error","setPlaybackRate");if(isNaN(n)||n>2)throw new Qy("Playback rate should be a number below or equal to 2.","RangeError","setPlaybackRate");e.fire(Ah.eu,n)},get remotePlaybackAvailability(){return t.backbone.externalDisplayAvailable},get remotePlaybackState(){return t.backbone.externalDisplayActive?"connected":"disconnected"},get textTracks(){return(t.backbone?t.backbone.video.textTracks:[]).map((t=>({label:t.label,language:t.language,kind:t.kind,mode:t===h?"showing":"disabled"})))},get videoEmbedCode(){return t.config.video.embed_code},get videoHeight(){return t.backbone.videoHeight||t.config.video.height},get videoId(){return t.config.video.id},get videoTitle(){return t.config.video.title},get videoWidth(){return t.backbone.videoWidth||t.config.video.width},get videoUrl(){if(!t.config.video.url)throw new Qy("The URL is not available because of the videos privacy settings.","PrivacyError","getVideoUrl");return t.config.video.url},get volume(){return b()},set volume(t){if(t=parseFloat(t),1===i&&(t/=100),isNaN(t)||t<0||t>1)throw new Qy("Volume should be a number between 0 and 1.","RangeError","setVolume");f=t;var n=!0;Nl.settingVolume||0!==t?e.fire(Ah.Ma,t,n):e.fire(Ah.Oa,!0,n)},get qualities(){return t.backbone.qualities},get quality(){return t.backbone.quality},set quality(e){if(!ug(t.config.video.owner))throw new Qy("Setting the quality is not enabled for this video.","Error","setQuality");e=e.toLowerCase();const n=t.backbone.qualities.map((t=>t.id));if(!n.includes(e))throw new Qy(`${e} is not a valid quality. Valid qualities are: ${n.join(", ")}.`,"TypeError","on");t.backbone.quality=e},_loadVideo:(e,n)=>t.loadVideoViaConfig(e,n),get _like(){return!!t.config.user.liked},set _like(n){t.config.user.liked!==n&&e.fire(Nh.sl,n)},get _watchLater(){return!!t.config.user.watch_later},set _watchLater(n){t.config.user.watch_later!==n&&e.fire(Nh.al,n)},get currentChapter(){const e=t.backbone.currentChapterID;if(!e)return null;const n=a(t.backbone.chapters),i=n.findIndex((t=>e===t.id));return{startTime:n[i].startTime,title:n[i].text,index:i+1}},get chapters(){return a(t.backbone.chapters).map(((t,e)=>({startTime:t.startTime,title:t.text,index:e+1})))},_addChapter(e,n){if(e=parseFloat(e),isNaN(e)||e<0||e>t.config.video.duration)throw new Qy(`Chapter timecode must be positive number less than the duration of the video (${sh(t.config.video.duration)}).`,"RangeError","_addChapter");try{t.backbone.addChapter(e,n)}catch(t){if("ChaptersNotSupported"===t.name)throw new Qy(t.message,"UnsupportedError","_addChapter");throw new Qy("Unable to add chapter","InvalidChapter","_addChapter")}},_removeChapter(e){let n;try{n=t.backbone.chapters.getCueById(e)}catch(t){throw new Qy("Chapters are not supported in this browser.","UnsupportedError","_removeChapter")}if(!n)throw new Qy("Chapter was not found.","InvalidChapter","_removeChapter");try{t.backbone.removeChapter(n)}catch(t){if("ChaptersNotSupported"===t.name)throw new Qy("Chapters are not supported in this browser.","UnsupportedError","_removeChapter");throw new Qy("Unable to remove chapter","InvalidChapter","_removeChapter")}},_addCard(t){e.fire(Ah._addCard,t)},_removeCard(t){e.fire(Ah._removeCard,t)},_setOutro(n,i){t.config.embed.outro!==n?(e.fire(Ah._hideOutro),setTimeout((()=>{t.config.embed.outro=n,e.fire(Ah.Wa,n,i)}),400)):e.fire(Ah.Wa,n,i)},_hideOutro(){e.fire(Ah._hideOutro)},_fireEvent(...t){e.fire.apply(null,t)},_setEmbedEditor(e){t.config.embed.editor=!!e},_setLiveEventSettings(n){t.config.video.live_event&&(Object.keys(n).forEach((i=>{let r=n[i];r="object"==typeof r?r:Number(r),t.config.video.live_event.settings[i]=r,e.fire(Nh.Ul,i,r),e.fire(Lc.SETTINGS_UPDATED,i,r)})),e.fire(Nh.Hl,!1,t.config))},_setEmbedSettings(n){Object.keys(n).forEach((i=>{let r=n[i];r="object"==typeof r?r:Number(r),"badge"===i&&(r?r=o:o=t.config.embed.settings.badge),t.config.embed.settings[i]=r,e.fire(Nh.Kl,i,r)})),e.fire(Nh.Hl,!1,t.config)},_setEmbedSetting(n,i){i="object"==typeof i?i:Number(i),"badge"===n&&(i?i=o:o=t.config.embed.settings.badge),t.config.embed.settings[n]=i,e.fire(Nh.Kl,n,i),e.fire(Nh.Hl,!1,t.config)},_setCreateInteractive(n,i){t.config.embed.create_interactive=n,t.config.embed.interactive=i,e.fire(Nh.Zl,n,t.config),e.fire(Nh.Hl,!1,t.config)},_setOTTVideoMetadata(n){var i;null!=(i=t.config.request.flags)&&i.ott&&(t.ottVideoMetadata=n,e.fire(Nh.Jl,n))},_toggleDebugPanel(){e.fire(Nh.wl)},_overrideControlbarBehavior(t){e.fire(Ah._overrideControlbarBehavior,t)},_setControlbarVisibility(t){e.fire(Ah.qa,t)},get cameraProps(){const e=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!e)throw new Qy("Camera props are not available in the current player.","UnsupportedError","getCameraProps");return e.cameraProps},set cameraProps(e){const n=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!n)throw new Qy("Camera props are not available in the current player.","UnsupportedError","setCameraProps");try{n.cameraProps=e}catch(t){throw new Qy(t.message,t.name,"setCameraProps")}},get _fieldOfView(){const e=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!e)throw new Qy("Field of view is not available in the current player.","UnsupportedError","getFieldOfView");return e.fieldOfView},set _fieldOfView(e){const n=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!n)throw new Qy("Field of view is not available in the current player.","UnsupportedError","setFieldOfView");n.fieldOfView=e},get _coordinates(){const e=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!e)throw new Qy("Coordinates are not available in the current player.","UnsupportedError","getCoordinates");return e.currentCoordinates},set _coordinates(e){const n=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!n)throw new Qy("Coordinates are not available in the current player.","UnsupportedError","setCoordinates");try{n.currentCoordinates=e}catch(t){throw new Qy(t.message,"RangeError","setCoordinates")}},_setChromecastUI(t){const e=gb.currentSession;e&&Qr(t)&&e.sendMessage(pb,{action:"setCustomUIStyles",value:t})},get _controlSelectors(){return{details:`.${tf.VP_TITLE}`,sidedock:`.${tf.VP_SIDEDOCK}`,controls:`.${tf.VP_CONTROLS}`,customLogo:`.${tf.CUSTOM_LOGO}`}},get _controlAreas(){const e=t.element.offsetWidth,n=t.element.offsetHeight,i=10,r={get details(){const t=Jd(document.querySelector(".headers > h1")),e=Jd(document.querySelector(".sub-title")),n=Jd(document.querySelector(".vp-portrait")),r=Math.max(t.width,e.width)+n.width,o=Math.max(n.height,t.height+e.height);return{top:i,left:i,width:Math.max(200,r),height:Math.max(60,o)}},get sidedock(){return{top:i,left:e-i-36,width:36,height:118}},get controls(){const t=r.customLogo,o=Math.max(60,t.height);return{height:o,top:n-i-o,left:i,width:e-20}},get customLogo(){const t=document.querySelector(".custom-logo"),r=t?Jd(t):{width:0,height:0};return{top:n-i-r.height,left:e-i-r.width,width:r.width,height:r.height}}};return r},set _lowLatencyMode(e){t.backbone.lowLatencyMode=e},get _lowLatencyMode(){return t.backbone.lowLatencyMode},get _presentationDelay(){return t.backbone.presentationDelay},set _presentationDelay(e){t.backbone.presentationDelay=e},get _liveLatency(){return t.backbone.latency},get _downloadSpeed(){return t.backbone.downloadSpeed},get _backbone(){return t.backbone},addEventListener(...t){g.on.apply(g,t)},removeEventListener(...t){g.off.apply(g,t)},seekTo(t){g.currentTime=t},changeColor(t){g.color=t}};const w={addCuePoint:({time:t,data:e})=>g.addCuePoint(t,e),enableTextTrack({language:t,kind:e=null}){g.enableTextTrack(t,e)}};function T(t,e){n&&n.emit(t,e),s.fire(t,e)}const C=(t,e)=>(...n)=>{const i=e?e.apply(void 0,n):void 0;T(t,i)};function E({currentTime:t,duration:e,timeProgress:n}){return{seconds:sh(t),percent:sh(n),duration:sh(e)}}function k(t){return{playbackRate:t}}function S(){T(xh.LOADED,d?null:(d=!0,{id:t.config.video.id}))}function A(t){return c=t,N(function(t){switch(t){case"BrowserNotSupported":case"FilesNotPlayable":case"MediaSrcNotSupportedError":return new Qy("This video is not supported in this browser.","NotSupportedError");case"FileError":return new Qy("There was an error loading the files for this video.","FileError")}return new Qy("An error occurred during playback.","PlaybackError")}(c))}function N(t){let e={message:"An error occurred.",name:"Error",method:t.source};return"MessageApiError"===t.constructorName&&(e={message:t.message,name:t.name,method:t.source}),e}return function(){var t;let e=new URL(window.location.href);p=!!e.searchParams.get("fromLoadVideo"),v=(null==(t=e.searchParams.get("listeners"))?void 0:t.split(","))||[],(p||v.length)&&(e.searchParams.delete("fromLoadVideo"),e.searchParams.delete("listeners"))}(),function(){const i=t.config.embed.on_site;i&&!dv(t.element)||(m(t.config.embed.api),n=new ag({hidePrivateMethods:!i}),n.configureClient(window.parent,"*"),n.filter((function(){return window.parent!=window})),n.listeners=ch(xh).reduce(((t,e)=>J(J({},t),{},{[e]:!1})),{}),v.length?v.forEach((t=>{n.listeners[t]=!0})):(n.listeners[xh.READY]=!0,n.listeners[xh.ERROR]=!0),n.filter((t=>n.listeners[t])),e.on(Nh.ud,((t,e,i)=>{n.addAllowedActor(t,null==e?void 0:e.contentWindow,i)})))}(),function(){if(!n)return;const e=Sy({},g,w);n.extendMethods(e),n.hooks({logError(t){T(xh.ERROR,N(t))},parseMessage(t){if(!t||""===t)return{};if(Qr(t))return m(3),t;try{const e=JSON.parse(t);return m(2),e}catch(t){return m(null),T(xh.ERROR,"The Vimeo Froogaloop v1 API is no longer supported.\n Please follow the upgrade instructions here: https://goo.gl/mueGRR"),{}}},buildMessage(e){var n;null!=(n=t.config.embed)&&n.player_id&&(e.player_id=t.config.embed.player_id);try{2===i&&(e=function(t){if(t.event){for(const e in Dh)if(Dh[e]===t.event){t.event=e;break}"cuechange"===t.event&&(t.data.text=t.data.cues[0].text,t.data.html=t.data.cues[0].html,delete t.data.cues)}return JSON.stringify(t)}(e)),Qr(e)&&"ready"===e.event&&(e=JSON.stringify(e))}catch(t){}return e}})}(),e.on(ho.BUFFER_STARTED,C(xh.BUFFER_START)),e.on(ho.BUFFER_ENDED,C(xh.BUFFER_END)),e.on(ho.CUE_POINT,C(xh.CUEPOINT,(function({time:t,data:e,id:n}){return{time:t,data:e,id:n}}))),e.on(Cc,C(xh.CUE_CHANGE,(function(t,e=[]){const{language:n=null,label:i=null,kind:r=null}=t||{};return{label:i,language:n,kind:r,cues:e}}))),e.on(Nh.$u,C(xh.CHAPTER_CHANGE,(function(e){const n=a(t.backbone.chapters).findIndex((t=>e===t.id));return n>=0?{startTime:t.backbone.chapters[n].startTime,title:t.backbone.chapters[n].text,index:n+1}:null}))),e.on(Nh._u,C(xh.ENDED,(function(){return l=!1,{seconds:sh(t.config.video.duration),percent:1,duration:sh(t.config.video.duration)}}))),e.on(Nh.rn,C(xh.PAUSE,(function(e){return l=!1,{seconds:sh(e),percent:sh(e/t.config.video.duration),duration:sh(t.config.video.duration)}}))),e.on(Nh.Eu,C(xh.PLAYBACK_RATE_CHANGE,k)),e.on(Nh.Eu,C(xh.RATE_CHANGE,k)),e.on(Nh.Wu,C(xh.TEXT_TRACK_CHANGE,(function(t){h=t;const{language:e=null,label:n=null,kind:i=null}=t||{};return{label:n,language:e,kind:i}}))),e.on(Nh.bu,C(xh.VOLUME_CHANGE,(function(e){return{volume:sh(e),muted:t.backbone.muted}}))),e.on(Nh.Uu,C(xh.CONTROL_BAR_VISIBILITY_CHANGED,(function(t){return{visible:t}}))),e.on(Nh.zu,C(xh.TOAST_VISIBILITY_CHANGED,(function(t){return{visible:t}}))),e.on(Nh.Hl,(function(t){f&&setTimeout((function(){var t=!0;Nl.settingVolume||0!==f?e.fire(Ah.Ma,f,t):e.fire(Ah.Oa,!0,t)}),0),t&&S()})),e.on(Nh.hu,(function(t){const e=A(t);u&&T(xh.ERROR,e)})),e.on(Nh.il,C(xh.FULLSCREENCHANGE,(function(){return{fullscreen:!0}}))),e.on(Nh.ol,C(xh.FULLSCREENCHANGE,(function(){return{fullscreen:!1}}))),e.on(Nh.gu,C(xh.QUALITY_CHANGE,(function(t){return{quality:t}}))),e.on(Nh.$c,C(xh.AD_STARTED)),e.on(Nh.Lc,C(xh.AD_COMPLETED)),e.on(Nh.Dc,C(xh.AD_ERROR)),e.on(Nh.jc,C(xh.AD_SKIPPED)),e.on(Nh.Vc,C(xh.AD_ALL_COMPLETED)),e.on(Nh.xc,C(xh.AD_CLICKED)),e.on(Nh.Uc,C(xh.INTERACTIVE_HOTSPOT_CLICKED,(function({hotspotId:t,customPayloadData:e,actionPreference:n,currentTime:i,action:r}){return{hotspotId:t,customPayloadData:e,actionPreference:n,currentTime:i,action:r}}))),e.on(Nh.zc,C(xh.INTERACTIVE_OVERLAY_PANEL_CLICKED,(function({action:t,actionPreference:e,currentTime:n,customPayloadData:i,overlayId:r,panelId:o}){return{action:t,actionPreference:e,currentTime:n,customPayloadData:i,overlayId:r,panelId:o}}))),e.once(Nh.be,(function(){u=!0,p?(S(),function(t,e){n&&n.emitMethodEvent(t,e)}(xh.LOAD_VIDEO,t.config.video.id)):T(xh.READY),c&&(T(xh.ERROR,A(c)),c=null)})),e.on(Lc.EVENT_ENDED,C(xh.LIVE_EVENT_ENDED)),e.on(Lc.EVENT_STARTED,C(xh.LIVE_EVENT_STARTED)),e.on(Lc.STREAM_OFFLINE,C(xh.LIVE_STREAM_OFFLINE)),e.on(Lc.STREAM_ONLINE,C(xh.LIVE_STREAM_ONLINE)),e.on(po.CAMERA_CHANGE,C(xh.CAMERA_CHANGE,(function(t){return t}))),e.on(po.MOTION_END,C(xh.MOTION_END)),e.on(po.MOTION_START,C(xh.MOTION_START)),e.on(po.WEBVR_HARDWARE_AVAILABLE,C(xh.WEBVR_HARDWARE_AVAILABLE)),e.on(po.WEBVR_ENTER,C(xh.ENTER_WEBVR)),e.on(po.WEBVR_EXIT,C(xh.EXIT_WEBVR)),e.on(po.SPATIAL_UNSUPPORTED,C(xh.SPATIAL_UNSUPPORTED)),e.on(ao.PLAY,C(xh.PLAY,(function(e){return l?null:(l=!0,{seconds:sh(e),percent:sh(e/t.config.video.duration),duration:sh(t.config.video.duration)})}))),e.on(ao.PLAYING,C(xh.PLAYING,(function(){return l?{seconds:sh(t.currentTime),percent:sh(t.currentTime/t.config.video.duration),duration:sh(t.config.video.duration)}:null}))),e.on(ao.PROGRESS,C(xh.PROGRESS,(function({loaded:t,duration:e,loadProgress:n}){let r={seconds:sh(t),percent:sh(n),duration:sh(e)};return i<3&&(r.bytesLoaded=-1,r.bytesTotal=-1),r}))),e.on(ao.SEEKING,C(xh.SEEKING,E)),e.on(ao.SEEKED,C(xh.SEEKED,E)),e.on(ao.TIME_UPDATE,C(xh.TIME_UPDATE,(function({currentTime:t,duration:e,timeProgress:n}){return{seconds:sh(t),percent:sh(n),duration:sh(e)}}))),e.on(ao.LOADED_METADATA,C(xh.LOADED_METADATA)),e.on(ao.DURATION_CHANGE,C(xh.DURATION_CHANGE,(function(e){return{duration:t.backbone.duration}}))),e.on(ao.WAITING,C(xh.WAITING)),e.on(ao.LOADED_DATA,C(xh.LOADED_DATA)),e.on(ao.LOAD_START,C(xh.LOAD_START)),e.on(ao.RESIZE,C(xh.RESIZE,(function(){return{videoWidth:t.backbone.videoWidth,videoHeight:t.backbone.videoHeight}}))),e.on(ao.ENTER_PICTURE_IN_PICTURE,C(xh.ENTER_PICTURE_IN_PICTURE)),e.on(ao.LEAVE_PICTURE_IN_PICTURE,C(xh.LEAVE_PICTURE_IN_PICTURE)),e.on(vb.connected,C(xh.CHROMECAST_CONNECTED)),e.on(Nh.Ac,C(xh.REMOTE_PLAYBACK_AVAILABILITY_CHANGE,(()=>!0))),e.on(Nh.Nc,C(xh.REMOTE_PLAYBACK_AVAILABILITY_CHANGE,(()=>!1))),e.on(Nh.Mc,C(xh.REMOTE_PLAYBACK_CONNECT)),e.on(Nh.Oc,C(xh.REMOTE_PLAYBACK_DISCONNECT)),e.on(Ah.Ra,(function(){c=null,d=!1})),e.on(Nh.mc,(function(t={}){n&&(n.listeners[xh.SPACE_CHANGE]=!0,T(xh.SPACE_CHANGE,t))})),e.fire(Nh.Ec),g}var Ig=Object.prototype.hasOwnProperty,Rg=io((function(t,e){if(Oi(e)||Di(e))si(e,Pi(e),t);else for(var n in e)Ig.call(e,n)&&oi(t,n,e[n])}));const Lg=J(J({},jp),{},{CAPTIONS_ENABLED:"captions-enabled",CAPTIONS_DISABLED:"captions-disabled",CHROMECAST_CONNECTED:"chromecast-connected",CHROMECAST_DISCONNECTED:"chromecast-disconnected",DRM_KEY_SWITCH:"drm-key-switch",MEDIASESSION_PLAY:"mediasession-play",MEDIASESSION_PAUSE:"mediasession-pause",MEDIASESSION_SEEK_FORWARD:"mediasession-seekforward",MEDIASESSION_SEEK_BACKWARD:"mediasession-seekbackward",SLATE_DISPLAYED:"slate-displayed",CLICK:"click",VIDEO_DURATION_MISMATCH:"video-duration-mismatch",VIDEO_FULLSCREEN_CHANGE:"video-fullscreen-change",VIDEO_MANIFEST_LOADED:"video-manifest-loaded",VIDEO_MANIFEST_TIMEOUT:"video-manifest-timeout",VIDEO_PICTURE_IN_PICTURE_CHANGE:"video-picture-in-picture-change",VIDEO_PLAYBACK_RATE_CHANGED:"video-playback-rate-changed",VIDEO_STREAM_CHANGE:"video-stream-change",VIDEO_SWITCH_BACK_TO_AUTO:"video-switch-back-to-auto",VIDEO_SWITCH_FROM_AUTO:"video-switch-from-auto",DOWNLOAD_TIMEOUT:"video-download-timeout",AD_BUFFERING:"ad-buffering",AD_COMPLETE:"ad-complete",AD_CLICKED:"ad-clicked",AD_ERROR:"ad-error",AD_PAUSED:"ad-paused",AD_RESUMED:"ad-resumed",AD_STARTED:"ad-started",AD_SKIPPED:"ad-skipped",ENTER_WEBVR:"enter-webvr",EXIT_WEBVR:"exit-webvr"});function xg(t){return dh("av01",t)?"AV1":dh("dvh1",t)?"HEVC_DVH1":dh("hvc1",t)?"HEVC":dh("avc1",t)?"AVC":t||""}function Dg(t){return dh("mp4a",t)?"AAC":dh("opus",t)?"OPUS":t||""}function Pg(t,e){var n;return null!=t&&null!=(n=t.request)&&null!=(n=n.ab_tests)&&n[e]?t.request.ab_tests[e]:{}}function Bg(t,e){const n=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function({identifier:e,data:{request:n,response:i,extraContext:o}}){const s=i.headers;return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(i.arrayBuffer(),(function(r){if("video"===e.type){const s=t.backbone.representations.reverse(),a=s[e.stream];if(!a)return;const u=function(e,n,i,r,o,s){const a=i.headers;delete a[""];let u={};Object.keys(a).forEach((t=>{const e=a[t],n=t.replace(l,"_");u[n]=e}));let c=s.slice();return c.forEach((t=>{t.profile=String(t.profile||"")||null,t.id=String(t.id||"")||null})),{host:Mt(n.data.url),product:Wp(t.config),duration:n.data.duration,size:r.byteLength,index:e.segment,session_id:t.config.request.session,profile_id:String(o.profile||"")||null,quality:o.quality,streams:c,clip_id:t.config.video.id,headers:u,buffered:sh(gt(t.backbone.currentTime,t.backbone.buffered),2),request_id:n.data.uuid?n.data.uuid:"",ttfb:Kv()}}(e,n,i,r,a,s);let c=u;o&&(c=Rg({extraContext:o},u)),t.events.fire(Nh.Fc,{name:Lg.CHUNK_DOWNLOADED,data:c});const d={ak_reference_id:u.headers.akamai_grn||null,akamai_edge_ip:u.headers.akamai_request_bc||null,akamai_request_bc:u.headers.akamai_request_bc||null,content_length:u.headers.content_length||null,content_type:u.headers.content_type||null,x_cache:u.headers.x_cache||null,x_cache_hits:u.headers.x_cache_hits||null};u.headers=d,Pg(t.config,"chunk_logging").group&&t.config.request.urls.fresnel_chunk_url&&function(t,e,n){const i=Date.now(),r=[{uuid:Ot(),created_at:i,event:{name:"chunk_downloads",version:5,ts_ms:i,fields:e},tracker:{name:"vimeo-player",version:n}}];new Vp(t).logRequestPromiseWithUrl(t,JSON.stringify(r),!0)}(t.config.request.urls.fresnel_chunk_url+"?beacon=1",u,Bb(t.config)),j+=r.byteLength,F=u}"akamai-grn"in s&&(I=s["akamai-grn"]),function({headers:t,url:e}){const n=ov(t);n===cp.CacheMiss?R={url:e,edge:!1,tier1:!1,tier2:!1}:n===cp.MidCacheHit?R={url:e,edge:!1,tier1:!0,tier2:!1}:n===cp.EdgeCacheHit&&(R={url:e,edge:!0,tier1:!0,tier2:!1})}(i);let a={};I&&(a.akamai_reference_id=I),a.manifest_load_durations=t.backbone.manifestLoadDurations,a.successful_segment_count=t.backbone.successfulSegments.length,a.failed_segment_count=t.backbone.failedSegments.length,x=a}))}));let i,o,s;const u=new Zn,l=new RegExp("-","g");let c,d=null,h=null,f=!1,p=!1,v=!1,m="auto",_={},b={},y=null,g=null,w=null,T=[],C=null,E={},k=!1,S=!1,A=!1,N=0,M=0,O=0,I=null,R=null,L=!1,x=null,D=null,P=null,B=!1,$=!1,j=0,V=0,F=null;function H(){const e=u.get(t.backbone.videoElement);e?({hh:o,fh:s}=e):(s=new $p,o=new zp(t.backbone.videoElement,z),U(),u.set(t.backbone.videoElement,{hh:o,fh:s}))}function U(){const e=s;o.customizeHooks({bufferTracker:e,videoBufferCheck(){t.events.on(ho.BUFFER_STARTED,(()=>{f&&(B||L||(L=!0,e.trackBufferStart(o.logBufferStart,{lower_profile_available:t.backbone.isLowerProfileAvailable})))})),t.events.on(ho.BUFFER_ENDED,(()=>{f&&L&&(L=!1,e.trackBufferEnd(o.logBufferEnd,{cdn_data:R}),e.resetLastBufferTime())}))},addEventData(t){const e=$;switch($=!1,t){case Lg.VIDEO_START_TIME:return x;case Lg.VIDEO_SEEK:const t=D;return D=null,t;case Lg.VIDEO_PLAYED:case Lg.VIDEO_PAUSED:return{api_call:e}}return null},customMinuteTracker:{shouldCount:()=>{var e;return t.backbone.isLive()&&(null==(e=t.config.video.live_event)?void 0:e.dvr)&&!t.backbone.atLiveEdge},onCount:t=>{V=t}}}),o.initHooks()}function z(n,r={}){(function(e){var n,i,r;switch(e){case Lg.VIDEO_SEEK:case Lg.VIDEO_SEEKED:return(null==(n=t.config.embed)?void 0:n.loop)||(null==(i=t.config.embed)||null==(i=i.settings)?void 0:i.background);case Lg.VIDEO_PLAYBACK_RATE_CHANGED:return null==(r=t.config.video.live_event)?void 0:r.low_latency;case Lg.VIDEO_PLAYBACK_ERROR&&(null==e?void 0:e.error_type)===ho.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED:return o_(.1);default:return!1}})(n)||(r=Object.assign(o?o.globalProperties():{},Object.assign(function(){var n,i,r,o;const s={autoplay:1===t.config.embed.autoplay,background:!!t.config.embed.settings.background,clip_id:t.config.video.id,context:t.config.embed.context,device_pixel_ratio:window.devicePixelRatio||1,drm:!!t.config.request.drm,embed:!t.config.embed.on_site,is_mod:!!t.config.user.mod,is_spatial:!(!Se.spatialPlayback||!t.config.video.spatial),looping:!!t.config.embed.loop,owner_id:null==(n=t.config.video)||null==(n=n.owner)?void 0:n.id,product:Wp(t.config),referrer:t.config.request.referrer,session_id:t.config.request.session,version:Bb(t.config),version_backend:t.config.request.build.backend,viewer_id:null==(i=t.config.user)?void 0:i.id,viewer_team_id:null==(r=t.config.user)?void 0:r.team_id,viewer_team_origin_user_id:null==(o=t.config.user)?void 0:o.team_origin_user_id,vuid:bv("vuid"),fps:t.config.video.fps};var a;return t.config.video.owner&&(s.account_type=t.config.video.owner.account_type),t.config.embed.api&&(s.api_version=t.config.embed.api),t.config.embed.app_id&&(s.app_id=String(t.config.embed.app_id)),t.config.video.privacy&&(s.privacy=t.config.video.privacy),e.get(Ib)&&(s.live_session_id=null==(a=t.config.video.live_event)?void 0:a.id),s}(),function(){var e,n;const i=t.backbone.video?t.backbone.video.currentFile:{},r=function(){const e={},n=Tt(),i=od("asc"),r="MediaSourceScanner"===t.backbone.currentScannerName,o="HTMLScanner"===t.backbone.currentScannerName,s="HLSLiveScanner"===t.backbone.currentScannerName;let u=[];o&&(u=Mn(t.config,"request.files.progressive")||Mn(t.config,"request.files.hls")||[]),r&&(u=Mn(t.config,"request.files.dash.streams",[])),s&&(u=t.backbone.video.currentFile.mime===Sh.dashMpd?Mn(t.config,"request.files.dash.streams",[]):Mn(t.config,"request.files.hls.streams",[]));const l=a(u).sort(i).map((t=>t.profile));let c=-1,d=0,h=null;if(Object.keys(b).forEach((t=>{const e=l.indexOf(parseInt(t,10));e>c&&(c=e);const i=b[t].reduce(((t,e)=>((e.end||n)-e.start)/1e3+t),0);i>d&&(d=i,h=t)})),e.highest_profile=l[c],e.highest_available_profile=l[l.length-1],e.most_used_profile=h,(r||s)&&T){e.max_speed=Math.round(Math.max.apply(Math,et(T)))/1e3,e.min_speed=Math.round(Math.min.apply(Math,et(T)))/1e3;const t=T.reduce(((t,e)=>t+e),0);e.average_speed=Math.round(t/T.length)/1e3}return e}();let{mime:o=Sh.h264,metadata:{profile:s=null}={}}=i,u=!1,l=!1;switch(o){case Sh.dash:0===i.restrictedStreamIndexes.length&&(u=!0),Mn(t.config,"request.files.dash.separate_av")&&(l=!0),s=_?_.profile:null;break;case Sh.hls:u=!0}let c={audio_bitrate:t.backbone.getBitrateAtTime(t.backbone.currentTime,"audio","average")/1e3,audio_provenance:X(),auto:u,average_speed:r.average_speed||0,cdn:i.metadata?i.metadata.cdn:"akamai",delivery:"live"!==Rh[o]?Rh[o]:"dash",display:t.expose.pictureInPicture?"pip":t.expose.fullscreen?"fs":t.backbone.videoElement.webkitCurrentPlaybackTargetIsWireless?"airplay":null,dropped_frame_percent:O,event_time:d+Et(h),fullscreen:S,picture_in_picture:A,highest_available_profile:r.highest_available_profile?String(r.highest_available_profile):null,highest_profile:r.highest_profile?String(r.highest_profile):null,max_speed:isFinite(r.max_speed)?r.max_speed:0,mime:i.mime||null,min_speed:isFinite(r.min_speed)?r.min_speed:0,most_used_profile:r.most_used_profile?String(r.most_used_profile):null,profile_id:s?String(s):null,codec:xg(null==t.backbone.getCurrentStream||null==(e=t.backbone.getCurrentStream("video"))?void 0:e.codecs),audio_codec:Dg(null==t.backbone.getCurrentStream||null==(n=t.backbone.getCurrentStream("audio"))?void 0:n.codecs),quality:_?_.quality:null,quality_downswitch_count:M,quality_upswitch_count:N,separate_av:l,target_profile_id:P,video_bitrate:t.backbone.getBitrateAtTime(t.backbone.currentTime,"video","average")/1e3,video_duration:sh(t.config.video.duration)};if(t.backbone.isLive()){var f;void 0!==t.backbone.latency&&(c.latency=t.backbone.latency),void 0!==t.backbone.lowLatencyMode&&(c.is_low_latency=t.backbone.lowLatencyMode);const e=!(null==(f=t.config.video.live_event)||!f.dvr);c.dvr=e,e&&(c.in_dvr_mode=e&&!t.backbone.atLiveEdge,c.dvr_minutes_watched=V)}if(t.config.video.ecdn){const e=t.config.video.ecdn.ecdn_provider,{ecdnBytesByCdn:n,ecdnBytesPeered:i,ecdnPeers:r}=uv(e);c.ecdn=!0,c.ecdn_provider=e,c.ecdn_bytes_via_cdn=n,c.ecdn_bytes_via_peering=i,c.ecdn_peers=r}return c}(),function(){let e={};if(t.config.request.ab_tests)for(const n in t.config.request.ab_tests){const i=t.config.request.ab_tests[n];e[`${n}_test`]=1,e[`${n}_group`]=i.group;for(const t in i.data)e[`${n}_data_${t}`]=i.data[t]}return J(J({},e),{},{ab_tests:t.abTests})}()),r),r.name=n,t.events.fire(Nh.Fc,{name:n,data:r}),i.log(r).catch((t=>{})))}function X(){if(!t.config.request.audio_tracks)return null;let e=t.backbone.audioTracks.find((t=>!!t.active));if(!e)return null;if(e.provenance)return e.provenance;const n=t.config.request.audio_tracks.filter((t=>t.language===e.language));return 1===n.length?n[0].provenance:null}function G(t,e={final:!0},n=null){const i={error_type:t,error_reason:n};o.handleExternalError(i,e)}h=Ct(),d=t.config.request.timestamp,i=new Vp(function(){const e=`?beacon=1&session-id=${t.config.request.session}`;return t.config.request.urls.fresnel+e}()),t.events.on(Nh.hu,G),t.events.on(Ah.Ra,(function(){k=!1})),t.events.on(Ah.Na,(function(){B=!0})),t.events.on(Nh.il,(function(){S=!0,z(Lg.VIDEO_FULLSCREEN_CHANGE)})),t.events.on(Nh.ol,(function(){S=!1,z(Lg.VIDEO_FULLSCREEN_CHANGE)})),t.events.on(ao.ENTER_PICTURE_IN_PICTURE,(function(){A=!0,z(Lg.VIDEO_PICTURE_IN_PICTURE_CHANGE)})),t.events.on(ao.LEAVE_PICTURE_IN_PICTURE,(function(){A=!1,z(Lg.VIDEO_PICTURE_IN_PICTURE_CHANGE)})),t.events.on(Nh.Hl,(function(){d=t.config.request.timestamp,h=Ct(),f=!1,p=!1,v=!1,m="auto",_={},b={},y=null,g=null,w=null,T=[],C=null,E={},k=!1,S=!1,N=0,M=0,O=0,R=null,P=null,j=0,V=0,o&&(o.reset(),U())})),t.events.on(Nh.ku,(function(){D={seek_type:"nudge"}})),t.events.on(Nh.ju,(function(t){const e=null==t?void 0:t.seekType;D={seek_type:e}})),t.events.on(Nh.Du,(function(t){D={seek_type:`chapter-${t}`}})),t.events.on(Nh.Gc,(function(t){D={seek_type:t.type}})),t.events.on(Nh.Xc,(function(t){D={seek_type:t.type,seek_action:t.action}})),t.events.on(gc,(function(){k||gb.isCastConnected||(t.performDelegateAction(Wb,((t,e={})=>{k=!0,c.then((()=>o.logStartRequest())).catch((()=>{}))})),Pg(t.config,"chunk_logging").group&&t.config.request.urls.fresnel_manifest_url&&function(t,e,n,i){const r=Date.now(),o=[{uuid:Ot(),created_at:r,event:{name:"session_manifest",version:1,ts_ms:r,fields:{sessionID:e,manifest:n}},tracker:{name:"vimeo-player",version:i}}];new Vp(t).logRequestPromiseWithUrl(t,JSON.stringify(o),!0)}(t.config.request.urls.fresnel_manifest_url+"?beacon=1",t.config.request.session,t.backbone.manifest,Bb(t.config)))})),t.events.on(Nh.fl,(function(t){t===xb&&z(Lg.SLATE_DISPLAYED,{slate_type:xb})})),t.events.on(Nh.Eu,(function(t,e){z(Lg.VIDEO_PLAYBACK_RATE_CHANGED,{previous_playback_rate:e})})),t.events.on(Ah.xa,(function(e){t.backbone.video.currentFile.mime===Sh.dash&&("auto"===e||p?"auto"===e&&p&&!v&&(z(Lg.VIDEO_SWITCH_BACK_TO_AUTO,{quality:m,auto:1}),v=!0):(z(Lg.VIDEO_SWITCH_FROM_AUTO,{quality:e,auto:0}),p=!0),m=e)})),t.events.on(Ah.Ha,(function(t){C!==t&&(C=t,z(Lg.CAPTIONS_ENABLED,{captions_id:String(t)}))})),t.events.on(Ah.Ua,(function(){C&&(C=null,z(Lg.CAPTIONS_DISABLED))})),t.events.on(vb.connected,(function(){z(Lg.CHROMECAST_CONNECTED)})),t.events.on(vb.disconnected,(function(){z(Lg.CHROMECAST_DISCONNECTED)})),t.events.on(ho.STREAM_CHANGE,(function(t,e,n,i){var r;_=t;const o=t.profile?t.profile:t.id,s=Tt();if(b[o]=b[o]||[],y){const t=b[y].length-1;b[y][t]&&(b[y][t].end=s)}g&&(n[e].bitrate>g?N+=1:M+=1),b[o].push({start:s}),E[o]={bitrate:n[e].bitrate,width:n[e].width,height:n[e].height};let a={previous_audio_bitrate:w/1e3,previous_video_bitrate:g/1e3,previous_profile_id:String(y),reason:null==i?void 0:i.reasonForSwitch};o.toString()===(null==(r=F)?void 0:r.profile_id)&&(F.headers.akamai_request_bc||F.headers.x_cache)&&(a.cache_hit=ov(F.headers)),z(Lg.VIDEO_STREAM_CHANGE,a),y=o,g=n[e].bitrate,w=n[e].audioBitrate})),t.events.on(ho.STREAM_TARGET_CHANGE,(function(t){t&&(P=String(t.profile||"")||null)})),t.events.on(ao.PLAYING,(function(){B=!1})),t.events.once(Nh.Cu,(function(){f=!0})),t.events.on(Nh.Rc,(function(){z(Lg.AD_BUFFERING)})),t.events.on(Nh.Lc,(function(){z(Lg.AD_COMPLETE)})),t.events.on(Nh.xc,(function(){z(Lg.AD_CLICKED)})),t.events.on(Nh.Dc,(function(t){z(Lg.AD_ERROR,{error_type:t.errorType,error_reason:t.errorReason})})),t.events.on(Nh.Pc,(function(){z(Lg.AD_PAUSED)})),t.events.on(Nh.Bc,(function(){z(Lg.AD_RESUMED)})),t.events.on(Nh.$c,(function(t){z(Lg.AD_STARTED,{startup_duration:t.time?sh(t.time/1e3,2):null})})),t.events.on(Nh.jc,(function(){z(Lg.AD_SKIPPED)})),t.events.on(Nh.vu,(function(){Se.iPhone&&o.setDisplayContext(1)})),t.events.on(Nh.mu,(function(){Se.iPhone&&o.setDisplayContext(0)})),t.events.on(ho.DROPPED_FRAMES,(function(t){let e=t.dropped/t.total*100;O=Math.round(100*e)/100})),t.events.on(ho.BANDWIDTH,(function({speed:t}){T.push(t),T.length>500&&T.shift()})),t.events.on(ho.MANIFEST_TIMEOUT,(function(){z(Lg.VIDEO_MANIFEST_TIMEOUT)})),t.events.on(ho.MANIFEST_LOADED,(function(){z(Lg.VIDEO_MANIFEST_LOADED)})),t.events.on(ho.DOWNLOAD_END,n),t.events.on(ho.DOWNLOAD_TIMEOUT,(function(){z(Lg.DOWNLOAD_TIMEOUT)})),t.events.on(ho.DRM_KEY_SWITCH,(function(){z(Lg.DRM_KEY_SWITCH)})),t.events.on(ho.SCANNER_CHANGE,(function(){R=null})),t.events.on(ho.AV_DURATION_MISMATCH,(function(t){z(Lg.VIDEO_DURATION_MISMATCH,{duration_difference:Math.round(100*t)/100})})),t.events.on(ho.QUOTA_EXCEEDED_ERROR,(function({buffered:t}){let e={error_type:ho.QUOTA_EXCEEDED_ERROR};e.buffered=sh(gt(0,t),2),e.bytes_loaded=j,z(Lg.VIDEO_PLAYBACK_ERROR,e)})),t.events.on(ho.DROPPED_FRAME_PERCENT_EXCEEDED,(function(){let t={error_type:ho.DROPPED_FRAME_PERCENT_EXCEEDED};z(Lg.VIDEO_PLAYBACK_ERROR,t)})),t.events.on(ho.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,(function({incompatibleStreams:t,incompatibleStreamsAttributes:e}){const n=["codecs","bitrate","framerate","quality","width","height","mime_type"];t.forEach(((t,i)=>{const r=n.reduce(((e,n)=>(e.push(t[n]),e)),[]).concat(e[i].join(",")).join("|"),o={error_type:ho.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,error_reason:r};z(Lg.VIDEO_PLAYBACK_ERROR,o)}))})),t.events.on(vo.MEDIASESSION_PLAY,(function(){z(Lg.MEDIASESSION_PLAY)})),t.events.on(vo.MEDIASESSION_PAUSE,(function(){z(Lg.MEDIASESSION_PAUSE)})),t.events.on(vo.MEDIASESSION_SEEK_FORWARD,(function(){z(Lg.MEDIASESSION_SEEK_FORWARD)})),t.events.on(vo.MEDIASESSION_SEEK_BACKWARD,(function(){z(Lg.MEDIASESSION_SEEK_BACKWARD)})),t.events.on(vo.MEDIASESSION_SEEK_TO,(function(){z(Lg.MEDIASESSION_SEEK_TO)})),t.events.on(Mh.Na,(function(){D={seek_type:"api"}})),t.events.on(Mh.yd,(function(){$=!0})),t.events.on(Mh.gd,(function(){$=!0})),t.events.on(po.WEBVR_ENTER,(function(){z(Lg.ENTER_WEBVR,!0)})),t.events.on(po.WEBVR_EXIT,(function(){z(Lg.EXIT_WEBVR,!0)})),t.events.on(Lc.STALL_JUMP,(function({msg:t}){G("livestall",{final:!1},t)})),t.events.on(Lc.LOW_LATENCY_FALLBACK,(function({msg:t}){G("livefallback",{final:!1},t)})),c=new r((e=>{var n;null!=(n=t.backbone)&&n.video&&e(),t.events.on(yc,e)})),c.then(H).catch((()=>{})),t.events.on(Nh.sc,H)}function $g(t){let e,n,i=t.config.ott||{};const o=i.analytics_url||"https://collector.vhx.tv/events.gif",s=new Vp(o),a=nm((function(){c("timeupdate")}),1e4,{leading:!1}),u=nm((function(){c("seeking")}),500);function l(){i=t.config.ott||{},n=!1,e=!1}function c(n,r){(r=Object.assign({},r,{name:i.video_title,user_id:i.viewer_user_id,user_email:i.viewer_user_email,site_id:i.site_id,user_agent:navigator.userAgent,url:top===self?window.location.href:document.referrer,referrer:t.config.request.referrer,session_id:t.config.request.session,device:"html5",device_id:null,collection_id:i.collection_id,product_id:i.product_id,platform:i.platform,platform_id:null,platform_version:i.platform_version},{type:"video",video_id:i.video_id,current_src:t.backbone.currentFile.src,current_subtitle:"none",current_type:i.video_content_type,duration:i.video_duration,is_drm:t.config.request.drm?1:0,is_fullscreen:e?1:0,is_trailer:i.is_trailer?1:0,is_chromecast:gb.isCastConnected?1:0,is_live:t.config.video.live_event?1:0,seconds:10,timecode:t.currentTime})).name=n,void 0===r.timestamp&&(r.timestamp=Math.round(.001*Date.now()));const a=Nt(o,r);return s.logRequestPromiseWithUrl(a,{},!0,"GET").catch((t=>{}))}function d(){t.events.on(ao.ENDED,h),t.events.on(ao.ERROR,f),t.events.on(ao.PAUSE,p),t.events.on(ao.PLAY,v),t.events.on(ao.TIME_UPDATE,a),t.events.on(ao.SEEKING,u),t.events.on(ao.SEEKED,m),t.events.on(ao.WAITING,_),t.events.on(Nh.il,b),t.events.on(Nh.ol,y),t.events.on(Nh.Lc,g),t.events.on(Nh.xc,w),t.events.on(Nh.Dc,T),t.events.on(Nh.$c,C),t.events.on(Nh.jc,E)}function h(){a.cancel(),c("ended")}function f(){a.cancel(),c("error")}function p(){a.cancel(),c("pause")}function v(){if(!n)return n=!0,void c("firstplay");c("play")}function m(){u.cancel(),c("seeked")}function _(){c("waiting")}function b(){e=!0}function y(){e=!1}function g(){c(Lg.AD_COMPLETE)}function w(){c(Lg.AD_CLICKED)}function T(){c(Lg.AD_ERROR)}function C(){c(Lg.AD_STARTED)}function E(){c(Lg.AD_SKIPPED)}t.events.on(Nh.Hl,l),l(),t.config.ott?d():new r((e=>{t.ottVideoMetadata?e():t.events.on(Nh.Jl,(t=>{e()}))})).then((()=>{i=t.ottVideoMetadata,d()})).catch((t=>{}))}const jg=function(t){return(e,...n)=>(n.forEach((n=>{for(const i in n){const r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,Object.assign(r,t))}})),e)}({enumerable:!0,configurable:!0,writeable:!1}),Vg="ad-buffering",Fg="ad-complete",Hg="ad-click",Ug="ad-skipped",zg="all-ads-completed",Xg="ad-error",Gg="ad-started",Wg="ads-manager-loaded",qg="content-pause-requested",Yg="content-resume-requested";function Kg(t,e){const n=new ti;let i,r,o,s,a,u,l=!1,c=1,d=!1;function h(){return Se.iOS?e.videoPlayer.videoElement:e.videoPlayer}function f(){s=new u.AdsRequest,e.adUrl&&(s.adTagUrl=e.adUrl),s.linearAdSlotWidth=e.width.linear,s.linearAdSlotHeight=e.height.linear,s.nonLinearAdSlotWidth=e.width.nonlinear,s.nonLinearAdSlotHeight=e.height.nonlinear,s.setAdWillAutoPlay(e.autoplay),s.setAdWillPlayMuted(e.muted),r.requestAds(s)}function p(t){const e=new u.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.uiElements=[],e.enablePreloading=!0,o=t.getAdsManager(h(),e);const i=d&&a?0:1;o.setVolume(i),n.fire(Wg),o.addEventListener(u.AdErrorEvent.Type.AD_ERROR,A),o.addEventListener(u.AdEvent.Type.CONTENT_PAUSE_REQUESTED,y),o.addEventListener(u.AdEvent.Type.CONTENT_RESUME_REQUESTED,g),o.addEventListener(u.AdEvent.Type.AD_BUFFERING,w),o.addEventListener(u.AdEvent.Type.STARTED,T),o.addEventListener(u.AdEvent.Type.COMPLETE,C),o.addEventListener(u.AdEvent.Type.CLICK,E),o.addEventListener(u.AdEvent.Type.SKIPPED,k),o.addEventListener(u.AdEvent.Type.ALL_ADS_COMPLETED,S)}function v(){e.videoPlayer.pause(),d=!0,a=!1,f()}function m(){e.videoPlayer.volume=0,e.videoPlayer.muted=!0;const t=e.videoPlayer.play();void 0!==t&&t.then(_).catch(b)}function _(){e.videoPlayer.pause(),d=!0,a=!0,f()}function b(){e.videoPlayer.volume=1,e.videoPlayer.muted=!1,d=!1,a=!1,f()}function y(t){n.fire(qg,t)}function g(t){n.fire(Yg,t)}function w(t){n.fire(Vg,t)}function T(t){n.fire(Gg,t)}function C(t){n.fire(Fg,t)}function E(t){o.pause(),n.fire(Hg,t)}function k(t){n.fire(Ug,t)}function S(t){n.fire(zg,t)}function A(t){n.fire(Xg,t.getError()),o&&o.destroy()}const N={isAutoPlayAllowed:()=>d,start:(t,e)=>(l||(i.initialize(),l=!0),o.init(t,e,u.ViewMode.NORMAL),o.start()),stop:()=>o.stop(),pause:()=>o.pause(),play:()=>o.resume(),skip:()=>o.skip(),resize:(t,e,n)=>n?o.resize(t,e,u.ViewMode.FULLSCREEN):o.resize(t,e,u.ViewMode.NORMAL),destroy(){n.off(),o.destroy(),r.destroy(),i.destroy()},get volume(){return pt(o.getVolume())},set volume(t){c=ft(t),o.setVolume(c)},get muted(){return 0===o.getVolume()},set muted(t){t?o.setVolume(0):o.setVolume(c)},get remainingTime(){return o.getRemainingTime()},setContentComplete(){r&&r.contentComplete()},on(t,e){return n.on(t,e),this},off(t,e){return n.off(t,e),this}};return function(t,e,n){if(document.getElementById(t))n&&n();else{const e=document.createElement("script");e.id=t,e.src="https://imasdk.googleapis.com/js/sdkloader/ima3.js",e.onload=()=>{n&&n()},document.getElementsByTagName("body")[0].appendChild(e)}}("vp-ima-sdk",0,(function(){u=google.ima,i=new u.AdDisplayContainer(t,h()),r=new u.AdsLoader(i),r.addEventListener(u.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,p,!1),r.addEventListener(u.AdErrorEvent.Type.AD_ERROR,A,!1),function(){const t=e.videoPlayer.play();void 0!==t&&t.then(v).catch(m)}()})),jg(this,N)}function Zg(t,e){const n=new ti;let i,r,o,s,a,u,l,c,d,h;function f(){var e,n;t.events.on(ao.ERROR,k),t.events.on(gc,S),t.events.on(lo.ACTIVATED,E),i=document.querySelector(`.${tf.ADS_WRAPPER}`),i||(i=document.createElement("div"),i.classList.add(tf.ADS_WRAPPER),i.innerHTML=`\n                <div class="${tf.ADS_TAG} hidden">\n                    <span class="${tf.ADS_COUNTDOWN}"></span>\n                </div>\n            `,document.querySelector(".player").appendChild(i)),r=i.querySelector(`.${tf.ADS_TAG}`),o={adCode:t.config.request.ads.adcode||null,adUnit:t.config.request.ads.adunit||null,adUrl:t.config.request.ads.adurl||null,autoplay:Boolean(null==(e=t.config)||null==(e=e.embed)?void 0:e.autoplay),muted:Boolean(null==(n=t.config)||null==(n=n.embed)?void 0:n.muted),videoPlayer:t.backbone,width:{linear:488,nonlinear:488},height:{linear:252,nonlinear:150}},a=new Kg(i,o),a.on(Wg,(()=>{a.on(Vg,v),a.on(Fg,_),a.on(Hg,m),a.on(Xg,b),a.on(Gg,y),a.on(Ug,g),a.on(zg,w),a.on(qg,T),a.on(Yg,C),t.events.on(ao.ENDED,N),t.store.watch("ui.player.width",x),t.events.on(Nh.il,x,!0),t.events.on(Nh.ol,x,!1),t.events.fire(Nh.vu),a.isAutoPlayAllowed()&&L()}))}function p(){r&&(I(),r=null),a&&(a.destroy(),a=null),l&&(clearInterval(l),l=null),i=null,o={},s=null,u=!1,c=!1,d=!1,h=!1,t.events.off(gc,S),t.events.off(Nh.il,x),t.events.off(Nh.ol,x),t.events.off(lo.ACTIVATED,E),t.events.off(ao.ENDED,N),t.events.off(ao.ERROR,k),t.events.off(ao.PLAYING,A),t.store.unwatch("ui.player.width",x)}function v(){c&&t.events.fire(Nh.Rc)}function m(){t.events.fire(Nh.xc)}function _(){Se.iPhone&&t.backbone.addVideoEventListeners(),l&&clearInterval(l),c=!1,t.events.fire(Nh.Lc)}function b(e){const n={errorType:e.o,errorReason:e.l};t.events.fire(Nh.Dc,n),"adPlayError"===n.errorType&&t.events.fire(Nh.mu)}function y(e){Se.iPhone&&t.backbone.removeVideoEventListeners();let n=e.getAd();const r=n.getTraffickingParameters();n.isLinear()&&"0"!==r.ad&&(l=setInterval((()=>{let t="AD "+(t=>{if(t<0)return"00:00";let e=Math.floor(t/60),n=Math.round(t%60);return e=e<10?"0"+e:e,n=n<10?"0"+n:n,e+":"+n})(a.remainingTime);i.querySelector(`.${tf.ADS_COUNTDOWN}`).innerHTML=t}),1e3),setTimeout(O,1e3)),c=!0;let o={type:n.isLinear()?"linear":"nonlinear"};s&&(o.time=Date.now()-s,s=null),t.events.fire(Nh.$c,o)}function g(e){t.events.fire(Nh.jc,e)}function w(e){u=!0,Se.iPhone||p(),t.events.fire(Nh.Vc,e)}function T(){t.events.fire(Nh.vu),s=Date.now(),h=!0,d||(t.backbone.paused?t.events.once(ao.PLAYING,A):t.backbone.pause())}function C(){I(),t.events.fire(Nh.mu),Se.iPhone&&u&&a.destroy(),d||(t.events.off(ao.PLAYING,A),M())}function E(){p()}function k(t){t&&("NotAllowedError"===t.name||t.name)}function S(){}function A(){t.backbone.pause()}function N(){d=!0,a.setContentComplete()}function M(){h=!1,t.backbone.play()}function O(){r=i.querySelector(`.${tf.ADS_TAG}`),r.classList.remove("hidden"),r.removeAttribute("hidden")}function I(){r.classList.add("hidden"),r.setAttribute("hidden","")}function R(){const t=e.getBoundingClientRect();return{height:t.height,width:t.width}}function L(){const{width:e,height:n}=R();try{a.start(e,n)}catch(e){d&&t.events.fire(Nh.Lc),h&&M()}}function x(t){const{width:e,height:n}=R();a.resize(e,n,t)}const D={pause:()=>(t.events.fire(Nh.Pc),a.pause()),play:()=>(t.events.fire(Nh.Bc),L(),a.play()),get volume(){return a.volume},set volume(t){a.volume=t},get muted(){return a.muted},set muted(t){a.muted=t},events:n};return p(),f(),t.events.on(Nh.Hl,(()=>{p(),f()})),D}function Jg(t,e,n,i){if(!We(t))return t;for(var r=-1,o=(e=Sn(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var u=An(e[r]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=s){var c=a[u];void 0===(l=i?i(c,u,a):void 0)&&(l=We(c)?c:_i(e[r+1])?[]:{})}oi(a,u,l),a=a[u]}return t}function Qg(t,e){return null!=t&&e in Object(t)}function tw(t,e){return function(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=Nn(t,s);n(0,s)&&Jg(o,Sn(s,t),a)}return o}(t,e,(function(e,n){return function(t,e){return null!=t&&function(t,e,n){for(var i=-1,r=(e=Sn(e,t)).length,o=!1;++i<r;){var s=An(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&bi(r)&&_i(s,r)&&(Ie(t)||di(t))}(t,e,Qg)}(t,n)}))}var ew=De?De.isConcatSpreadable:void 0;function nw(t){return Ie(t)||di(t)||!!(ew&&t&&t[ew])}function iw(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=nw),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?iw(a,e-1,n,i,r):Yi(r,a):i||(r[r.length]=a)}return r}function rw(t){return null!=t&&t.length?iw(t,1):[]}var ow=function(t){return zr(Vr(t,void 0,rw),t+"")}((function(t,e){return null==t?{}:tw(t,e)}));const sw="markers",aw="dropped_frames",uw="total_frames",lw="bandwidth",cw="streams",dw="files",hw="video_dims",fw="min_bandwidth",pw="max_badwidth",vw="buffer_occupancy",mw="live_latency",_w="scanner",bw="vr_headset",yw=["clip_id","profile_id","player_size",aw,uw,lw,sw,cw,dw,hw,fw,pw,vw,mw,_w,bw];let gw=function(){function t(t){this.Bd=t,this.ph={},this.Un=null,this._h(),this.bh(),this.yh(),this.gh()}var e=t.prototype;return e.reset=function(){this._h(),this.gh(),this.Bd.events.fire(Nh.Nl)},e.wh=function(t,e){return this.ph[t]=[e],this.Bd.events.fire(Nh.Nl),this.ph[t]},e.Th=function(t,e){return this.ph[t].push(e),this.ph[t].length>300&&this.ph[t].splice(0,25),this.Bd.events.fire(Nh.Nl),this.ph[t]},e.getCurrent=function(t){return this.ph[t].slice(-1)[0]},e.getSeries=function(t){return this.ph[t]},e.Ch=function(t={}){const e=t.name,n=gd({},t.data),i=this.Eh(e,n);this.kh(e,e,i)},e.Eh=function(t,e){let n;return t===Lg.CHUNK_DOWNLOADED?(n={},n.host=e.host,n.duration=sh(e.duration,2),n.size=e.size,n.index=e.index,n.profile_id=e.profile_id,n.quality=e.quality,n.buffered=sh(e.buffered,2),n.ttfb=sh(e.ttfb,2),n.extraContext=e.extraContext,n.headers=ow(e.headers,["x_cache","akamai_request_bc","akamai_grn","content_type"]),n.cache_hit=ov(n.headers),n):t===Lg.VIDEO_PLAYBACK_ERROR||t===Lg.VIDEO_LOAD_FAILURE||t===Lg.VIDEO_START_FAILURE||t===Lg.VIDEO_READY?e:void 0!==e.autoplay&&void 0!==e.looping?(n={},n.cdn=e.cdn,n.quality=e.quality,void 0!==e.reason&&(n.reason=e.reason),n):e},e.kh=function(t,e,n={}){const i=this.Bd.backbone.currentTime,r=Date.now(),o=sh(gt(i,this.Bd.backbone.buffered),2);this.Th(sw,{type:t,title:e,vt:i,t:r,bt:o,data:n})},e.bh=function(){this.Bd.events.on(Nh.Hl,(()=>{this.reset()})),this.Bd.events.on(ho.BANDWIDTH,this.Sh.bind(this)),this.Bd.events.on(ho.BUFFER_OCCUPANCY,this.Ah.bind(this)),this.Bd.events.on(ho.CURRENT_FILE_CHANGE,this.Nh.bind(this)),this.Bd.events.on(ho.DROPPED_FRAMES,this.Mh.bind(this)),this.Bd.events.on(ho.SCANNER_CHANGE,this.Oh.bind(this)),this.Bd.events.on(ho.STREAM_CHANGE,this.Ih.bind(this)),this.Bd.events.on(ho.STREAM_CHANGE_START,this.Rh.bind(this)),this.Bd.events.on(ao.TIME_UPDATE,this.Lh.bind(this)),this.Bd.events.on(po.WEBVR_HARDWARE_AVAILABLE,this.xh.bind(this)),this.Bd.events.on(Nh.Fc,this.Ch.bind(this)),this.Bd.events.on(Lc.BUFFER_GAP_JUMP_PREVENT,this.Dh.bind(this)),this.Bd.events.on(Lc.BUFFER_GAP_JUMP,this.Ph.bind(this)),this.Bd.events.on(Lc.STALL_JUMP,this.Bh.bind(this))},e.xh=function(t){t.displayName&&this.wh(bw,t.displayName)},e.$h=function(){this.Un=setInterval((()=>{const t=this.Bd.backbone.buffered,e=this.Bd.backbone.videoElement;if(t&&t.length&&e&&e.currentTime){const t=this.Bd.backbone.latency;this.wh(mw,t)}else this.wh(mw,0)}),500)},e.jh=function(){clearInterval(this.Un)},e.yh=function(){this.Bd.store.watch("ui.player.boundingRect",(t=>{const e=this.getCurrent(hw),n=this.Vh(t);this.Th(hw,n);const i=e?`Resized from ${e} to ${n}`:`Resized to ${n}`;this.kh("resize",i)}))},e.Vh=function(t){const e=`${Math.round(t.width)}px`,n=`${Math.round(t.height)}px`,i=window.devicePixelRatio&&window.devicePixelRatio>1?`@${sh(window.devicePixelRatio,3)}x`:"";return e&&n?`${parseInt(e,10)}${parseInt(n,10)} ${i}`:""},e._h=function(){this.ph=yw.reduce(((t,e)=>(t[e]=[],t)),{})},e.gh=function(){const t=this.Bd.backbone.currentFile;this.Th(dw,t),this.Th(_w,this.Bd.backbone.currentScannerName),"HLSLiveScanner"===this.Bd.backbone.currentScannerName&&this.$h(),this.wh(fw,0),this.wh(pw,0);const e=this.Bd.store.get("ui.player.boundingRect"),n=this.Vh(e);this.Th(hw,n)},e.Sh=function(t){const e=Math.round(100*t.speed)/100;this.Th(lw,{videoTime:this.Bd.backbone.currentTime,time:Date.now(),value:e});let n=this.getCurrent(pw),i=this.getCurrent(fw);(!i||e<i)&&this.wh(fw,e),(!n||e>n)&&this.wh(pw,e)},e.Mh=function(t){const{dropped:e,total:n}=t;this.wh(uw,n),this.wh(aw,e)},e.Co=function(){this.kh("seeked",`Seeked to ${this.Bd.backbone.currentTime}`)},e.Fh=function(){this.kh("ended","Ended")},e.Rh=function({previousStreamIndex:t,index:e,streams:n}){const i=n[e],r=n[t],o=r?r.bitrate:null;if(o!==i.bitrate&&null!==o){const t=this.Hh(r),e=this.Hh(i);i.bitrate<o?this.kh("downswitch",`Starting Downswitch from ${t} to ${e}`):i.bitrate>o&&this.kh("upswitch",`Starting Upswitch from ${t} to ${e}`)}},e.Ih=function(t,e,n){var i,r;const o=n[e],s=this.Hh(o),a=xg(o.codecs),u=null==(i=this.Bd.backbone)||null==i.getCurrentStream?void 0:i.getCurrentStream("audio"),l=Dg(null==u?void 0:u.codecs),c=`${a}${l?` / ${l}`:""}`,d=null==(r=this.Bd.backbone)?void 0:r.telecine.getEffectByName("AmbisonicEffect");this.kh("switchcomplete",`Completed switch to ${s}`),this.Th(cw,{profile:void 0!==t?t.profile:null,quality:void 0!==t?t.quality:`${o.height}p`,avgBitrate:o.avg_bitrate,ambisonicConnected:null==d?void 0:d.connected,ambisonicOrder:null==u?void 0:u.ambisonic_order,audioBitrate:null==u?void 0:u.avg_bitrate,audioChannels:(null==u?void 0:u.channels)??o.channels??void 0,framerate:o.framerate,height:o.height,width:o.width,id:o.id,codec:c})},e.Nh=function(){const t=this.getCurrent(dw),e=this.Bd.backbone.currentFile;this.Th(dw,e);const n=e.metadata.cdn,i=t?t.metadata.cdn:null,r=t?Rh[t.mime]:null,o=Rh[e.mime];let s=`CDN to ${n}/${o}`;i&&(s=`CDN from ${i}/${r} to ${n}/${o}`),this.kh("filechange",s)},e.Ah=function(t){const e=Math.round(1e3*t)/1e3;this.Th(vw,{videoTime:this.Bd.backbone.currentTime,time:Date.now(),value:e})},e.Oh=function(){const t=this.getCurrent(_w),e=this.Bd.backbone.currentScannerName;this.wh(_w,e),t&&this.kh("scannerchange",`Scanner change to ${e}`),"HLSLiveScanner"===e?this.$h():this.jh()},e.Ph=function(t){this.kh("buffergapjump",t.msg)},e.Dh=function(t){this.kh("buffergapjumpprevent",t.msg)},e.Bh=function(t){this.kh("stalljump",t.msg)},e.Uh=function(){this.kh("stalled","Stalled")},e.Hh=function(t){return`${t.width}${t.height}@${Math.round(t.framerate)} ${Math.round(t.bitrate/1e3).toLocaleString()} Kbps`},e.Lh=function(){this.Bd.events.fire(Nh.Nl)},t}(),ww=function(){function t(t){this.zh=t,this.Xh=null,this.bh()}var e=t.prototype;return e.bh=function(){this.Ud=()=>this.reset(),this.zh.events.on(Ah.Ra,this.Ud)},e.Gh=function(){this.zh.events.off(Ah.Ra,this.Ud)},e.hibernate=function(){this.Gh()},e.wake=function(){this.bh()},e.Wh=function(t,e,n){if(Fc(n))return{startTime:0,endTime:e,duration:e};const i=1e3*t,r=n.findIndex(((t,e)=>{const r=n[e+1],o=e===n.length-1;return t<=i&&(i<r||o)})),o=r===n.length-1,s=n[r]/1e3,a=n[r+1],u=o?e:(a-1)/1e3;return{startTime:s,endTime:u,duration:u-s}},e.qh=function({currentTime:t,duration:e}){this.checkForNewFragment(t,e)},e.checkForNewFragment=function(t,e){if(!(this.Xh&&this.Xh.startTime<=t&&t<=this.Xh.endTime)){var n;const i=null==(n=this.zh.config.embed.interactive)?void 0:n.fragments;this.Xh=this.Wh(t,e,i),this.zh.events.fire(Nh.Nu)}},e.reset=function(){var t;this.Xh=null,this.zh.events.off(ao.TIME_UPDATE,this.qh.bind(this));const e=this.zh.config.video.duration;!Fc(null==(t=this.zh.config.embed.interactive)?void 0:t.fragments)&&(this.checkForNewFragment(0,e),this.zh.events.on(ao.TIME_UPDATE,this.qh.bind(this)))},e.getFragmentFromTime=function(t){var e;const n=null==(e=this.zh.config.embed.interactive)?void 0:e.fragments,i=this.zh.config.video.duration;return this.Wh(t,i,n)},X(t,[{key:"firstFragmentDuration",get:function(){var t;const e=null==(t=this.zh.config.embed.interactive)?void 0:t.fragments;return!Fc(e)&&e.length>1?(e[1]-1)/1e3:this.zh.config.video.duration}},{key:"currentFragment",get:function(){var t;return Fc(null==(t=this.zh.config.embed.interactive)?void 0:t.fragments)?{startTime:0,endTime:this.zh.config.video.duration,duration:this.zh.config.video.duration}:this.Xh}}])}();var Tw,Cw,Ew,kw,Sw=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Aw=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},Nw=function(t,e){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(t(i),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Mw=function(t){addEventListener("pageshow",(function(e){e.persisted&&t(e)}),!0)},Ow=function(t,e,n){var i;return function(r){e.value>=0&&(r||n)&&(e.delta=e.value-(i||0),(e.delta||void 0===i)&&(i=e.value,t(e)))}},Iw=-1,Rw=function(){return"hidden"===document.visibilityState?0:1/0},Lw=function(){Nw((function(t){var e=t.timeStamp;Iw=e}),!0)},xw=function(){return Iw<0&&(Iw=Rw(),Lw(),Mw((function(){setTimeout((function(){Iw=Rw(),Lw()}),0)}))),{get firstHiddenTime(){return Iw}}},Dw=function(t,e){var n,i=xw(),r=Sw("FCP"),o=function(t){"first-contentful-paint"===t.name&&(a&&a.disconnect(),t.startTime<i.firstHiddenTime&&(r.value=t.startTime,r.entries.push(t),n(!0)))},s=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=s?null:Aw("paint",o);(s||a)&&(n=Ow(t,r,e),s&&o(s),Mw((function(i){r=Sw("FCP"),n=Ow(t,r,e),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,n(!0)}))}))})))},Pw=!1,Bw=-1,$w={passive:!0,capture:!0},jw=new Date,Vw=function(t,e){Tw||(Tw=e,Cw=t,Ew=new Date,Uw(removeEventListener),Fw())},Fw=function(){if(Cw>=0&&Cw<Ew-jw){var t={entryType:"first-input",name:Tw.type,target:Tw.target,cancelable:Tw.cancelable,startTime:Tw.timeStamp,processingStart:Tw.timeStamp+Cw};kw.forEach((function(e){e(t)})),kw=[]}},Hw=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var n=function(){Vw(t,e),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,$w),removeEventListener("pointercancel",i,$w)};addEventListener("pointerup",n,$w),addEventListener("pointercancel",i,$w)}(e,t):Vw(e,t)}},Uw=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,Hw,$w)}))},zw={},Xw=function(t){return t.FIRST_INPUT_DELAY="firstInputDelay",t.CUMULATIVE_LAYOUT_SHIFT="cumulativeLayoutShift",t.LARGEST_CONTENTFUL_PAINT="largestContentfulPaint",t}(Xw||{});const Gw=4e-4/Object.keys(Xw).length,Ww={};var qw,Yw,Kw,Zw,Jw,Qw,tT,eT={},nT=[],iT=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function rT(t,e){for(var n in e)t[n]=e[n];return t}function oT(t){var e=t.parentNode;e&&e.removeChild(t)}function sT(t,e,n){var i,r,o,s={};for(o in e)"key"==o?i=e[o]:"ref"==o?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?qw.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===s[o]&&(s[o]=t.defaultProps[o]);return aT(t,s,i,r,null)}function aT(t,e,n,i,r){var o={type:t,props:e,key:n,ref:i,Yh:null,Kh:null,Zh:0,Jh:null,Qh:void 0,tf:null,ef:null,constructor:void 0,nf:null==r?++Kw:r};return null==r&&null!=Yw.vnode&&Yw.vnode(o),o}function uT(t){return t.children}function lT(t,e){this.props=t,this.context=e}function cT(t,e){if(null==e)return t.Kh?cT(t.Kh,t.Kh.Yh.indexOf(t)+1):null;for(var n;e<t.Yh.length;e++)if(null!=(n=t.Yh[e])&&null!=n.Jh)return n.Jh;return"function"==typeof t.type?cT(t):null}function dT(t){var e,n;if(null!=(t=t.Kh)&&null!=t.tf){for(t.Jh=t.tf.base=null,e=0;e<t.Yh.length;e++)if(null!=(n=t.Yh[e])&&null!=n.Jh){t.Jh=t.tf.base=n.Jh;break}return dT(t)}}function hT(t){(!t.Qh&&(t.Qh=!0)&&Zw.push(t)&&!fT.if++||Qw!==Yw.debounceRendering)&&((Qw=Yw.debounceRendering)||Jw)(fT)}function fT(){for(var t;fT.if=Zw.length;)t=Zw.sort((function(t,e){return t.nf.Zh-e.nf.Zh})),Zw=[],t.some((function(t){var e,n,i,r,o,s;t.Qh&&(o=(r=(e=t).nf).Jh,(s=e.rf)&&(n=[],(i=rT({},r)).nf=r.nf+1,TT(s,r,i,e.sf,void 0!==s.ownerSVGElement,null!=r.ef?[o]:null,n,null==o?cT(r):o,r.ef),CT(n,r),r.Jh!=o&&dT(r)))}))}function pT(t,e,n,i,r,o,s,a,u,l){var c,d,h,f,p,v,m,_=i&&i.Yh||nT,b=_.length;for(n.Yh=[],c=0;c<e.length;c++)if(null!=(f=n.Yh[c]=null==(f=e[c])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?aT(null,f,null,null,f):Array.isArray(f)?aT(uT,{children:f},null,null,null):f.Zh>0?aT(f.type,f.props,f.key,null,f.nf):f)){if(f.Kh=n,f.Zh=n.Zh+1,null===(h=_[c])||h&&f.key==h.key&&f.type===h.type)_[c]=void 0;else for(d=0;d<b;d++){if((h=_[d])&&f.key==h.key&&f.type===h.type){_[d]=void 0;break}h=null}TT(t,f,h=h||eT,r,o,s,a,u,l),p=f.Jh,(d=f.ref)&&h.ref!=d&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(d,f.tf||p,f)),null!=p?(null==v&&(v=p),"function"==typeof f.type&&f.Yh===h.Yh?f.Qh=u=vT(f,u,t):u=_T(t,f,h,_,p,u),"function"==typeof n.type&&(n.Qh=u)):u&&h.Jh==u&&u.parentNode!=t&&(u=cT(h))}for(n.Jh=v,c=b;c--;)null!=_[c]&&("function"==typeof n.type&&null!=_[c].Jh&&_[c].Jh==n.Qh&&(n.Qh=cT(i,c+1)),ST(_[c],_[c]));if(m)for(c=0;c<m.length;c++)kT(m[c],m[++c],m[++c])}function vT(t,e,n){for(var i,r=t.Yh,o=0;r&&o<r.length;o++)(i=r[o])&&(i.Kh=t,e="function"==typeof i.type?vT(i,e,n):_T(n,i,i,r,i.Jh,e));return e}function mT(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){mT(t,e)})):e.push(t)),e}function _T(t,e,n,i,r,o){var s,a,u;if(void 0!==e.Qh)s=e.Qh,e.Qh=void 0;else if(null==n||r!=o||null==r.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(r),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<i.length;u+=2)if(a==r)break t;t.insertBefore(r,o),s=o}return void 0!==s?s:r.nextSibling}function bT(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||iT.test(e)?n:n+"px"}function yT(t,e,n,i,r){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||bT(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||bT(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?i||t.addEventListener(e,o?wT:gT,o):t.removeEventListener(e,o?wT:gT,o);else if("dangerouslySetInnerHTML"!==e){if(r)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function gT(t){this.l[t.type+!1](Yw.event?Yw.event(t):t)}function wT(t){this.l[t.type+!0](Yw.event?Yw.event(t):t)}function TT(t,e,n,i,r,o,s,a,u){var l,c,d,h,f,p,v,m,_,b,y,g=e.type;if(void 0!==e.constructor)return null;null!=n.ef&&(u=n.ef,a=e.Jh=n.Jh,e.ef=null,o=[a]),(l=Yw.Zh)&&l(e);try{t:if("function"==typeof g){if(m=e.props,_=(l=g.contextType)&&i[l.tf],b=l?_?_.props.value:l.Kh:i,n.tf?v=(c=e.tf=n.tf).Kh=c.af:("prototype"in g&&g.prototype.render?e.tf=c=new g(m,b):(e.tf=c=new lT(m,b),c.constructor=g,c.render=AT),_&&_.sub(c),c.props=m,c.state||(c.state={}),c.context=b,c.sf=i,d=c.Qh=!0,c.ef=[]),null==c.uf&&(c.uf=c.state),null!=g.getDerivedStateFromProps&&(c.uf==c.state&&(c.uf=rT({},c.uf)),rT(c.uf,g.getDerivedStateFromProps(m,c.uf))),h=c.props,f=c.state,d)null==g.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.ef.push(c.componentDidMount);else{if(null==g.getDerivedStateFromProps&&m!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,b),!c.Jh&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.uf,b)||e.nf===n.nf){c.props=m,c.state=c.uf,e.nf!==n.nf&&(c.Qh=!1),c.nf=e,e.Jh=n.Jh,e.Yh=n.Yh,e.Yh.forEach((function(t){t&&(t.Kh=e)})),c.ef.length&&s.push(c);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.uf,b),null!=c.componentDidUpdate&&c.ef.push((function(){c.componentDidUpdate(h,f,p)}))}c.context=b,c.props=m,c.state=c.uf,(l=Yw.if)&&l(e),c.Qh=!1,c.nf=e,c.rf=t,l=c.render(c.props,c.state,c.context),c.state=c.uf,null!=c.getChildContext&&(i=rT(rT({},i),c.getChildContext())),d||null==c.getSnapshotBeforeUpdate||(p=c.getSnapshotBeforeUpdate(h,f)),y=null!=l&&l.type===uT&&null==l.key?l.props.children:l,pT(t,Array.isArray(y)?y:[y],e,n,i,r,o,s,a,u),c.base=e.Jh,e.ef=null,c.ef.length&&s.push(c),v&&(c.af=c.Kh=null),c.Jh=!1}else null==o&&e.nf===n.nf?(e.Yh=n.Yh,e.Jh=n.Jh):e.Jh=ET(n.Jh,e,n,i,r,o,s,u);(l=Yw.diffed)&&l(e)}catch(t){e.nf=null,(u||null!=o)&&(e.Jh=a,e.ef=!!u,o[o.indexOf(a)]=null),Yw.Jh(t,e,n)}}function CT(t,e){Yw.tf&&Yw.tf(e,t),t.some((function(e){try{t=e.ef,e.ef=[],t.some((function(t){t.call(e)}))}catch(t){Yw.Jh(t,e.nf)}}))}function ET(t,e,n,i,r,o,s,a){var u,l,c,d=n.props,h=e.props,f=e.type,p=0;if("svg"===f&&(r=!0),null!=o)for(;p<o.length;p++)if((u=o[p])&&"setAttribute"in u==!!f&&(f?u.localName===f:3===u.nodeType)){t=u,o[p]=null;break}if(null==t){if(null===f)return document.createTextNode(h);t=r?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),o=null,a=!1}if(null===f)d===h||a&&t.data===h||(t.data=h);else{if(o=o&&qw.call(t.childNodes),l=(d=n.props||eT).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!a){if(null!=o)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(c||l)&&(c&&(l&&c.lf==l.lf||c.lf===t.innerHTML)||(t.innerHTML=c&&c.lf||""))}if(function(t,e,n,i,r){var o;for(o in n)"children"===o||"key"===o||o in e||yT(t,o,null,n[o],i);for(o in e)r&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||yT(t,o,e[o],n[o],i)}(t,h,d,r,a),c)e.Yh=[];else if(p=e.props.children,pT(t,Array.isArray(p)?p:[p],e,n,i,r&&"foreignObject"!==f,o,s,o?o[0]:n.Yh&&cT(n,0),a),null!=o)for(p=o.length;p--;)null!=o[p]&&oT(o[p]);a||("value"in h&&void 0!==(p=h.value)&&(p!==t.value||"progress"===f&&!p||"option"===f&&p!==d.value)&&yT(t,"value",p,d.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==t.checked&&yT(t,"checked",p,d.checked,!1))}return t}function kT(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){Yw.Jh(t,n)}}function ST(t,e,n){var i,r;if(Yw.unmount&&Yw.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.Jh||kT(i,null,e)),null!=(i=t.tf)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){Yw.Jh(t,e)}i.base=i.rf=null}if(i=t.Yh)for(r=0;r<i.length;r++)i[r]&&ST(i[r],e,"function"!=typeof t.type);n||null==t.Jh||oT(t.Jh),t.Jh=t.Qh=void 0}function AT(t,e,n){return this.constructor(t,n)}function NT(t,e,n){var i,r,o;Yw.Kh&&Yw.Kh(t,e),r=(i="function"==typeof n)?null:n&&n.Yh||e.Yh,o=[],TT(e,t=(!i&&n||e).Yh=sT(uT,null,[t]),r||eT,eT,void 0!==e.ownerSVGElement,!i&&n?[n]:r?null:e.firstChild?qw.call(e.childNodes):null,o,!i&&n?n:r?r.Jh:e.firstChild,i),CT(o,t)}function MT(t,e){NT(t,e,MT)}function OT(t,e,n){var i,r,o,s=rT({},t.props);for(o in e)"key"==o?i=e[o]:"ref"==o?r=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?qw.call(arguments,2):n),aT(t.type,s,i||t.key,r||t.ref,null)}function IT(t,e){var n={tf:e="__cC"+tT++,Kh:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,i;return this.getChildContext||(n=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(hT)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.Kh=n.Consumer.contextType=n}qw=nT.slice,Yw={Jh:function(t,e){for(var n,i,r;e=e.Kh;)if((n=e.tf)&&!n.Kh)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(t)),r=n.Qh),null!=n.componentDidCatch&&(n.componentDidCatch(t),r=n.Qh),r)return n.af=n}catch(e){t=e}throw t}},Kw=0,lT.prototype.setState=function(t,e){var n;n=null!=this.uf&&this.uf!==this.state?this.uf:this.uf=rT({},this.state),"function"==typeof t&&(t=t(rT({},n),this.props)),t&&rT(n,t),null!=t&&this.nf&&(e&&this.ef.push(e),hT(this))},lT.prototype.forceUpdate=function(t){this.nf&&(this.Jh=!0,t&&this.ef.push(t),hT(this))},lT.prototype.render=uT,Zw=[],Jw="function"==typeof r?r.prototype.then.bind(r.resolve()):setTimeout,fT.if=0,tT=0;var RT,LT,xT,DT=0,PT=[],BT=Yw.Zh,$T=Yw.if,jT=Yw.diffed,VT=Yw.tf,FT=Yw.unmount;function HT(t,e){Yw.ef&&Yw.ef(LT,t,DT||e),DT=0;var n=LT.cf||(LT.cf={Kh:[],ef:[]});return t>=n.Kh.length&&n.Kh.push({}),n.Kh[t]}function UT(t){return DT=1,zT(iC,t)}function zT(t,e,n){var i=HT(RT++,2);return i.t=t,i.tf||(i.Kh=[n?n(e):iC(void 0,e),function(t){var e=i.t(i.Kh[0],t);i.Kh[0]!==e&&(i.Kh=[e,i.Kh[1]],i.tf.setState({}))}],i.tf=LT),i.Kh}function XT(t,e){var n=HT(RT++,3);!Yw.uf&&nC(n.cf,e)&&(n.Kh=t,n.cf=e,LT.cf.ef.push(n))}function GT(t,e){var n=HT(RT++,4);!Yw.uf&&nC(n.cf,e)&&(n.Kh=t,n.cf=e,LT.ef.push(n))}function WT(t){return DT=5,qT((function(){return{current:t}}),[])}function qT(t,e){var n=HT(RT++,7);return nC(n.cf,e)&&(n.Kh=t(),n.cf=e,n.ef=t),n.Kh}function YT(t,e){return DT=8,qT((function(){return t}),e)}function KT(t){var e=LT.context[t.tf],n=HT(RT++,9);return n.c=t,e?(null==n.Kh&&(n.Kh=!0,e.sub(LT)),e.props.value):t.Kh}function ZT(t,e){Yw.useDebugValue&&Yw.useDebugValue(e?e(t):t)}function JT(){for(var t;t=PT.shift();)if(t.rf)try{t.cf.ef.forEach(tC),t.cf.ef.forEach(eC),t.cf.ef=[]}catch(e){t.cf.ef=[],Yw.Jh(e,t.nf)}}Yw.Zh=function(t){LT=null,BT&&BT(t)},Yw.if=function(t){$T&&$T(t),RT=0;var e=(LT=t.tf).cf;e&&(e.ef.forEach(tC),e.ef.forEach(eC),e.ef=[])},Yw.diffed=function(t){jT&&jT(t);var e=t.tf;e&&e.cf&&e.cf.ef.length&&(1!==PT.push(e)&&xT===Yw.requestAnimationFrame||((xT=Yw.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(i),QT&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);QT&&(e=requestAnimationFrame(n))})(JT)),LT=null},Yw.tf=function(t,e){e.some((function(t){try{t.ef.forEach(tC),t.ef=t.ef.filter((function(t){return!t.Kh||eC(t)}))}catch(n){e.some((function(t){t.ef&&(t.ef=[])})),e=[],Yw.Jh(n,t.nf)}})),VT&&VT(t,e)},Yw.unmount=function(t){FT&&FT(t);var e,n=t.tf;n&&n.cf&&(n.cf.Kh.forEach((function(t){try{tC(t)}catch(t){e=t}})),e&&Yw.Jh(e,n.nf))};var QT="function"==typeof requestAnimationFrame;function tC(t){var e=LT,n=t.tf;"function"==typeof n&&(t.tf=void 0,n()),LT=e}function eC(t){var e=LT;t.tf=t.Kh(),LT=e}function nC(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function iC(t,e){return"function"==typeof e?e(t):e}function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rC.apply(this,arguments)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oC(t,e)}var sC,aC,uC,lC=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,oC(e,n);var r=i.prototype;return r.componentDidMount=function(){this.props.nodeRef.current=this.base},r.componentWillUnmount=function(){this.props.nodeRef.current=void 0},r.render=function(){return sT(uT,{},this.props.children)},i}(lT);!function(t){t.APPEAR="appear",t.APPEAR_ACTIVE="appearActive",t.APPEAR_DONE="appearDone",t.ENTER="enter",t.ENTER_ACTIVE="enterActive",t.ENTER_DONE="enterDone",t.EXIT="exit",t.EXIT_ACTIVE="exitActive",t.EXIT_DONE="exitDone"}(aC||(aC={})),function(t){t.ENTER="onEnter",t.ENTERING="onEntering",t.ENTERED="onEntered",t.EXIT="onExit",t.EXITING="onExiting",t.EXITED="onExited"}(uC||(uC={}));var cC=((sC={})[aC.APPEAR]=[uC.ENTER,aC.APPEAR_ACTIVE],sC[aC.APPEAR_ACTIVE]=[uC.ENTERING,aC.APPEAR_DONE,!0],sC[aC.APPEAR_DONE]=[uC.ENTERED],sC[aC.ENTER]=[uC.ENTER,aC.ENTER_ACTIVE],sC[aC.ENTER_ACTIVE]=[uC.ENTERING,aC.ENTER_DONE,!0],sC[aC.ENTER_DONE]=[uC.ENTERED],sC[aC.EXIT]=[uC.EXIT,aC.EXIT_ACTIVE],sC[aC.EXIT_ACTIVE]=[uC.EXITING,aC.EXIT_DONE,!0],sC[aC.EXIT_DONE]=[uC.EXITED],sC);function dC(t){var e=t.children,n=t.in,i=void 0!==n&&n,r=t.appear,o=void 0!==r&&r,s=t.enter,a=void 0===s||s,u=t.exit,l=void 0===u||u,c=t.duration,d=void 0===c?500:c,h=t.alwaysMounted,f=void 0!==h&&h,p=t.addEndListener,v=WT(),m=WT(),_=!1,b=UT((function(){return _=!0,i?o?aC.APPEAR:aC.APPEAR_DONE:aC.EXIT_DONE})),y=b[0],g=b[1];XT((function(){var e=window,n=e.setTimeout,i=e.clearTimeout,r=cC[y],o=r[1],s=r[2],a=t[r[0]];return null==a||a(v.current),o&&(s?p?p(v.current,(function(){return g(o)})):m.current=n(g,d,o):g(o)),function(){i(m.current)}}),[y,d]),GT((function(){_||g(i?a?aC.ENTER:aC.ENTER_DONE:l?aC.EXIT:aC.EXIT_DONE)}),[i]);var w=qT((function(){var t={};return Object.keys(cC).forEach((function(e){t[e]=y===e})),t}),[y]);return f||(l?y!==aC.EXIT_DONE:i)?sT(lC,{nodeRef:v,children:e(w,y)}):null}var hC,fC=["children","styles"];function pC(t){var e=t.children,n=t.styles,i=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(n=o[i])>=0||(r[n]=t[n]);return r}(t,fC);return sT(dC,i,(function(t,i){var r=e.props.style,o=qT((function(){return rC({},function(t,e){var n=e[t];switch(t){case aC.APPEAR_ACTIVE:return rC({},e[aC.APPEAR],n);case aC.ENTER_ACTIVE:return rC({},e[aC.ENTER],n);case aC.EXIT_ACTIVE:return rC({},e[aC.EXIT],n);default:return n}}(i,n),r)}),[r,n,i]);return OT(e,{style:o})}))}function vC(t,e){for(var n in e)t[n]=e[n];return t}function mC(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var i in e)if("__source"!==i&&t[i]!==e[i])return!0;return!1}function _C(t){this.props=t}(hC={})[aC.APPEAR]="-appear",hC[aC.APPEAR_ACTIVE]="-appear-active",hC[aC.APPEAR_DONE]="-appear-done",hC[aC.ENTER]="-enter",hC[aC.ENTER_ACTIVE]="-enter-active",hC[aC.ENTER_DONE]="-enter-done",hC[aC.EXIT]="-exit",hC[aC.EXIT_ACTIVE]="-exit-active",hC[aC.EXIT_DONE]="-exit-done",(_C.prototype=new lT).isPureReactComponent=!0,_C.prototype.shouldComponentUpdate=function(t,e){return mC(this.props,t)||mC(this.state,e)};var bC=Yw.Zh;Yw.Zh=function(t){t.type&&t.type.df&&t.ref&&(t.props.ref=t.ref,t.ref=null),bC&&bC(t)};var yC=void 0!==x&&x.for&&x.for("react.forward_ref")||3911;function gC(t){function e(e,n){var i=vC({},e);return delete i.ref,t(i,(n=e.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return e.$$typeof=yC,e.render=e,e.prototype.isReactComponent=e.df=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var wC=function(t,e){return null==t?null:mT(mT(t).map(e))},TC={map:wC,forEach:wC,count:function(t){return t?mT(t).length:0},only:function(t){var e=mT(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:mT},CC=Yw.Jh;Yw.Jh=function(t,e,n){if(t.then)for(var i,r=e;r=r.Kh;)if((i=r.tf)&&i.tf)return null==e.Jh&&(e.Jh=n.Jh,e.Yh=n.Yh),i.tf(t,e);CC(t,e,n)};var EC=Yw.unmount;function kC(){this.hf=0,this.t=null,this.Zh=null}function SC(t){var e=t.Kh.tf;return e&&e.Jh&&e.Jh(t)}function AC(){this.u=null,this.o=null}Yw.unmount=function(t){var e=t.tf;e&&e.ff&&e.ff(),e&&!0===t.ef&&(t.type=null),EC&&EC(t)},(kC.prototype=new lT).tf=function(t,e){var n=e.tf,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=SC(i.nf),o=!1,s=function(){o||(o=!0,n.ff=null,r?r(a):a())};n.ff=s;var a=function(){if(! --i.hf){if(i.state.Jh){var t=i.state.Jh;i.nf.Yh[0]=function t(e,n,i){return e&&(e.nf=null,e.Yh=e.Yh&&e.Yh.map((function(e){return t(e,n,i)})),e.tf&&e.tf.rf===n&&(e.Jh&&i.insertBefore(e.Jh,e.Qh),e.tf.Jh=!0,e.tf.rf=i)),e}(t,t.tf.rf,t.tf.pf)}var e;for(i.setState({Jh:i.Zh=null});e=i.t.pop();)e.forceUpdate()}},u=!0===e.ef;i.hf++||u||i.setState({Jh:i.Zh=i.nf.Yh[0]}),t.then(s,s)},kC.prototype.componentWillUnmount=function(){this.t=[]},kC.prototype.render=function(t,e){if(this.Zh){if(this.nf.Yh){var n=document.createElement("div"),i=this.nf.Yh[0].tf;this.nf.Yh[0]=function t(e,n,i){return e&&(e.tf&&e.tf.cf&&(e.tf.cf.Kh.forEach((function(t){"function"==typeof t.tf&&t.tf()})),e.tf.cf=null),null!=(e=vC({},e)).tf&&(e.tf.rf===i&&(e.tf.rf=n),e.tf=null),e.Yh=e.Yh&&e.Yh.map((function(e){return t(e,n,i)}))),e}(this.Zh,n,i.pf=i.rf)}this.Zh=null}var r=e.Jh&&sT(uT,null,t.fallback);return r&&(r.ef=null),[sT(uT,null,e.Jh?null:t.children),r]};var NC=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function MC(t){return this.getChildContext=function(){return t.context},t.children}function OC(t){var e=this,n=t.i;e.componentWillUnmount=function(){NT(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.nf?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),NT(sT(MC,{context:e.context},t.nf),e.l)):e.l&&e.componentWillUnmount()}function IC(t,e){return sT(OC,{nf:t,i:e})}(AC.prototype=new lT).Jh=function(t){var e=this,n=SC(e.nf),i=e.o.get(t);return i[0]++,function(r){var o=function(){e.props.revealOrder?(i.push(r),NC(e,t,i)):r()};n?n(o):o()}},AC.prototype.render=function(t){this.u=null,this.o=new Oe;var e=mT(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},AC.prototype.componentDidUpdate=AC.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){NC(t,n,e)}))};var RC=void 0!==x&&x.for&&x.for("react.element")||60103,LC=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,xC="undefined"!=typeof document,DC=function(t){return(void 0!==x&&"symbol"==typeof x()?/fil|che|rad/i:/fil|che|ra/i).test(t)};lT.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(lT.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var PC=Yw.event;function BC(){}function $C(){return this.cancelBubble}function jC(){return this.defaultPrevented}Yw.event=function(t){return PC&&(t=PC(t)),t.persist=BC,t.isPropagationStopped=$C,t.isDefaultPrevented=jC,t.nativeEvent=t};var VC,FC={configurable:!0,get:function(){return this.class}},HC=Yw.vnode;Yw.vnode=function(t){var e=t.type,n=t.props,i=n;if("string"==typeof e){var r=-1===e.indexOf("-");for(var o in i={},n){var s=n[o];xC&&"children"===o&&"noscript"===e||"value"===o&&"defaultValue"in n&&null==s||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!DC(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():r&&LC.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),i[o]=s)}"select"==e&&i.multiple&&Array.isArray(i.value)&&(i.value=mT(n.children).forEach((function(t){t.props.selected=-1!=i.value.indexOf(t.props.value)}))),"select"==e&&null!=i.defaultValue&&(i.value=mT(n.children).forEach((function(t){t.props.selected=i.multiple?-1!=i.defaultValue.indexOf(t.props.value):i.defaultValue==t.props.value}))),t.props=i,n.class!=n.className&&(FC.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",FC))}t.$$typeof=RC,HC&&HC(t)};var UC=Yw.if;Yw.if=function(t){UC&&UC(t),VC=t.tf};var zC={ReactCurrentDispatcher:{current:{readContext:function(t){return VC.sf[t.tf].props.value}}}};function XC(t){return!!t&&t.$$typeof===RC}var GC={useState:UT,useReducer:zT,useEffect:XT,useLayoutEffect:GT,useRef:WT,useImperativeHandle:function(t,e,n){DT=6,GT((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))},useMemo:qT,useCallback:YT,useContext:KT,useDebugValue:ZT,version:"17.0.2",Children:TC,render:function(t,e,n){return null==e.Yh&&(e.textContent=""),NT(t,e),"function"==typeof n&&n(),t?t.tf:null},hydrate:function(t,e,n){return MT(t,e),"function"==typeof n&&n(),t?t.tf:null},unmountComponentAtNode:function(t){return!!t.Yh&&(NT(null,t),!0)},createPortal:IC,createElement:sT,createContext:IT,createFactory:function(t){return sT.bind(null,t)},cloneElement:function(t){return XC(t)?OT.apply(null,arguments):t},createRef:function(){return{current:null}},Fragment:uT,isValidElement:XC,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:lT,PureComponent:_C,memo:function(t,e){function n(t){var n=this.props.ref,i=n==t.ref;return!i&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!i:mC(this.props,t)}function i(e){return this.shouldComponentUpdate=n,sT(t,e)}return i.displayName="Memo("+(t.displayName||t.name)+")",i.prototype.isReactComponent=!0,i.df=!0,i},forwardRef:gC,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:function(t,e){return t(e)},StrictMode:uT,Suspense:kC,SuspenseList:AC,lazy:function(t){var e,n,i;function r(r){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){i=t})),i)throw i;if(!n)throw e;return sT(n,r)}return r.displayName="Lazy",r.df=!0,r},vf:zC};const WC="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?XT:GT;function qC(t){const e="function"==typeof t?function(t){let e;const n=new Ao,i=(t,i)=>{const r="function"==typeof t?t(e):t;if(r!==e){const t=e;e=i?r:Object.assign({},e,r),n.forEach((n=>n(e,t)))}},r=()=>e,o={setState:i,getState:r,subscribe:(t,i,o)=>i||o?((t,i=r,o=Object.is)=>{let s=i(e);function a(){const n=i(e);if(!o(s,n)){const e=s;t(s=n,e)}}return n.add(a),()=>n.delete(a)})(t,i,o):(n.add(t),()=>n.delete(t)),destroy:()=>n.clear()};return e=t(i,r,o),o}(t):t,n=(t=e.getState,n=Object.is)=>{const[,i]=zT((t=>t+1),0),r=e.getState(),o=WT(r),s=WT(t),a=WT(n),u=WT(!1),l=WT();let c;void 0===l.current&&(l.current=t(r));let d=!1;(o.current!==r||s.current!==t||a.current!==n||u.current)&&(c=t(r),d=!n(l.current,c)),WC((()=>{d&&(l.current=c),o.current=r,s.current=t,a.current=n,u.current=!1}));const h=WT(r);WC((()=>{const t=()=>{try{const t=e.getState(),n=s.current(t);a.current(l.current,n)||(o.current=t,l.current=n,i())}catch(t){u.current=!0,i()}},n=e.subscribe(t);return e.getState()!==h.current&&t(),n}),[]);const f=d?c:l.current;return ZT(f),f};return Object.assign(n,e),n[x.iterator]=function(){const t=[n,e];return{next(){const e=t.length<=0;return{value:t.shift(),done:e}}}},n}function YC(){const t=IT(void 0);return{Provider:({initialStore:e,createStore:n,children:i})=>{const r=WT();return r.current||(e&&(n||(n=()=>e)),r.current=n()),sT(t.Provider,{value:r.current},i)},useStore:(e,n=Object.is)=>{const i=KT(t);if(!i)throw new Error("Seems like you have not used zustand provider as an ancestor.");return i(e,n)},useStoreApi:()=>{const e=KT(t);if(!e)throw new Error("Seems like you have not used zustand provider as an ancestor.");return qT((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])}}}let KC=function(t){return t.PQ="PQ",t.DV5="DV5",t.DV81="DV81",t.DV82="DV82",t.DV84="DV84",t.HDR10="HDR10",t.HDR10_PLUS="HDR10_PLUS",t.HLG="HLG",t}({}),ZC=function(t){return t.KOLLECTIVE="kollective",t.HIVE="hive",t}({});const JC={[ZC.KOLLECTIVE]:"Kollective",[ZC.HIVE]:"Hive"};function QC({config:t,debugCollector:e,backbone:n}){var i,r,o,s,a;const u=t.request.session,l=e.getCurrent(ip.FIELD_VIDEO_DIMS),c=e.getCurrent(ip.FIELD_TOTAL_FRAMES)||0,d=e.getCurrent(ip.FIELD_DROPPED_FRAMES)||0,h=e.getCurrent(ip.FIELD_FILES),f=e.getCurrent(ip.FIELD_STREAMS),p=e.getCurrent(ip.FIELD_SCANNERS),v=e.getCurrent(ip.FIELD_BANDWIDTH),m=p===op.HLS_LIVE_SCANNER,_=p===op.MEDIA_SOURCE_SCANNER,b=wt(n.currentTime,n.buffered),y=n.currentTime+b,g=function(t){if(!t)return null;const e=t.length;let n=0,i=[];for(;n<e;n++){const e=t.start(n),r=t.end(n);i.push({i:n,start:e,end:r})}return i}(n.buffered),w=n.bufferTarget,T=n.presentationDelay,C=t.embed.dnt||(null==(i=t.request.flags)?void 0:i.dnt),E={isLive:m,isDash:_,embedSize:l,sessionId:u,testGroup:Object.keys(t.request.ab_tests).map((e=>{var n;return`${e}: ${null==(n=t.request.ab_tests[e])?void 0:n.group}`})).join(", "),isDNTEnabled:C,totalFrames:c,droppedFrames:d,bufferTarget:w,presentationDelay:T,ua:null==(r=navigator)?void 0:r.userAgent,clipId:t.video.id,readyState:n.readyState,support:JSON.stringify(Se),bufferEnd:sh(y,3),bufferAhead:sh(b,3),currentTime:sh(n.currentTime,3),clientIp:null==(o=t.request)||null==(o=o.client)?void 0:o.ip,playerVersion:Bb(t),bufferedRanges:JSON.stringify(g),brainDebug:JSON.stringify(n.brainDebug),codec:f?f.codec:null,hideCloseButton:!!t.embed.settings.background,isCopyDisabled:!!C,vrHeadsetName:e.getCurrent(ip.FIELD_VR_HEADSET),droppedFramesPercent:0!==c?`${(d/c*100).toFixed(2)}%`:0,resolution:f?`${f.width}${f.height}@${Math.round(f.framerate)} ${Math.round(f.avgBitrate/1e3).toLocaleString()} Kbps ${f.audioBitrate?` / ${Math.round(f.audioBitrate/1e3).toLocaleString()} Kbps`:""}`:null,payloadId:`${t.video.owner.id}_${t.video.id}_${t.request.session}_${Math.floor(Date.now()/1e3)}`,bandwidthKbps:v?`${Math.floor(v.value/1e3).toLocaleString()} Kbps`:0,bandwidthMinKbps:`${Math.floor(e.getCurrent(ip.FIELD_MIN_BANDWIDTH)/1e3).toLocaleString()} Kbps`,bandwidthMaxKbps:`${Math.floor(e.getCurrent(ip.FIELD_MAX_BANDWIDTH)/1e3).toLocaleString()} Kbps`,separateAudioVideo:!(null==(s=t.request.files)||!s.dash||!t.request.files.dash.separate_av),bandwidthSeriesData:eE(e)};null!=f&&f.audioChannels&&(E.resolution+=f.ambisonicConnected&&f.ambisonicOrder?` ambisonic ${f.ambisonicOrder} (${f.audioChannels}ch)`:` ${f.audioChannels}ch`),h&&(E.delivery=h.mime),t.request.drm&&Object.assign(E,{drmEnabled:!0});const k=null==(a=t.video.ecdn)?void 0:a.ecdn_provider;if(k){const{ecdnBytesByCdn:t,ecdnBytesPeered:e,ecdnPeers:n}=uv(k),i={p2pSources:n.toString(),p2pOffload:`${tE(e,t)}%`,ecdnVendor:JC[k]};Object.assign(E,i)}return m&&Object.assign(E,function(t,e){var n;const i=(null==(n=t.video.live_event)?void 0:n.id)||null;let r="";try{r=`${(e.getCurrent(ip.FIELD_LIVE_LATENCY)??0).toFixed(2)}`}catch(t){}return{liveLatency:r,liveSessionID:i}}(t,e)),E}function tE(t,e){return 0===t&&0===e?0:sh(t/(e+t)*100,1)}function eE(t){const e=t.getSeries(ip.FIELD_BANDWIDTH)||[],n=t.getCurrent(ip.FIELD_MAX_BANDWIDTH)||1;return{debugMarkers:t.getSeries(ip.FIELD_MARKERS)||[],timeSeries:e,max:n}}let nE=function(){function t(t=(t,e)=>t<e){this.mf={},this._f=[],this.bf=t}var e=t.prototype;return e.yf=function(t){var e=this._f.length;if(0===e)this._f.push(t);else{for(var n=0;n<e;n++)if(this.bf(t,this._f[n])){this._f[n-1]!==t&&this._f.splice(n,0,t);break}n===e&&this._f[n-1]!==t&&this._f.splice(n,0,t)}},e.gf=function(t,e,n,i){if(i<n)return-1;let r=parseInt(n+(i-n)/2,10);return t[r]>e?this.gf(t,e,n,r-1):t[r]<e?this.gf(t,e,r+1,i):r},e.delete=function(t){const e=this.gf(this._f,t,0,this._f.length);if(-1===e)throw new Error("key does not exist");this._f.splice(e,1),delete this.mf[t]},e.set=function(t,e){return this.mf[t]=e,this.yf(t),this},e.get=function(t){return this.mf[t]},e.keys=function(){return this._f.slice()},e.values=function(){return this.keys().map((t=>this.mf[t]))},e.forEach=function(t){const e=this._f.length;for(let n=0;n<e&&!1!==t(this.mf[this._f[n]],this._f[n],this);n++);},X(t,[{key:"size",get:function(){return this._f.length}}])}();const iE={},rE=t=>{var e;const n=new nE;return null!=(e=t.embed)&&null!=(e=e.cards)&&e.length&&t.embed.cards.forEach((t=>{const e=t.url?J(J({},t),{},{url:Ip(t.url)}):t;n.set(t.timecode,Eb(e))})),n},oE=t=>{const{events:e,set:n}=t,i=function(t){return{cardsMap:rE(t.config),activeCard:null,hoveredCard:null,displayedCard:null,cardPressed:void 0}}(t),r=t=>{const{hoveredCard:e,activeCard:n}=t,i=null!==e?e:n;return{cards:J(J({},t),{},{displayedCard:i})}},o=t=>{t&&e.fire(Nh.fc,t.id,t)},s=t=>t.timecode;return e.on(Nh.Hl,((t,e)=>{n((t=>{const n=J(J({},t.cards),{},{cardsMap:rE(e),activeCard:null,hoveredCard:null});return r(n)}))})),e.on(Ah._addCard,(t=>{n((e=>{let{cardsMap:n}=e.cards;n.set(t.timecode,t),o(t);const i=J(J({},e.cards),{},{cardsMap:n,activeCard:t.timecode});return r(i)}))})),e.on(Ah._removeCard,(t=>{n((e=>{let{cardsMap:n}=e.cards;n.delete(t.timecode);const i=J(J({},e.cards),{},{cardsMap:n,activeCard:null,hoveredCard:null});return r(i)}))})),e.on(ao.TIME_UPDATE,(({currentTime:t})=>{n((e=>{const n=((t,e)=>{const{cardsMap:n}=t.cards;let i=n.values().filter((t=>((t,e)=>e>=s(t)&&e<(t=>s(t)+(t.displayTime||6))(t))(t,e))).slice(-1)[0];return(null==i?void 0:i.timecode)||null})(e,t),i=e.cards.cardsMap.get(n);if(n===e.cards.activeCard)return iE;const a=J(J({},e.cards),{},{activeCard:n});return o(i),r(a)}))})),e.on(Nh._u,(()=>{n((t=>{const e=J(J({},t.cards),{},{activeCard:null,hoveredCard:null});return r(e)}))})),{cards:i,setCards:(t,i)=>{"cardPressed"!==t?((t,e)=>{n((n=>{const i=J(J({},n.cards),{},{[t]:e});return r(i)}))})(t,i):e.fire(Nh.vc,i)}}};function sE(t){var e,n;const{config:i}=t,{title:r}=i.video,{title:o,portrait:s}=i.embed.settings,a=hv(),u=i.embed.settings.spatial_label,l=!(!i.video.spatial||!u),c=i.request.file_codecs||i.video.file_codecs,d=!Fc(c),h=i.request.hdr_formats||[],f=d&&(null==(e=c.hevc)||null==(e=e.hdr)?void 0:e.length)>0,p=h.includes(KC.HDR10_PLUS),v=h.includes(KC.DV84)||d&&(null==(n=c.hevc)||null==(n=n.dvh1)?void 0:n.length)>0,m=!!i.video.ai,_=i.video.channel_layout||"stereo",b=i.video.owner[Se.devicePixelRatio>1?"img_2x":"img"],y=i.video.owner.name,g=wp(bh,i),w=wp(_h,i);let T=wp(mh,i);const C=function(t){let e={displayByline:!1,displayBadge:!1};if(t.embed.settings.byline){const{type:n,url:i}=t.embed.settings.byline_badge||{};Object.assign(e,{displayByline:!0,displayBadge:!t.video.live_event,bylineBadgeType:n,bylineBadgeUrl:i})}return e}(i);return t.segmentedPlaybackEnabled&&(T=Mp(T,t.startTime,t.endTime)),J({ownerLinkUrl:g,titleLinkUrl:T,bylineLinkUrl:w,displayTitle:!!o,displayPortrait:!!s,ownerName:y,targetBlank:a,portraitImg:b,title:r,is360:l,hasAIContent:m,hasHDR:f,hasHDR10Plus:p,hasDolbyVision:v,channelLayout:_},C)}const aE=250;let uE;function lE(t){var e;const{config:n,store:i}=t,{request:r,video:o}=n,s=wp(vh,t.config),a=null==(e=o.vod)?void 0:e.button_text,u=i.get("ui.player.breakpoint"),l=i.get("ui.player.mode"),c=Wv(Gv.FULL_CONTROLS,l,u);return{overrideBehavior:!1,trailerButtonText:a,vimeoLogoUrl:s,thumbnailPreview:r.thumb_preview,showAllControls:c,expandedState:"collapsed",isExpanded:!1,shouldRestoreButtonsDisplayed:!1}}let cE=function(t){return t.EMPTY="empty",t.UNMUTE="unmute",t.WATCH_FULL_VIDEO="watchFullVideo",t.SPATIAL_INSTRUCTIONS_CLICK="spatialInstructionsClick",t.SPATIAL_INSTRUCTIONS_ARROWS="spatialInstructionsArrows",t}({});const dE=[cE.SPATIAL_INSTRUCTIONS_CLICK,cE.SPATIAL_INSTRUCTIONS_ARROWS,cE.WATCH_FULL_VIDEO,cE.UNMUTE];function hE(t){const{config:e}=t,{autoplay:n,settings:i}=e.embed;return{purpose:t.segmentedPlaybackEnabled&&n&&i.watch_full_video?cE.WATCH_FULL_VIDEO:cE.EMPTY}}function fE({displayList:t,playback:e,embed:n}){const{outro:i,controlBar:r}=t,{isSegmentedPlaybackEnabled:o,paused:s,scrubbing:a}=e;return!!o&&(!i&&r&&!(s&&!a)&&n.watchFullVideo)}function pE(t){const e=t.embed.access_gates;if(!e)return null;const n=e.find((t=>t.placement===gv.BEFORE_VIDEO));return n?Sv(null==n?void 0:n.gate_type,t)?null:((t,e)=>{const n=Tv[t];return!n||n.includes(e.view)})(null==n?void 0:n.gate_type,t)?n:null:null}const vE=t=>!t.title&&!t.portrait&&!t.byline,mE=t=>{var e;const{config:n,element:i,get:r}=t,{embed:o}=n,s=i.classList.contains("player-tiny"),a=hE(t),u=(null==a?void 0:a.purpose)===cE.WATCH_FULL_VIDEO;return!(s||null!==pE(n)||(null==(e=r())||null==(e=e.overlay)?void 0:e.purpose)===Pf.INTERACTIVE||n.view&&!Cf(n.view)||null!=o&&o.autoplay||vE(null==o?void 0:o.settings)||!$f(o)||u)},_E=t=>{var e;const{config:n,get:i}=t,{view:r,video:o,embed:s,request:a}=n,{vod:u}=o,l=r!==Lh.main&&r!==Lh.privateUnlocked,c=!!s.settings.instant_sidedock,d=u&&"purchase_options"in u&&!!u.purchase_options.length,h=u&&Tf(u.countries,a.country);return(null==(e=i())||null==(e=e.overlay)?void 0:e.purpose)!==Pf.INTERACTIVE&&null===pE(n)&&!!$f(s)&&!t.segmentedPlaybackEnabled&&(Se.touch||l||c||d&&h)},bE=t=>{var e,n;const{config:i,get:r}=t,{view:o,embed:s,request:a}=i;return!(null!==pE(t.config)||(null==(e=r())||null==(e=e.overlay)?void 0:e.purpose)===Pf.INTERACTIVE||o&&!Cf(o)||s.autoplay&&null!=(n=a.flags)&&n.autohide_controls||!$f(s))};let yE=function(t){return t.IMAGE="image",t.STATIC_IMAGE="static-image",t.VOD="vod",t.LINK="link",t.NOTHING="nothing",t.BLANK="blank",t.SHARE="share",t.TEXT="text",t.BEGINNING="beginning",t.VIDEOS="videos",t.THREEVIDEOS="threevideos",t.PROMOTED="promoted",t.APP_REDIRECT="app-redirect",t}({});const gE=(t,e,n)=>!(t&&t===e)&&!1!==(null==n?void 0:n.final);function wE({get:t,set:e}){return{purpose:Pf.EMPTY,spatialRedirectContext:null,overlayElementsUpdatedCount:0,incrementOverlayElementsUpdatedCount:()=>{e((e=>({overlay:J(J({},e.overlay),{},{overlayElementsUpdatedCount:t().overlay.overlayElementsUpdatedCount+1})})))}}}function TE(t){return Object.values(Pf).includes(t)}let CE=function(t){return t.EMPTY="empty",t.SPATIAL_UNSUPPORTED="spatial-unsupported",t.SPATIAL_FAILURE="spatial-failure",t}({});const EE=({element:t,config:e})=>{if(t.classList.contains("player-mini")||t.classList.contains("player-tiny"))return!1;const{embed:n}=e;return!(!n.settings.badge||n.autoplay&&16!==n.settings.badge.id)};let kE=function(t){return t.IDLE="idle",t.LOADED="loaded",t.ERROR="error",t.LOADING="loading",t}({}),SE=function(t){return t.MAIN="main",t.LANGUAGE="language",t}({}),AE=function(t){return t.SMALL="small",t.MEDIUM="medium",t.LARGE="large",t}({}),NE=function(t){return t.PREV="prev",t.NEXT="down",t.FIRST="first",t.LAST="last",t}({});const ME="en",OE=t=>t.replace(/<\/?[\w\s]*>|<.+[\W]>/g,""),IE={language:ME,id:"",label:"Transcript",rtl:!1},RE=(t,e)=>{const{lang:n,cookie:i}=t.request,{captions:r,transcript:o}=i,[s]=(o||"").split("."),[a]=(r||"").split("."),u=o&&e.find((t=>t.language.includes(s)))||a&&e.find((t=>t.language.includes(a)))||n&&e.find((t=>n.includes(t.language)))||e.find((t=>t.language.includes(ME)))||e[0]||IE;return u},LE=(t,e)=>!!t.find((t=>t.index===e));function xE(t,e,n,i){const r=(t=>t.map(((t,e)=>({startTime:t.startTime,endTime:t.endTime,startTimeDisplay:"",text:OE(t.text),originalIndex:e}))))(t),o=((t,e,n=null,i=null)=>{let r;return r=e?t.reduce(((t,n)=>(n.startTime>=e.startTime&&n.endTime<=e.endTime&&t.push(J(J({},n),{},{startTimeDisplay:Hf(Nf(n.startTime,e))})),t)),[]):(t=>t.map((t=>J(J({},t),{},{startTimeDisplay:Hf(t.startTime)}))))(null!==n||null!==i?t.filter((t=>{const e=null===n||t.startTime>=n,r=null===i||t.startTime<=i;return e&&r})):t),r})(r,!Se.isGoogleBot&&e,n,i),s=(t=>t.map(((t,e,n)=>{const i=n[e+1];return i&&i.startTime<t.endTime?J(J({},t),{},{endTime:i.startTime}):t})))(((t,e=20,n=20,i=10)=>{if(0===t.length)return[];let r,o,s,a,u;return l(t[0]),t.reduce((function(s,a,u,d){var h;const{text:f,endTime:p}=a,v=function(t,e){return t+1===e.length}(u,d);if(o+=`${f} `,v)return c(p,s);const m=f.split(" "),_=function(t){return function(t){return[".","?","!"].some((e=>t.trim().endsWith(e)))}(t[t.length-1])}(m);r+=m.length;const b=r>=n,y=r>=e&&_,g=function(t,e,n){return e-t>n}(a.endTime,null==(h=d[u+1])?void 0:h.startTime,i);return(b||y||g)&&(s=c(p,s),l(t[u+1])),s}),[]).map(((t,e)=>J(J({},t),{},{originalIndex:e})));function l(t){t&&(r=0,o="",s=t.startTime,a=t.originalIndex,u=t.startTimeDisplay)}function c(t,e){return e.concat({originalIndex:a,text:o.trim(),startTime:s,startTimeDisplay:u,endTime:t})}})(o));return s}const DE=t=>Se.isGoogleBot||(null==t?void 0:t.config.embed.tq),PE=[Pf.EMPTY,Pf.HELP,Pf.SHARE,Pf.INTERACTIVE],BE=({config:t,store:e})=>{const{embed:n}=t;if(!n.settings.playbar)return!1;if(!$f(n))return!1;const i=e.get("ui.player.breakpoint"),r=e.get("ui.player.mode");return Wv(Gv.PROGRESS_BAR,r,i)},$E=t=>{const e=DE(t);return Se.isGoogleBot&&e};function jE(t){t((t=>({displayList:J(J({},t.displayList),{},{aiWidget:!1})})))}const VE=({config:t,store:e})=>{const{embed:n}=t;if(!$f(n))return!1;const i=e.get("ui.player.breakpoint"),r=e.get("ui.player.mode");return Wv(Gv.FULL_CONTROLS,r,i)},FE=t=>{const{set:e,get:n}=t,i=function(t){const e=_E(t),n=mE(t),i=(t=>wE(t).purpose!==Pf.EMPTY)(t),r=(({store:t,config:e,events:n,set:i})=>{var r;return n.on(Nh.Hl,((t,e)=>{i((t=>{var n;return{displayList:J(J({},t.displayList),{},{cards:!(null==(n=e.embed)||null==(n=n.cards)||!n.length||t.appearance.isMenuBlockingUI)})}}))})),!(null==(r=e.embed)||null==(r=r.cards)||!r.length||t.get("ui.controlbar.isMenuFullWidth"))})(t),o=EE(t),s=bE(t),a=BE(t),u=$E(t),l=DE(t),c=function(t){const{purpose:e}=hE(t);return e!==cE.EMPTY}(t),d=(t=>{const{config:e}=t;return null!==pE(e)})(t),h=VE(t),f=i||d;return(({set:t,get:e,events:n,subscribe:i,performDelegateAction:r})=>{const o=t=>{e().displayList.outro!==t&&(t&&(e().displayList.accessGate||e().displayList.ad||e().embed.background||e().embed.loop||e().outro.purpose===yE.BEGINNING)||(t?r(Gb,(()=>{a(t)})):a(t)))};function s(t){t?o(!1):e().playback.ended&&o(!0)}function a(e){t((t=>({displayList:J(J({},t.displayList),{},{outro:e})}))),n.fire(e?Nh.Ql:Nh.tc)}n.on([ao.PLAY,ao.SEEKED,Nh.ju,Ah._hideOutro,Ah.Ra],(()=>o(!1))),n.on(Ah.Wa,(()=>o(!0))),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.ended}),(t=>o(t))),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.accessGate}),s),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),s)})(t),(({store:t,config:e,set:n})=>{t.watch("ui.controlbar.isMenuFullWidth",(t=>{n((n=>{var i;return{displayList:J(J({},n.displayList),{},{cards:!(null==(i=e.embed)||null==(i=i.cards)||!i.length||t)})}}))}))})(t),(({set:t,events:e,store:n})=>{n.watch("ui.player.mode",(e=>{e===tp.TINY&&t((t=>({displayList:J(J({},t.displayList),{},{debugPanel:!1})})))})),e.on(Nh.wl,(()=>{t((t=>n.get("ui.player.mode")===tp.TINY?iE:{displayList:J(J({},t.displayList),{},{debugPanel:!t.displayList.debugPanel})}))}))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r}=t;function o(t={}){n().displayList.sideDock&&e((e=>{const{playback:n,displayList:i,appearance:o,embed:s,cards:a}=e,{fullPlayerElement:u,alert:l,menu:d,toast:h}=i,{playInitiated:f,targetTimeReached:p}=n,{forceExitedFullscreen:v}=o,m=wf(o,t,"mousedOverSidedock"),_=u||l||d&&o.isMenuBlockingUI||!!a.displayedCard||h&&c();return v?iE:f&&p||_||s.autoHideControls?m?iE:!o.externalDisplay&&!o.pictureInPictureActive||_?(r.fire(Nh.Xu,!1),{appearance:J(J({},e.appearance),{},{mousedOverSidedock:m}),displayList:J(J({},e.displayList),{},{sideDock:!1})}):iE:iE}))}function s(t={}){n().displayList.sideDock||e((e=>{const{displayList:n,appearance:i,embed:o,cards:s,playback:a}=e,{menu:u,fullPlayerElement:l,alert:d,toast:h}=n,f=l||d||u&&i.isMenuBlockingUI||!!s.displayedCard||h&&c();return $f(o)?f||a.isSegmentedPlaybackEnabled?iE:(r.fire(Nh.Xu,!0),{appearance:J(J({},e.appearance),{},{mousedOverSidedock:wf(e.appearance,t,"mousedOverSidedock")}),displayList:J(J({},e.displayList),{},{sideDock:!0})}):iE}))}function a(){return o({mousedOverSidedock:!1})}function u(t,e){t&&e&&a()}function l(t,e){!t&&e&&s()}function c(){return[Bv.XXS,Bv.XS].includes(n().appearance.playerBreakpoint)}r.on([Nh.Ml,Nh.Il,Nh.ku],o),r.on([Nh.Ol,Nh.Mc,ao.ENTER_PICTURE_IN_PICTURE],s),r.on(Nh.Hl,(function(n,i){const r=_E(J(J({},t),{},{config:i}));e((t=>({displayList:J(J({},t.displayList),{},{sideDock:r})})))})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.targetTimeReached}),(t=>t&&o())),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.fullscreen}),(t=>!t&&a())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.alert}),(t=>t&&o())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(t=>t?u(t,n().appearance.isMenuBlockingUI):l(t,n().appearance.isMenuBlockingUI))),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.isMenuBlockingUI}),(t=>t?u(n().displayList.menu,t):l(n().displayList.menu,t))),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>t?a():s())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>{t?e((t=>({displayList:J(J({},t.displayList),{},{sideDock:!1})}))):n().displayList.sideDock||s()})),i((t=>{var e;return null==t||null==(e=t.cards)?void 0:e.displayedCard}),(t=>t&&a())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.toast}),(t=>t&&c()&&a())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.isSegmentedPlaybackEnabled}),(t=>{t?a():s()}))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r,config:o}=t;function s(){e((t=>{const{appearance:e,playback:n,embed:i}=t,{externalDisplay:r}=e,{scrubbing:s,paused:a}=n,u=c(t),{embed:l}=o;return $f(i)?e.playerSizeMode===tp.TINY||vE(l.settings)||u?iE:r?{displayList:J(J({},t.displayList),{},{title:!0})}:!a||s?iE:{displayList:J(J({},t.displayList),{},{title:!0})}:iE}))}function a(){e((t=>{const{appearance:e,playback:n}=t,{externalDisplay:i}=e,{playInitiated:r}=n,o=c(t);return e.playerSizeMode===tp.TINY||o?{displayList:J(J({},t.displayList),{},{title:!1})}:i||!r?iE:{displayList:J(J({},t.displayList),{},{title:!1})}}))}function u(t,e){t&&e&&a()}function l(t,e){!t&&e&&s()}function c(t){const{fullPlayerElement:e,outro:n,menu:i,toast:r,topCenterActionItem:o}=t.displayList,{isMenuBlockingUI:s}=t.appearance;return e||n||i&&s||r||o}i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.playInitiated}),(t=>t&&a())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.fullscreen}),(t=>{t?a():s()})),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.externalDisplay}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),(t=>{t?a():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{t?a():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(t=>t?u(t,n().appearance.isMenuBlockingUI):l(t,n().appearance.isMenuBlockingUI))),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.isMenuBlockingUI}),(t=>t?u(n().displayList.menu,t):l(n().displayList.menu,t))),i((t=>{var e;return null==t||null==(e=t.overlay)?void 0:e.purpose}),(t=>{[Pf.NOT_SUPPORTED,Pf.HELP,Pf.EMPTY].includes(t)||a()})),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerSizeMode}),(t=>{t===tp.TINY?a():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.toast}),(t=>t?a():s())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.topCenterActionItem}),(t=>t?a():s())),r.on(Nh._u,a).on(Ah.Ra,s).on(Nh.Hl,((n,i)=>{e((e=>({displayList:J(J({},e.displayList),{},{title:mE(J(J({},t),{},{config:i}))})})))}))})(t),(({set:t,subscribe:e})=>{e((t=>{var e;return null==t||null==(e=t.overlay)?void 0:e.purpose}),(e=>(e=>{t((t=>({displayList:J(J({},t.displayList),{},{overlay:e})})))})(!Bf(e))))})(t),(({get:t,set:e,subscribe:n})=>{n((t=>{var e;return null==t||null==(e=t.alert)?void 0:e.currentAlert}),(n=>{const i=t().displayList.alert;if(!i&&n===CE.EMPTY)return;if(i&&n!==CE.EMPTY)return;const r=n!==CE.EMPTY;e((t=>({displayList:J(J({},t.displayList),{},{alert:r})})))}))})(t),(({events:t,subscribe:e,set:n,get:i})=>{function r(){n((t=>{const{menu:e}=t.displayList;return e?{displayList:J(J({},t.displayList),{},{menu:!1})}:iE}))}t.on(Ah.Ra,r),e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(e=>{const n=e?Uh:"";t.fire(Nh.Gu,n)})),e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>{var e,n,o,s;return t&&((null==(e=i())?void 0:e.appearance.appBreakpoint)===Bv.XS||(null==(n=i())?void 0:n.appearance.appBreakpoint)===Bv.XXS||(null==(o=i())?void 0:o.appearance.appSizeMode)===tp.MINI||(null==(s=i())?void 0:s.appearance.appSizeMode)===tp.TINY)&&r()})),e((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.appBreakpoint}),(t=>{var e;return(null==(e=i())?void 0:e.displayList.transcript)&&(t===Bv.XS||t===Bv.XXS)&&r()})),e((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.appSizeMode}),(t=>{var e;return(null==(e=i())?void 0:e.displayList.transcript)&&(t===tp.MINI||t===tp.TINY)&&r()}))})(t),(({set:t,events:e})=>{const n=e=>t((t=>({displayList:J(J({},t.displayList),{},{ad:e})})));e.on(Nh.vu,(()=>n(!0))),e.on([Nh.mu,Ah.Ra],(()=>n(!1)))})(t),(({set:t,get:e,config:n,events:i,subscribe:r,store:o,element:s})=>{let a=n;const u=(e={})=>{var n;(16!==(null==(n=a.embed)||null==(n=n.settings)||null==(n=n.badge)?void 0:n.id)||e.isStockBadgeBehavior)&&t((t=>({displayList:J(J({},t.displayList),{},{badge:!1})})))},l=(e={})=>{var n;(16!==(null==(n=a.embed)||null==(n=n.settings)||null==(n=n.badge)?void 0:n.id)||e.isStockBadgeBehavior)&&t((t=>{const{appearance:e}=t;return[tp.MINI,tp.TINY].includes(e.playerSizeMode)?iE:a.embed.settings.badge?{displayList:J(J({},t.displayList),{},{badge:!0}),appearance:J(J({},t.appearance),{},{shouldRestoreBadge:!1})}:iE}))};function c(e){t((t=>({displayList:J(J({},t.displayList),{},{badge:EE({config:e,element:s})})})))}i.on(Nh.Uu,(t=>{var e;16===(null==(e=a.embed)||null==(e=e.settings)||null==(e=e.badge)?void 0:e.id)&&(t?l({isStockBadgeBehavior:!0}):u({isStockBadgeBehavior:!0}))})),i.on(Nh._u,u),i.on(Nh.Hl,((t,e)=>{a=e,c(e)})),i.on(Ah.Ra,(()=>{c(a)})),o.watch("ui.player.mode",(n=>{n!==tp.TINY&&n!==tp.MINI||!e().displayList.badge?e().appearance.shouldRestoreBadge&&l():t((t=>({displayList:J(J({},t.displayList),{},{badge:!1}),appearance:J(J({},t.appearance),{},{shouldRestoreBadge:!0})})))})),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{t?l():u()})),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.playInitiated}),(t=>t&&u())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{(function(t){return[Pf.NOT_SUPPORTED,Pf.HELP,null].includes(t)})(t)||u(),t||e().playback.playInitiated||l()}))})(t),(({set:t,subscribe:e})=>{e((t=>{var e;return null==t||null==(e=t.notification)?void 0:e.currentNotification}),(e=>{(e=>{t((t=>({displayList:J(J({},t.displayList),{},{notification:e})})))})(!!e)}))})(t),(({set:t,events:e})=>{const n=e=>{t((t=>({displayList:J(J({},t.displayList),{},{pipOverlay:e})})))};e.on(ao.ENTER_PICTURE_IN_PICTURE,(()=>n(!0))),e.on(ao.LEAVE_PICTURE_IN_PICTURE,(()=>n(!1)))})(t),(t=>{const{set:e,events:n,config:i,subscribe:r}=t;function o(t={}){e((e=>{const{controlBar:i,embed:r,playback:o,displayList:s,appearance:a}=e,u=wf(a,t,"mousedOverControlBar"),l={appearance:J(J({},e.appearance),{},{mousedOverControlBar:u})};return i.overrideBehavior||a.forceExitedFullscreen?l:o.playInitiated&&o.targetTimeReached||s.fullPlayerElement||r.autoHideControls||s.ad?u?l:!a.externalDisplay&&!a.pictureInPictureActive||s.fullPlayerElement?o.buffering||o.scrubbing?l:(n.fire(Nh.Uu,!1),J(J({},l),{},{displayList:J(J({},e.displayList),{},{controlBar:!1})})):l:l}))}function s(){e((t=>{const{displayList:e,controlBar:i,embed:r}=t;return $f(r)?i.overrideBehavior||e.fullPlayerElement?iE:(n.fire(Nh.Uu,!0),{displayList:J(J({},t.displayList),{},{controlBar:!0})}):iE}))}function a(){return o({mousedOverControlBar:!1})}function u(n){const i=bE(J(J({},t),{},{config:n}));e((t=>({displayList:J(J({},t.displayList),{},{controlBar:i})})))}n.on([Nh.Ol,Nh.ju,Ah.Ma,Ah.Ra],s),n.on(Nh.Ml,a),n.on(Nh.Il,o),n.on(Nh.Hl,(function(t,e){u(e)})),n.on([Lc.STREAM_ONLINE,Lc.STREAM_OFFLINE,Lc.EVENT_ENDED],(function(){u(i)})),n.on(Ah.qa,(function(t){e((e=>e.controlBar.overrideBehavior?{displayList:J(J({},e.displayList),{},{controlBar:t})}:iE))})),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.externalDisplay}),(t=>t&&s())),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.targetTimeReached}),(t=>t&&o())),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.fullscreen}),(t=>{t?a():s()})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{t?o():s()})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(t=>{t&&s()}))})(t),(t=>{const{get:e,set:n,events:i,subscribe:r,config:o}=t;function s(){n((t=>{const{transcript:e}=t.displayList;return e?a(t,!1):iE}))}function a(t,e){return{displayList:J(J({},t.displayList),{},{transcript:e})}}i.on(Nh.Hl,(()=>{n((e=>a(e,DE(t))))})),i.on(Nh.Qc,(function(){var t,i,r,s,a;const u=null==(t=e())||null==(t=t.overlay)?void 0:t.purpose,l=null==(i=e().displayList)?void 0:i.transcript,c=null==(r=e())||null==(r=r.displayList)?void 0:r.outro,d=null==(s=e())||null==(s=s.displayList)?void 0:s.accessGate,h=null==(a=e())||null==(a=a.captions)?void 0:a.textTracks,f=!!l||!c&&PE.includes(u)&&!!h.length&&!d;e().embed.transcript&&f&&(n((t=>J(J({},t),{},{displayList:J(J({},t.displayList),{},{transcript:!t.displayList.transcript})}))),n_(im.EMBEDDED_TRANSCRIPT_CLICK,o,{name:l?"exit_embed_transcript":"open_embed_transcript",copy:null,location:"keyboard_shortcut",element:"",current_transcript_language:""}))})),i.on(Nh.Kc,s),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),(t=>t&&s())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>t&&s())),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.stereoscopicEnabled}),(t=>t&&s())),r((t=>{var e,n;return(null==t||null==(e=t.displayList)?void 0:e.overlay)&&!PE.includes(null==t||null==(n=t.overlay)?void 0:n.purpose)}),(t=>t&&s())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.accessGate}),(t=>t&&s())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>{var n;(({events:t},e)=>{t.fire(Ah.au,e)})({events:i},t);const r=null==(n=e())||null==(n=n.captions)?void 0:n.textTrackEls;t&&(({config:t,events:e},n)=>{var i;const r=n.map((t=>({id:t.id,label:t.label,language:t.srclang}))),o=(null==(i=RE(t,r))?void 0:i.language)||"";e.fire(Nh.Jc,{id:Ot(),startTime:Date.now(),defaultLanguage:o})})({config:o,events:i},r)})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.aiWidget}),(t=>t&&s()))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r}=t;function o(){e((t=>({displayList:J(J({},t.displayList),{},{progressBar:!1})})))}function s(){e((t=>{const{appearance:e,displayList:n,embed:i,controlBar:r}=t,{playerSizeMode:o,playerBreakpoint:s}=e;return i.playbar?n.ad?iE:Wv(Gv.PROGRESS_BAR,o,s)?!r.showAllControls&&n.controlBarButtons?iE:{displayList:J(J({},t.displayList),{},{progressBar:!0})}:iE:iE}))}i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerSizeMode}),(t=>{t===tp.TINY?o():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.controlBarButtons}),(t=>{t&&!n().controlBar.showAllControls?o():s()})),i((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.showAllControls}),(t=>{!t&&n().displayList.controlBarButtons?o():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>{t?o():s()})),r.on(Nh.Hl,((n,i)=>{e((e=>({displayList:J(J({},e.displayList),{},{progressBar:BE(J(J({},t),{},{config:i}))})})))}))})(t),(t=>{const{subscribe:e,set:n,get:i,events:r}=t;function o(t){r.fire(Nh.qc,t),n((e=>({displayList:J(J({},e.displayList),{},{rightContentArea:t}),appearance:J(J({},e.appearance),{},{rightContentAreaAnimating:!0})}))),clearTimeout(s),s=setTimeout((function(){n((t=>({appearance:J(J({},t.appearance),{},{rightContentAreaAnimating:!1})})))}),400)}let s;e((t=>{var e,n;return(null==t||null==(e=t.displayList)?void 0:e.transcript)||(null==t||null==(n=t.displayList)?void 0:n.aiWidget)}),(t=>{var e;const n=null==(e=i())||null==(e=e.displayList)?void 0:e.rightContentArea;t&&!n?o(!0):!t&&n&&o(!1)})),$E(t)&&r.fire(Nh.qc,!0)})(t),(({set:t,get:e,events:n,subscribe:i,config:r,backbone:o})=>{function s(){t((t=>({displayList:J(J({},t.displayList),{},{captions:!1})})))}function a(){t((t=>{const{appearance:e,embed:n}=t;return n.cc?e.pictureInPictureActive||n.background?iE:{displayList:J(J({},t.displayList),{},{captions:!0})}:(o.disableTextTrack(),iE)}))}n.on(gc,a),n.on(ao.ENTER_PICTURE_IN_PICTURE,s),n.on(ao.LEAVE_PICTURE_IN_PICTURE,a),n.on(Nh._u,(()=>{r.embed.outro!==yE.NOTHING&&s()})),n.on(Ah.Ra,s),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{!t&&a()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.scrubbing}),(t=>{t&&a()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.captions)?void 0:e.activeCues}),(t=>{var n;t.length&&null!=(n=e())&&null!=(n=n.playback)&&n.playInitiated?a():s()}))})(t),(t=>{const{subscribe:e,events:n}=t;e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.toast}),(t=>n.fire(Nh.zu,t)))})(t),(t=>{const{subscribe:e,set:n,get:i,events:r}=t;e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>t&&jE(n))),r.on(Ah.su,(t=>{t===sf.AI_WIDGET_ID&&jE(n)})),r.on(Nh.td,(()=>{const{toggleDisplayList:t,embed:e}=i();e.aiWidget&&t("aiWidget")}))})(t),(t=>{const{set:e,events:n}=t,i=t=>{e((e=>({displayList:J(J({},e.displayList),{},{accessGate:t})})))};n.on(Nh.ld,(()=>{i(!0)})),n.on(Nh.dd,(()=>{i(!1)}))})(t),(({set:t,get:e,subscribe:n})=>{function i(){t((t=>({displayList:J(J({},t.displayList),{},{fullPlayerElement:e().displayList.accessGate||e().displayList.overlay})})))}n((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.overlay}),(()=>i())),n((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.accessGate}),(()=>i()))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r}=t;function o(){e((t=>({displayList:J(J({},t.displayList),{},{controlBarButtons:!1})})))}function s(){$f(n().embed)&&(n().controlBar.isExpanded||e((t=>({displayList:J(J({},t.displayList),{},{controlBarButtons:!0})}))))}i((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.showAllControls}),(t=>{t||n().controlBar.shouldRestoreButtonsDisplayed?s():o()})),i((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.isExpanded}),(t=>{!t&&n().controlBar.showAllControls?s():o()})),r.on(Nh.Hl,((n,i)=>{e((e=>({displayList:J(J({},e.displayList),{},{controlBarButtons:VE(J(J({},t),{},{config:i}))})})))}))})(t),{debugPanel:false,cards:r,sideDock:e,title:n,controlBar:s,outro:false,overlay:i,alert:false,menu:false,ad:false,badge:o,notification:false,nudgeNotification:false,pipOverlay:false,transcript:l,progressBar:a,rightContentArea:u,captions:false,toast:false,topCenterActionItem:c,aiWidget:false,accessGate:d,fullPlayerElement:f,controlBarButtons:h}}(t),r=(t,n)=>{e((e=>({displayList:J(J({},e.displayList),{},{[t]:n})})))};return{displayList:i,setDisplayList:r,toggleDisplayList:t=>{const e=n().displayList[t];r(t,!e)}}};function HE(t){const{config:e,store:n}=t,{video:i}=e,r=n.get("ui.player.width"),o=n.get("ui.player.height"),s=i.width,a=i.height,{videoWidth:u,videoHeight:l}=UE(r,o,s,a),c=x_(t);return{playerBreakpoint:n.get("ui.player.breakpoint"),appBreakpoint:n.get("ui.app.breakpoint"),playerSizeMode:n.get("ui.player.mode"),appSizeMode:n.get("ui.app.mode"),transcriptNavActive:!1,fullscreen:!1,forceExitedFullscreen:!1,pictureInPictureActive:!1,externalDisplay:!1,mousedOverSidedock:!1,mousedOverControlBar:!1,isMenuBlockingUI:n.get("ui.controlbar.isMenuFullWidth"),isMenuVerticalVideoMode:n.get("ui.controlbar.isMenuVerticalVideoMode"),shouldRestoreBadge:!1,isVerticalVideo:n.get("ui.player.isVerticalVideo"),boundingClientRect:Jd(t.element),isDisplayContextBackbone:t.displayContext===t.backbone,showAirPlayPicker:!1,shouldMenuItemsWrap:n.get("ui.controlbar.doMenuItemsWrap"),stereoscopicEnabled:!1,videoWidth:u,videoHeight:l,playerWidth:r,playerHeight:o,containerWidth:n.get("ui.container.width"),containerHeight:n.get("ui.container.height"),placeholderThumbnail:Nt(null==i?void 0:i.thumbnail_url,{mw:"80",q:"85"}),rightContentAreaAnimating:!1,isStartTimeThumbLoading:c}}function UE(t,e,n,i){const r=n/i,o=r>t/e;return{videoWidth:o?t:Math.round(e*r),videoHeight:o?Math.round(t/r):e}}const zE=(t,e)=>{XT((()=>{const n=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(e.playbackEngineReady(),(function(){t()}))}));n()}))},XE=t=>({onClick:e=>{e.preventDefault(),e.stopPropagation(),t(e)},onKeyDown:e=>{["Enter"," "].includes(e.key)&&document.body.classList.contains(tf.SHOWFOCUS)&&(e.preventDefault(),e.stopPropagation(),t(e))},onMouseDown:t=>{t.preventDefault()}}),GE=()=>{const t=EA((t=>t.playback.paused)),e=EA((t=>t.playback.scrubbing)),n=EA((t=>t.playback.scrubbingByFrame)),i=EA((t=>t.playback.playInitiated)),r=EA((t=>t.chromecast.isChromecastPlaying)),o=EA((t=>t.chromecast.isChromecastConnected)),s=EA((t=>t.playback.buffering)),a=EA((t=>t.playback.isAdPlaying)),u=EA((t=>t.embed.isTrailer)),l=EA((t=>t.embed.autoPlay)),c=EA((t=>t.displayList.outro)),d=EA((t=>t.displayList.ad)),h=u&&!i;let f=sp.PLAY;h?f=sp.TRAILER:l&&(f=sp.PAUSE);const[p,v]=UT(f);return o&&v(r?sp.PAUSE:sp.PLAY),d&&v(a?sp.PAUSE:sp.PLAY),XT((()=>{c?v(sp.REPLAY):e&&!c&&v(t?sp.PLAY:sp.PAUSE)}),[c]),XT((()=>{e&&!n||s||h||o||c||d||v(t?sp.PLAY:sp.PAUSE)}),[t,s,h,o,c,d]),XT((()=>{i&&v(sp.PAUSE)}),[i]),{buttonState:p,setButtonState:v}};let WE=function(t){return t.PREFS="prefs",t.CHAPTERS="chapters",t.CC="cc",t.TRANSCRIPT="transcript",t.SIDEDOCK="sidedock",t}({}),qE=function(t){return t.EMPTY="empty",t.PREFS="prefs",t.QUALITY="quality",t.SPEED="speed",t.AUDIO="audio",t.CHAPTERS="chapters",t.LANGUAGES="languages",t.CUSTOMIZE="customize",t.FONT="font",t.BACKGROUND="background",t.WINDOW="window",t.PREVIEW="preview",t.TRANSCRIPT_SETTINGS="transcriptSettings",t.TRANSCRIPT_LANGUAGES="transcriptLanguages",t.SIDEDOCK="sidedock",t}({}),YE=function(t){return t.SMALL="small",t.MEDIUM="medium",t.LARGE="large",t}({});const KE=()=>{const t=EA((t=>t.captions.textTracks)),e=EA((t=>t.playback.supportsTextTracks)),n=EA((t=>t.appearance.isDisplayContextBackbone)),i=EA((t=>t.displayList.ad)),r=EA((t=>t.embed.speedChangeEnabled)),o=EA((t=>t.playback.qualities)),s=EA((t=>t.embed.quality)),a=EA((t=>t.chromecast.isChromecastConnected)),u=EA((t=>t.chapters.chapters)),l=EA((t=>t.embed.transcript)),c=EA((t=>t.embed.cc)),d=EA((t=>t.embed.chapters)),h=EA((t=>t.playback.isSegmentedPlaybackEnabled)),f=EA((t=>t.playback.audioTracks)),p=!(!s||null==o||!o.length),v=f.length>1,m=e&&!!t.length&&n&&!i&&c,_=n&&!!(r||p||v)&&!a&&!i,b=!(null==u||!u.length)&&d&&!i&&!h,y=e&&!!t.length&&n&&!i&&l;return{[WE.CC]:m,[WE.PREFS]:_,[WE.CHAPTERS]:b,[WE.TRANSCRIPT]:y}};let ZE=function(t){return t.IDLE="idle",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t}({});function JE(){}const QE=t=>{const[e,n]=UT(ZE.IDLE),i=WT(),o=YT(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){if(null==i||!i.current)return function(t){if(t&&t.then)return t.then(JE)}(function(e,o){try{var s=function(){let e;return n(ZE.LOADING),function(t,e){var n=t();return n&&n.then?n.then(e):e(n)}((function(){return function(t,e){if(void 0)return e?e(t()):t();try{var n=r.resolve(t());return e?n.then(e):n}catch(t){return r.reject(t)}}(t,(function(t){e=t}))}),(function(){i.current=e,n(ZE.LOADED)}))}()}catch(t){return o()}return s&&s.then?s.then(void 0,o):s}(0,(function(t){n(ZE.ERROR)})))})),[t]);return{readyState:e,load:o,module:(null==i?void 0:i.current)||null}},tk=(t,e,n)=>{XT((()=>{function i(n){n.key!==t&&n.code!==t||e(n)}function r(e){e.key!==t&&e.code!==t||!n||n(e)}return window.addEventListener("keydown",i),n&&window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",i),n&&window.removeEventListener("keyup",r)}}),[e,n,t])},ek=()=>{const t=EA((t=>t.config)),e=YT(((e,n,i={})=>{n_(e,t,n,i)}),[t]);return e};let nk=function(t){return t[t.AUTO=0]="AUTO",t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t}({});const ik=()=>{const t=EA((t=>t.embed.playButtonPosition)),e=EA((t=>t.embed.playbar)),n=EA((t=>t.appearance.playerSizeMode)),i=EA((t=>t.appearance.isVerticalVideo)),{buttonState:r}=GE(),o=n===tp.TINY,s=n===tp.MINI&&i;return r===sp.REPLAY?nk.BOTTOM:o||s||t===nk.CENTER?nk.CENTER:t===nk.BOTTOM||t!==nk.AUTO||e?nk.BOTTOM:nk.CENTER},rk=()=>{const t=EA((t=>t.playback.volume)),e=EA((t=>t.playback.muted)),n=EA((t=>t.setPlayback)),i=()=>{n("muted",!1),t<=0&&n("volume",100)},r=()=>{n("muted",!0)};return{mute:r,unmute:i,toggleMuted:()=>{e||t<=0?i():r()}}},ok=(t=1e4)=>{const[e,n]=UT(!1),[i,r]=UT(t),[o,s]=UT(Date.now());return{hasError:e,componentTimeout:i,componentVersion:o,onError:()=>{n(!0)},onReload:()=>{n(!1),r(i+1e3),s(Date.now())}}};let sk=function(t){return t.VOLUME="volume",t.CHROMECAST="chromecast",t.AIRPLAY="airplay",t.STEREOSCOPIC="stereoscopic",t.PIP="pip",t.FULLSCREEN="fullscreen",t.VIMEO_LOGO="vimeo_logo",t}({});const ak=t=>{const e=EA((t=>t.appearance.playerSizeMode)),n=EA((t=>t.appearance.playerBreakpoint));return Wv(t,e,n)},uk=t=>{let e=[];return(null!=t&&t.children?a(t.children):[]).forEach((t=>{var n;const i=window.getComputedStyle(t);if(!i.display||"none"===i.display)return;const r="none"!==i.pointerEvents;t.tabIndex>-1&&r&&e.push(t),null!=(n=t.children)&&n.length&&(e=e.concat(uk(t)))})),e},lk=t=>{document.body.classList.toggle(tf.SHOWFOCUS,t)};function ck(){return document.activeElement}function dk(t){return null==t?void 0:t.contains(ck())}function hk(t,e){let n=uk(t),i=n.indexOf(ck()),r="prev"===e?i-1:i+1,o=null;o=r>=n.length?n[0]:r<0?n[n.length-1]:n[r],o&&o.focus()}const fk=["s","?"],pk=({parentRef:t,isActive:e,toggleKey:n,customKeyHandlers:i={},externalElement:r,onEscape:o=Zf,onToggle:s=Zf})=>{const a=EA((t=>t.config.view)),u=EA((t=>t.embed.controls)),l=EA((t=>t.embed.background)),c=EA((t=>t.embed.keyboard)),d=EA((t=>t.element)),h=WT(null),f=WT(e),p=WT(null),v=WT(null);function m(t){0!==t.detail&&lk(!1)}function _(t,e=0){e>=5||t&&(t.focus(),t!==ck()&&(clearTimeout(p.current),p.current=setTimeout((()=>_(t,e+1)),100)))}function b(){const e=uk(t.current);e.length>0&&_(e[0])}function y(){h.current&&(_(h.current),h.current=null),clearTimeout(v.current),v.current=setTimeout((()=>{!d.contains(ck())&&null!=r&&r.current&&_(r.current)}),500)}function g(){var e;return null==t||null==(e=t.current)?void 0:e.contains(ck())}function w(t){if(fk.includes(t.key)||"Space"===t.code)return!0;if(t.ctrlKey||t.metaKey||t.altKey||"Shift"===t.key)return!0;if("keydown"!==t.type)return!0;if(!u||l)return!0;const e=t.target||t.srcElement,n=d.contains(e),i=e.tagName;if("INPUT"===i||"SELECT"===i||"TEXTAREA"===i||e.isContentEditable){const e=!n,i=n&&"Escape"!==t.key&&"Tab"!==t.key&&t.shiftKey;if(e||i)return!0}return!Cf(a)}const T=YT((r=>{if(w(r))return;"Escape"!==r.key?lk(!0):lk(!1);const a=r.key,u={Escape:()=>{null!=t&&t.current&&f.current&&(r.preventDefault(),null==o||o(),y())},Tab:()=>{var n;const i=r.shiftKey?"prev":"next",o="dialog"===(null==t||null==(n=t.current)||null==n.getAttribute?void 0:n.getAttribute("role"));(e||g())&&o&&(r.preventDefault(),hk(t.current,i))}};n&&(u[n]=()=>{null==s||s(!f.current)}),"function"==typeof u[a]&&u[a](),"function"==typeof i[a]&&i[a](r)}),[i,e,g,o,s,t,w,n]);return XT((()=>{e?b():!e&&f.current&&y(),f.current=e}),[e]),XT((()=>(c&&(document.addEventListener("click",m,!1),document.addEventListener("keydown",T,!1)),()=>{document.removeEventListener("click",m,!1),document.removeEventListener("keydown",T,!1)})),[c,T]),{onFocus:function(e){var n,i;(null==(n=t.current)?void 0:n.contains(ck()))&&(null==(i=t.current)||!i.contains(e.relatedTarget))&&!h.current&&(h.current=e.relatedTarget)},focusFirstItem:b}},vk=({menuRef:t,panelRef:e,buttonRef:n,isActive:i,toggleKey:r,shouldTrapFocus:o=!1,onBack:s=Zf,setMenuDisplayed:a=Zf})=>{const u=YT((t=>{dk(e.current)&&(t.preventDefault(),hk(e.current,"prev"))}),[e]),l=YT((t=>{dk(e.current)&&(t.preventDefault(),hk(e.current,"next"))}),[e]),c=YT((t=>{if(dk(e.current)){const e=t.target,n=e.getAttribute("aria-haspopup"),i=e.getAttribute("aria-expanded");"true"===n&&"true"===i?e.click():s(t)}}),[e,s]),d=YT((t=>{if(dk(e.current)){const e=t.target,n=e.getAttribute("aria-haspopup"),i=e.getAttribute("aria-expanded");"true"===n&&"false"===i&&e.click()}}),[e]),h=YT((e=>{var i;if((null==(i=t.current)?void 0:i.contains(e.target))&&null!=n&&n.current){const i=!e.shiftKey;if(o){const n=i?"next":"prev";return e.preventDefault(),void hk(t.current,n)}const s=uk(t.current),a=s.indexOf(e.target);var r;(i&&a===s.length-1||!i&&0===a)&&(e.preventDefault(),null==(r=n.current)||r.focus())}}),[t,n,o]);return pk({parentRef:e,isActive:i,toggleKey:r,onEscape:()=>{a(!1)},onToggle:t=>{a(t)},externalElement:n,customKeyHandlers:{ArrowUp:u,ArrowDown:l,ArrowLeft:c,ArrowRight:d,Tab:h}})},mk=t=>{const e=EA((t=>t.appearance.appSizeMode)),n=EA((t=>t.appearance.appBreakpoint)),i=e===tp.MINI||e===tp.TINY||n===Bv.XXS||n===Bv.XS;return{role:i?"dialog":void 0,ariaModal:!!i||void 0,ariaHidden:!t||void 0}},_k=(t,e,n=300)=>{const i=em(e,n),r=WT(new Wy(i));XT((()=>{const e=r.current,n=null==t?void 0:t.current;return n&&e.observe(n),()=>{n&&e.unobserve(n)}}),[])};let bk=function(t){return t.DOLBY_VISION="dolbyVision",t.CLOSE="close",t.PIP="pip",t.AIRPLAY="airPlay",t.ENTER_FULLSCREEN="enterFullscreen",t.EXIT_FULLSCREEN="exitFullscreen",t.GEAR="gear",t.VIMEO="vimeo",t.VIMEO_SMALL="vimeoSmall",t.ENTER_PICTURE_IN_PICTURE="enterPictureInPicture",t.EXIT_PICTURE_IN_PICTURE="exitPictureInPicture",t.PAUSE="pause",t.PLAY="play",t.REPLAY="replay",t.CHAPTERS="chapters",t.POINT="point",t.CC="cc",t.CC_FILLED="ccFilled",t.CHECKMARK="checkmark",t.STEREOSCOPIC="stereoscopic",t.PERSON_FILLED="personFilled",t.CHEVRON_DOWN="chevronDown",t.CHEVRON_RIGHT="chevronRight",t.CLOCK="clock",t.CLOCK_FILLED="clockFilled",t.COLLECTIONS="collections",t.DISMISS_X="dismissX",t.HEART="heart",t.HEART_FILLED="heartFilled",t.HEART_WIDER_FILLED="heartWiderFilled",t.HEART_WIDER_BROKEN_FILLED="heartWiderBrokenFilled",t.ONDEMAND="ondemand",t.PAPER_PLANE="paperPlane",t.POP_OUT="popOut",t.VOLUME_OFF_FILLED="volumeOffFilled",t.VOLUME_ON_FILLED="volumeOnFilled",t.FAST_FORWARD="fastForward",t.INFO_CIRCLE="infoCircle",t.TRANSCRIPT_ON="transcriptOn",t.TRANSCRIPT_OFF="transcriptOff",t.SEARCH="search",t.CHEVRON_UP="chevronUp",t.CLOSE_CIRCLE="closeCircle",t.SPINNER="spinner",t.SLIDERS="sliders",t.SWITCH_CONTAINER="switchContainer",t.SWITCH_CIRCLE="switchCircle",t.WARN_CIRCLE="warnCircle",t.THUMBS_UP="thumbsUp",t.THUMBS_DOWN="thumbsDown",t.THUMBS_UP_FILLED="thumbsUpFilled",t.THUMBS_DOWN_FILLED="thumbsDownFilled",t.LINK="link",t.SPARKLE_TWO_STARS_FILLED="sparkleTwoStarsFilled",t.WARN_TRIANGLE="warnTriangle",t.VERTICAL_ELLIPSIS="verticalEllipsis",t.PLUS_SYMBOL="plusSymbol",t.FACEBOOK="facebook",t.TUMBLR="tumblr",t.EMAIL="email",t.EMBED="embed",t.PREVIOUS="previous",t.TWITTER="twitter",t.VOD="vod",t.VOD_DOWNLOAD="vodDownload",t.VOD_RENT="vodRent",t.VOD_SUBSCRIBE="vodSubscribe",t}({});const yk=()=>{const t=EA((t=>t.toggleDisplayList));return{label:"Ask Vimeo AI",enabled:EA((t=>t.embed.aiWidget)),onSelect:()=>t("aiWidget"),icon:bk.SPARKLE_TWO_STARS_FILLED}},gk=()=>{const t=EA((t=>t.setUser));return{label:"Add to collections",enabled:EA((t=>t.embed.collections)),onSelect:()=>t("collected",!0),icon:bk.COLLECTIONS}};var wk=0;function Tk(t,e,n,i,r){var o,s,a={};for(s in e)"ref"==s?o=e[s]:a[s]=e[s];var u={type:t,props:a,key:n,ref:o,Yh:null,Kh:null,Zh:0,Jh:null,Qh:void 0,tf:null,ef:null,constructor:void 0,nf:--wk,wf:i,Tf:r};if("function"==typeof t&&(o=t.defaultProps))for(s in o)void 0===a[s]&&(a[s]=o[s]);return Yw.vnode&&Yw.vnode(u),u}const{Provider:Ck,useStore:Ek}=YC(),kk=({player:t,children:e})=>(function(){var t=HT(RT++,10),e=UT();t.Kh=t=>{},LT.componentDidCatch||(LT.componentDidCatch=function(n){t.Kh&&t.Kh(n),e[1](n)}),e[0]}(),Tk(Ck,{createStore:()=>qC(((e,n)=>{const{config:i,events:r,uuid:o,element:s,store:a,loadVideoViaIframe:u,loadVideoViaConfig:l,performDelegateAction:c}=t,d={set:e,get:n,events:r,store:a,get config(){return t.config}};return J(J(J(J(J(J(J({config:i,element:s,uuid:o,view:i.view,events:r,performDelegateAction:c,loadVideoViaIframe:u,loadVideoViaConfig:l},(t=>{const e=J(J({},function(){const e=pE(t.config),n=(null==e?void 0:e.gate_type)||yv.EMPTY;return Ev(n,t.config,null==e?void 0:e.gate_id)}()),{},{accessGateLoaded:!1,accessGateReady:!1,setAccessGateLoaded:function(){t.set((t=>({accessGate:J(J({},null==t?void 0:t.accessGate),{},{accessGateLoaded:!0})})))},setAccessGateReady:function(){t.set((t=>({accessGate:J(J({},null==t?void 0:t.accessGate),{},{accessGateReady:!0})}))),n(wv.OPENED)},closeAccessGate:r,sendGateBPEvent:n});function n(e,n){var i;null!=(i=t.config.embed.access_gates)&&i.length&&n_(im.PROCESS_STEP,t.config,{process_name:"access_gate",step_name:e,status:e===wv.ERROR?"fail":"success",error:(null==n?void 0:n.message)||null,error_code:"number"==typeof(null==n?void 0:n.code)?`${n.code}`:null})}function i(e,n=null){const i=Ev(e,t.config,n);t.set((t=>({accessGate:J(J({},null==t?void 0:t.accessGate),i)}))),t.events.fire(Nh.ld,i.purpose)}function r(e){t.set((e=>({accessGate:J(J({},null==e?void 0:e.accessGate),{},{accessGateLoaded:!1,accessGateReady:!1},Ev(yv.EMPTY,t.config))}))),t.events.fire(Nh.dd,e),n(wv.CLOSED)}function o(){var e,n;const o=t.config.embed.access_gates;null!=o&&o.length&&o.forEach((e=>{!function(e){const{gate_type:n,placement:r,timecode:o,gate_id:s}=e;function a({currentTime:e}){e>=o&&(i(n,s),t.events.off(ao.TIME_UPDATE,a))}function u(){i(n,s),t.events.off(Nh._u,u)}Sv(n,t.config)||(r===gv.DURING_VIDEO&&t.events.on(ao.TIME_UPDATE,a),r===gv.AFTER_VIDEO&&t.events.on(Nh._u,u),t.events.on(Nh.Hl,(function(){t.events.off(ao.TIME_UPDATE,a),t.events.off(Nh._u,u)})))}(e)}));const s=pE(t.config),a=null==(e=t.get())||null==(e=e.accessGate)?void 0:e.gateId,u=(null==(n=t.get())||null==(n=n.accessGate)?void 0:n.purpose)||yv.EMPTY,l=null==s?void 0:s.gate_id,c=(null==s?void 0:s.gate_type)||yv.EMPTY,d=a!==l||u!==c;u!==yv.EMPTY&&d&&r(),c!==yv.EMPTY&&l&&d&&(i(c,l),t.events.once(Nh.be,(()=>{t.events.fire(Nh.ld,c)})))}return o(),t.events.on(Nh.Hl,(function(){o()})),{accessGate:e}})(d)),Sk(d)),Nk(d)),Ik(d)),Rk(d)),Dk(d)),Fk(d))})),children:e})),Sk=t=>{const e=Ak(t),{set:n,events:i}=t;return i.on(Ah.Ra,(()=>{n((()=>({colors:Ak(t)})))})),i.on(Ah.Pa,((t,e)=>{const i=Yf(t);if(!i)return;const r=Kh[e];n((t=>({colors:J(J({},t.colors),{},{[r]:i})})))})),{colors:e}};function Ak(t){const{embed:e}=t.config;return{colorOne:Yf(e.color_one)||Yf(qh[zh]),colorTwo:Yf(e.color_two)||Yf(e.color)||Yf(qh[Xh]),colorThree:Yf(e.color_three)||Yf(qh[Gh]),colorFour:Yf(e.color_four)||Yf(qh[Wh])}}const Nk=t=>{const e=Mk(t),{set:n,events:i}=t;return i.on(Nh.Hl,(()=>{n((()=>({embed:Mk(t)})))})),{embed:e}};function Mk(t){const{config:e}=t;return{playerUrl:e.player_url,referrer:e.request.referrer,transparent:!!e.embed.transparent,videoId:e.video.id,vimeoUrl:e.vimeo_url,onsite:!!e.embed.on_site}}let Ok=function(t){return t.EMPTY="empty",t.PRIVATE_LOCKED="private-locked",t.PASSWORD="password",t.ERROR="error",t.GEO_BLOCKED="geo-blocked",t}({});const Ik=t=>{const{get:e,set:n,events:i}=t;function r(){n((()=>({error:{type:null,title:null,message:null}})))}return i.on(Nh.hu,((t,i)=>{var r;const o=null==(r=e())||null==(r=r.error)?void 0:r.type;gE(o,t,i)&&n((()=>({error:{type:t,title:null==i?void 0:i.title,message:null==i?void 0:i.message}})))})),i.on(Ah.cu,((t,e)=>{t!==Ok.ERROR||n((()=>({error:{type:pf.LOCAL_ACCESS_GATE_ERROR,title:e.title,message:e.message}})))})),i.on(Ah.Ia,(t=>{t===Pf.ERROR&&n((()=>({error:{type:pf.LOAD_VIDEO_VIA_CONFIG,title:"Sorry",message:"There was a problem. Please try again."}})))})),i.on(Nh.pl,r),i.on(Nh.Yl,(()=>{var t;const n=vf();(null==(t=e())||null==(t=t.error)?void 0:t.type)===n.type&&r()})),{error:{type:null,title:null,message:null}}},Rk=t=>{const{set:e,events:n}=t,i={purpose:Lk(t.config.view)};return n.on(Nh.Hl,(function(){e((()=>({localAccessGate:{purpose:Lk(t.config.view)}})))})),n.on(Ah.cu,(t=>{e((e=>({localAccessGate:J(J({},e.localAccessGate),{},{purpose:t})})))})),{localAccessGate:i}};function Lk(t){return t===Lh.geoBlocked?Ok.GEO_BLOCKED:t===Lh.error?Ok.ERROR:t===Lh.privateLocked?Ok.PRIVATE_LOCKED:t===Lh.privatePassword?Ok.PASSWORD:Ok.EMPTY}const xk=[Lh.main,Lh.privateUnlocked],Dk=t=>{const{set:e,events:n}=t,i=Pk(t);return n.on(Nh.bd,(t=>{e((e=>({login:J(J({},e.login),{},{status:t})})))})),n.on(Nh.$l,(()=>{e((()=>({login:Pk(t)})))})),n.on(Nh.Hl,(()=>{e((()=>({login:Pk(t)})))})),{login:i}};function Pk(t){return{status:Bk(t)}}function Bk(t){const{config:e}=t;return e.user.logged_in?xk.includes(e.view)?Nv.LOGGED_IN_HAS_ACCESS:Nv.LOGGED_IN_NO_ACCESS:Nv.NOT_LOGGED_IN}function $k(t,e){let n=t,i=e;return n%320!=0&&(n=100*Math.ceil(t/100),i=Math.round(n/t*e)),{width:n,height:i}}function jk({width:t,height:e,baseUrl:n,crop:i=!1}){n=n.replace(/\.[^/.]+$/,"");let r={};const o=parseInt(t,10),s=parseInt(e,10);return 0===o||isNaN(o)||(i?r.w=o:r.mw=o),0===s||isNaN(s)||(i?r.h=s:r.mh=s),Se.devicePixelRatio>1&&(r.q=70),Nt(n,r)}function Vk(t,e=0){return function(t){return new r(((e,n)=>{const i=new Image;function r(){a_.captureBreadcrumb(`Load image: ${t}`,{}),n(new Error("Failed to load image."))}i.onload=function(){i&&i.width>0&&i.height>0?e(i):r()},i.onerror=r,i.src=t}))}(t).catch((n=>(a_.captureException(n,{extra:{imageUrl:t}}),e>0?Vk(t,e-1):new r((()=>{})))))}const Fk=t=>{const{set:e,get:n,events:i,store:o}=t,s=(t,n)=>{e((e=>({videoThumbnail:J(J({},e.videoThumbnail),{},{[t]:n})})))},a=()=>s("isDisplayed",!0),u=()=>s("isDisplayed",!1);function l(){return!!t.config.video.thumbnail_url}function c(){return o.get(Nb)&&!o.get(Ob)||!t.config.embed.autoplay||gb.isCastConnected}function d(){return $k(o.get("ui.player.width")*Se.devicePixelRatio,o.get("ui.player.height")*Se.devicePixelRatio)}const h=()=>(i.fire(Nh._d),r.resolve());function f(){if(!l())return h();const{width:n,height:i}=d(),u=t.config.video.thumbnail_url,f=jk({width:n,height:i,baseUrl:u});s("width",n);const p=Vk(f,3).then((t=>(t&&o.dispatch(((t,e)=>({type:ay,payload:{width:t,height:e}}))(t.width,t.height)),c()&&(e((t=>({videoThumbnail:J(J({},t.videoThumbnail),{},{thumbnailUrl:f,thumbnailBaseUrl:u})}))),a()),t)));if(!c())return h();const v=new r((t=>{setTimeout(t,2e3)}));return r.race([p,v]).catch((t=>{})).finally((()=>{h()}))}function p(){var t,e,i;if(null==(t=n())||null==(t=t.videoThumbnail)||!t.isDisplayed||null==(e=n())||null==(e=e.videoThumbnail)||!e.thumbnailUrl)return;const{width:r}=d();r<=(null==(i=n())||null==(i=i.videoThumbnail)?void 0:i.width)||0===r||f()}i.on(Ah.uu,a),i.on(Ah.lu,u),i.on(Nh.Hl,(e=>{var i;const r=t.config.video.thumbnail_url,o=null==(i=n())||null==(i=i.videoThumbnail)?void 0:i.thumbnailBaseUrl;e||r&&o&&o!==r?f():h()})),i.on(Nh.il,p),i.on([ho.BUFFER_ENDED,ao.PLAYING],u),o.watch("ui.player.width",em(p,150)),o.watch("ui.preview.scaleFactor",(t=>{s("shouldCoverBackground",t>1)}));const{width:v,height:m}=d(),_=t.config.video.thumbnail_url;return{videoThumbnail:{thumbnailUrl:l()?jk({width:v,height:m,baseUrl:_}):"",thumbnailBaseUrl:_,width:v,isDisplayed:!1,shouldCoverBackground:o.get("ui.preview.scaleFactor")>1},setVideoThumbnail:s}};let Hk=function(t){return t.PRIVATE_LOCKED="private-locked",t.LOGIN_LIKE="login-like",t.LOGIN_WATCH_LATER="login-watch-later",t.PURCHASE="purchase",t}({}),Uk=function(t){return t.LIKES="likes",t.WATCH_LATER="watchlater",t.FOLLOWING="following",t}({});function zk(){}const Xk=()=>{const t=Ek((t=>t.events)),e=Ek((t=>t.embed.videoId)),n=Ek((t=>t.embed.playerUrl)),i=Ek((t=>t.performDelegateAction)),o=EA((t=>t.user.loggedIn)),s=EA((t=>t.user.liked)),a=EA((t=>t.user.isClipOwner)),u=EA((t=>t.embed.like)),l=EA((t=>t.user.persistUserAction)),c=s?"Unlike":"Like",d=o?c:"Like (this opens in a new window)",h=s?bk.HEART_FILLED:bk.HEART,{openLoginPopup:f}=Qk({url:`https://${n}/video/${e}/login/like`,context:Hk.LOGIN_LIKE}),p=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){if(t.fire(Nh.sl),!a)return function(t,e){var n=function(){if(!o)return function(t,e){return function(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}(t,zk,e)}(f)}();return n&&n.then?n.then(e):e()}(0,(function(){s?i(jb,(()=>{l(Uk.LIKES,"DELETE"),t.fire(Nh.Ll)})):i($b,(()=>{l(Uk.LIKES,"PUT"),t.fire(Nh.Rl)}))}))}));return{label:c,ariaLabel:d,enabled:u,onSelect:p,icon:h}},Gk=()=>{const t=EA((t=>t.setOverlay)),e=EA((t=>t.embed.share));return{label:EA((t=>t.embed.embedOnlyShare))?"Embed":"Share",enabled:e,onSelect:()=>t("purpose",Pf.SHARE),icon:bk.PAPER_PLANE}},Wk=()=>{const t=EA((t=>t.vod.vodButtonVisible)),e=EA((t=>t.vod.vodLabel));return{label:e,enabled:!(!t||!e),onSelect:iS(),icon:bk.ONDEMAND}};function qk(){}const Yk=()=>{const t=Ek((t=>t.events)),e=Ek((t=>t.embed.videoId)),n=Ek((t=>t.embed.playerUrl)),i=Ek((t=>t.performDelegateAction)),o=EA((t=>t.embed.privacy)),s=EA((t=>t.embed.videoUrl)),a=EA((t=>t.user.watchLater)),u=EA((t=>t.user.loggedIn)),l=EA((t=>t.user.persistUserAction)),c=EA((t=>t.embed.watchLater)),d=EA((t=>t.user.watchLater)),h=d?"Remove from Watch Later":"Add to Watch Later",f=u?h:"Add to Watch Later (this opens in a new window)",p=d?bk.CLOCK_FILLED:bk.CLOCK,{openLoginPopup:v}=Qk({url:`https://${n}/video/${e}/login/watch-later`,context:Hk.LOGIN_WATCH_LATER}),m=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){if(t.fire(Nh.al),s||o===kh)return function(t,e){var n=function(){if(!u)return function(t,e){return function(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}(t,qk,e)}(v)}();return n&&n.then?n.then(e):e()}(0,(function(){a?i(Fb,(()=>{l(Uk.WATCH_LATER,"DELETE"),t.fire(Nh.Pl)})):i(Vb,(()=>{l(Uk.WATCH_LATER,"PUT"),t.fire(Nh.Dl)}))}))}));return{label:h,ariaLabel:f,enabled:c,onSelect:m,icon:p}};let Kk=function(t){return t.VOD="vod",t.LIKE="like",t.WATCH_LATER="watch_later",t.COLLECTIONS="collections",t.SHARE="share",t.AI="ai",t}({});const Zk=()=>({[Kk.VOD]:Wk(),[Kk.LIKE]:Xk(),[Kk.WATCH_LATER]:Yk(),[Kk.COLLECTIONS]:gk(),[Kk.SHARE]:Gk(),[Kk.AI]:yk()});let Jk=null;const Qk=({url:t,context:e,delegateArg:n})=>{const i=Ek((t=>t.events)),o=Ek((t=>t.embed.onsite)),s=Ek((t=>t.loadVideoViaIframe)),a=Ek((t=>t.performDelegateAction));return{openLoginPopup:()=>new r((r=>{switch(e){case Hk.PRIVATE_LOCKED:a(zb,(()=>{Jk=nh(t,"login",{width:670,height:545,scrollbars:"yes",resizable:"yes",toolbar:"no"})}));break;case Hk.LOGIN_LIKE:case Hk.LOGIN_WATCH_LATER:a(zb,(()=>{Jk=nh(t,"login",{width:670,height:545})})),i.fire(Nh.gl,e);break;case Hk.PURCHASE:a(Hb,(()=>{Jk=nh(t,"purchase",{width:790,height:670})}),n),i.fire(Nh.gl,e)}window.confirmLoginAction=function(t,e){i.fire(Nh.Bl,e),i.once(Nh.$l,r)},window.closePopup=function(){if(Jk){try{Jk.close(),i.fire(Nh.Tl,e),i.once(Nh.$l,r)}catch(t){}Jk=null}},o||(window.confirmPurchase=function(t,e,n){if(e)return s(t),void r();n&&i.fire(Nh.Iu)})}))}};function tS(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function eS(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function nS(){}const iS=t=>{const e=eS((function(){return function(){var t=function(){if(!hv())return function(t){if(t&&t.then)return t.then(nS)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return tS(p(a),(function(){h("paused",!1)}))}),(function(t){a_.captureException(t),v("purpose",Pf.ERROR)})));f(a)}();if(t&&t.then)return t.then(nS)}()})),n=Ek((t=>t.events)),i=Ek((t=>t.embed.videoId)),r=Ek((t=>t.embed.referrer)),o=Ek((t=>t.embed.playerUrl)),s=EA((t=>t.vod.productId)),a=EA((t=>t.vod.featureId)),u=EA((t=>t.vod.isFeature)),l=EA((t=>t.vod.purchased)),c=EA((t=>t.vod.url)),d=EA((t=>t.vod.isComingSoon)),h=EA((t=>t.setPlayback)),f=Ek((t=>t.loadVideoViaIframe)),p=Ek((t=>t.loadVideoViaConfig)),v=EA((t=>t.setOverlay)),m=(()=>{const t=kA().getState,e=Ek((t=>t.embed.onsite));return function(n){if(!n)return;const i=n.indexOf("#")>-1,r=t().playback.currentTime,o=t().playback.duration,s=t().playback.paused,a=t().setPlayback;!i&&r>0&&r<o-30&&!s&&(n+=`#at=${Math.floor(r)}`),e?window.location.href=n:(window.open(n),a("paused",!0))}})(),_=t||s;let b=`https://${o}/video/${a||i}/purchase/vod`;_&&(b+=`/${_}`),b+=`?referrer=${encodeURIComponent(r||"")}`;const{openLoginPopup:y}=Qk({url:b,context:Hk.PURCHASE,delegateArg:[_]});return eS((function(){return n.fire(Nh.cl,_),l?!u&&a?void e():void h("paused",!1):d?void m(c):(y(),tS())}))},rS=(t,e)=>{const[n,i]=UT(t),r=WT([t]),o=WT(null);return XT((()=>{e?clearTimeout(o.current):o.current=setTimeout((()=>{r.current=[t],i(t)}),aE)}),[t,e]),{panel:n,setPanel:t=>{t!==n&&(r.current.push(t),i(t))},goToPreviousPanel:()=>{if(r.current.length>1){r.current.pop();const t=r.current[r.current.length-1];i(t)}}}},oS=()=>{const t=EA((t=>t.embed.seekingForward)),e=EA((t=>t.playback.maxPlayedTime));return n=>t||e>=n},sS=()=>{const t=WT(!1),e=kA(),n=EA((t=>t.element)),i=EA((t=>t.setPlayback)),r=EA((t=>t.seekingController)),o=ek(),s=t=>n.classList.toggle(nf.SCRUBBING,t);function a(t){return r.canSeekNow||r.canSeekToTime(t)}function u(n){t.current=!a(n),t.current||(i("scrubbing",!0),s(!0),(t=>{const{chapters:n,embed:i,playback:r}=e.getState(),{chapters:s}=n;if(!s.length||!i.chapters)return;const a=((t,e)=>e.reduce(((e,n)=>{if(null===e)return n;const i=n.startTime-t,r=e.startTime-t;return Math.abs(i)>Math.abs(r)?e:n}),null))(t,s);if(!a)return;const u=a.startTime,l=t-u,c=Math.abs(l)<=5,d=Df(s,r.currentFragment);o(im.CHAPTER_SEGMENT_CLICK,{seek_event_start_time:t,is_chapter_seek:c,nearest_chapter_start_time:u,chapter_seek_event_delta:l,total_no_chapters_at_seek:s.length,fragment_no_chapters_at_seek:d.length})})(n),i("currentTime",n))}return{startScrub:u,continueScrub:function(n){a(n)&&"expanding"!==e.getState().controlBar.expandedState&&(t.current?u(n):i("currentTime",n))},endScrub:function(){t.current=!1,i("scrubbing",!1),s(!1),function(){const{playback:t,liveEvent:n}=e.getState();n.dvrEnabled&&!n.isArchived&&o(t.atLiveEdge?im.SEEK_TO_LIVE_EDGE:im.SEEK_BEHIND_LIVE_EDGE)}()}}},aS=(t,e)=>{const n=EA((t=>t.playback.currentFragment)),i=EA((t=>t.playback.currentTime)),r=EA((t=>t.playback.liveEdgeTime)),o=EA((t=>t.playback.liveTailTime)),s=EA((t=>t.playback.atLiveEdge)),a=EA((t=>t.liveEvent.isLiveEvent)),u=EA((t=>t.liveEvent.dvrEnabled)),l=EA((t=>t.liveEvent.isPlayable)),c=EA((t=>t.liveEvent.isArchived)),d=EA((t=>t.liveEvent.isEnded)),h=EA((t=>t.playback.playInitiated)),f=d&&!h&&0===i,p=c&&0!==n.duration;return a&&(u?f:!c&&!l)?0:a&&(u?!f&&!p&&s:!c&&l)?1:!u||f||p||s?((t,e)=>{const{startTime:n,endTime:i}=e;return t<n?0:t>i?1:(t-n)/(i-n)})(e,t):xf(e,o,r)};function uS(t){var e,n,i,r,o,s,a;const{config:u,events:l,parentUrl:c,backbone:d}=t,{embed:h,request:f,video:p}=u,v=!!h.autoplay,m=!(!h.autoplay||null==(e=f.flags)||!e.autohide_controls),_=!!h.settings.playbar,b=!!h.settings.like,y=!!h.settings.share,g=!(null==(n=h.settings.share)||!n.embed_only),w=!!h.settings.collections,T=!!h.settings.watch_later,C=!(null==(i=h.settings)||!i.watch_trailer||h.autoplay||!h.on_site),E=Pv(d,null==(r=p.live_event)?void 0:r.dvr),k=!!(h.settings.speed&&E&&Nl.settingPlaybackRate),S=!!h.keyboard,A=!!h.settings.logo,N=!!h.settings.volume,M=!!h.settings.fullscreen,O=!(null==(o=p.live_event)||null==(o=o.settings)||!o.hide_live_label),I=!(null==(s=p.live_event)||!s.show_viewer_count),R=!!h.settings.custom_logo,L=function(t){var e;const{config:n}=t;let i={customLogoUrl:null,customLogoImg:null,customLogoSticky:!1,customLogoWidth:null,customLogoHeight:null};if(null==(e=n.embed.settings.custom_logo)||!e.img)return i;const r=n.embed.settings.custom_logo;let o=r.img;return Se.devicePixelRatio>=2&&(o=o.replace(/(mw|mh)=(\d+)/g,(function(t,e,n){return e+"="+2*parseInt(n,10)}))),i={customLogoUrl:Ip(r.url),customLogoImg:o,customLogoSticky:r.sticky,customLogoWidth:r.width,customLogoHeight:r.height},i}(t),x=!!h.settings.background,D=0!==h.settings.controls,P=!!h.transparent,B=lS(t),$=!!h.settings.audio_tracks,j=!!h.settings.airplay,V=!!h.settings.chapters,F=!!h.settings.chromecast,H=!!h.settings.cc,U=!!h.settings.quality,z=h.settings.play_button_position,X=!!h.settings.watch_full_video,G=!!h.settings.ask_ai,W=!!p.spatial&&!!h.settings.spatial_compass,q=p.unlisted_hash,Y=!!u.embed.settings.badge,K=h.tq||"",Z=!!h.persistent_logo,Q=f.ai_widget_signature,tt=0!==h.unmute_button,et=!!h.settings.pip,nt=!!h.loop,it=Ap(h.context),rt=Boolean("public"===p.embed_permission&&h.settings.embed),ot=p.share_url,st=`https://${u.player_url}/video/${p.id}/share`,at=p.embed_code,ut=p.url,lt=p.privacy,ct=1===(u.embed.dnt||(null==(a=u.request.flags)?void 0:a.dnt)),dt=function(t){return Object.keys(t).reduce(((e,n)=>J(J({},e),{},{[n]:qv(t[n])})),{})}(u.request.flags),ht=u.vimeo_api_url,ft=u.embed.cards,pt=0!==u.embed.settings.skipping_forward,vt=!!B||!!G;return vt&&l.fire(Nh.Yc),{autoPlay:v,autoHideControls:m,playbar:_,like:b,share:y,embedOnlyShare:g,collections:w,watchLater:T,isTrailer:C,speedChangeEnabled:k,keyboard:S,showVimeoLogo:A,volume:N,fullscreen:M,hideLiveLabel:O,showViewerCount:I,customLogo:R,customLogoFields:L,background:x,controls:D,transparent:P,transcript:B,rightContentAreaEnabled:vt,multipleAudioTracks:$,airplay:j,chapters:V,cc:H,chromecast:F,quality:U,playButtonPosition:z,parentUrl:c,watchFullVideo:X,aiWidget:G,compass:W,videoUnlistedHash:q,badge:Y,transcriptQuery:K,persistentLogo:Z,aiWidgetSignature:Q,unmuteButton:tt,pip:et,loop:nt,svvContext:it,allowEmbedShare:rt,shareUrl:ot,embedCode:at,videoUrl:ut,playerShareUrl:st,privacy:lt,doNotTrack:ct,flags:dt,vimeoApiUrl:ht,cards:ft,seekingForward:pt}}function lS(t){const{embed:e,video:n}=t.config,i=n.live_event,r=!i||i.archive.status===Xp.done||i.dvr;return!!e.settings.transcript&&r}function cS(t){var e=-1,n=null==t?0:t.length;for(this.X=new _n;++e<n;)this.add(t[e])}function dS(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function hS(t,e){return t.has(e)}function fS(t,e,n,i,r,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,f=2&n?new cS:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],v=e[d];if(i)var m=s?i(v,p,d,e,t,o):i(p,v,d,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!dS(e,(function(t,e){if(!hS(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)}))){h=!1;break}}else if(p!==v&&!r(p,v,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function pS(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function vS(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}cS.prototype.add=cS.prototype.push=function(t){return this.X.set(t,"__lodash_hash_undefined__"),this},cS.prototype.has=function(t){return this.X.has(t)};var mS=De?De.prototype:void 0,_S=mS?mS.valueOf:void 0,bS=Object.prototype.hasOwnProperty,yS="[object Arguments]",gS="[object Array]",wS="[object Object]",TS=Object.prototype.hasOwnProperty;function CS(t,e,n,i,r){return t===e||(null==t||null==e||!Ue(t)&&!Ue(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var s=Ie(t),a=Ie(e),u=s?gS:mr(t),l=a?gS:mr(e),c=(u=u==yS?wS:u)==wS,d=(l=l==yS?wS:l)==wS,h=u==l;if(h&&vi(t)){if(!vi(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new ei),s||Si(t)?fS(t,e,n,i,r,o):function(t,e,n,i,r,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new br(t),new br(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=pS;case"[object Set]":var u=1&i;if(a||(a=vS),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=2,s.set(t,e);var c=fS(a(t),a(e),i,r,o,s);return s.delete(t),c;case"[object Symbol]":if(_S)return _S.call(t)==_S.call(e)}return!1}(t,e,u,n,i,r,o);if(!(1&n)){var f=c&&TS.call(t,"__wrapped__"),p=d&&TS.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,m=p?e.value():e;return o||(o=new ei),r(v,m,n,i,o)}}return!!h&&(o||(o=new ei),function(t,e,n,i,r,o){var s=1&n,a=Qi(t),u=a.length;if(u!=Qi(e).length&&!s)return!1;for(var l=u;l--;){var c=a[l];if(!(s?c in e:bS.call(e,c)))return!1}var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<u;){var v=t[c=a[l]],m=e[c];if(i)var _=s?i(m,v,c,e,t,o):i(v,m,c,t,e,o);if(!(void 0===_?v===m||r(v,m,n,i,o):_)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,i,r,o))}(t,e,n,i,CS,r))}function ES(t,e){return CS(t,e)}const kS=[{id:.5,label:"0.5x"},{id:.75,label:"0.75x"}],SS={id:1,label:"Normal"},AS=[{id:1.25,label:"1.25x"},{id:1.5,label:"1.5x"},{id:2,label:"2x"}],NS=[SS].concat(AS),MS=[].concat(kS,[SS],AS),OS=[].concat(kS,[SS]);function IS(t){var e;const{config:n,backbone:i,seekingController:r}=t,o=RS(t),s=!!Se.airPlay,a=n.embed.quality?Sf(i.qualities,n.embed.quality):i.qualities,u=LS(i.qualities,n.embed.quality),l=DS(n);return{playInitiated:!1,targetTimeReached:!1,scrubbing:!1,scrubbingByFrame:!1,paused:!n.embed.autoplay||(null==(e=n.video.live_event)||null==(e=e.archive)?void 0:e.status)===Xp.done,buffering:!1,loadedTime:0,currentTime:i.currentTime,maxPlayedTime:r.maxPlayedTime,liveEdgeTime:i.liveEdgeTime,atLiveEdge:i.atLiveEdge,liveTailTime:i.liveTailTime,hasFragments:l,currentFragment:t.fragmentsHandler.currentFragment,duration:n.video.duration,qualities:a,currentQuality:u,playbackRates:o,loadedMetadata:i.readyState>=1,loadedData:i.readyState>1,canPlayPictureInPicture:t.canPlayPictureInPicture,supportsAirPlay:s,supportsTextTracks:Nl.textTracks,supportsStereoscopic:xS(t),isAdPlaying:!1,supportsSettingVolume:Nl.settingVolume,volume:i.volume,muted:i.muted||!!n.embed.muted,audioTracks:i.audioTracks,isSegmentedPlaybackEnabled:t.segmentedPlaybackEnabled,startTime:t.startTime,endTime:t.endTime,ended:i.ended,hasFirstTimeUpdate:!1}}function RS(t){var e;const{backbone:n,config:i}=t;let r=[];if(Pv(n,null==(e=i.video.live_event)?void 0:e.dvr)&&Nl.settingPlaybackRate&&i.embed.settings.speed){const t=function(t,e){return t?NS:e?OS:MS}(n.atLiveTail,n.atLiveEdge);r=Sf(t,`${n.playbackRate}`)}return r}function LS(t,e){var n;if(e){var i;const n="string"==typeof e?e:e.quality||`${e.height}p`,r=null==t||null==(i=t.find((t=>t.id===n)))?void 0:i.label;if(r)return r}return null==t||null==(n=t.find((t=>t.active)))?void 0:n.label}function xS(t){const{config:e}=t;return"disable"!==e.video.privacy&&(Se.webvr||Se.stereoscopic)&&e.video.spatial&&Pg(e,"webvr").group}function DS(t){var e;return!Fc(null==(e=t.embed.interactive)?void 0:e.fragments)}function PS(t){const{atLiveEdge:e,liveEdgeTime:n,liveTailTime:i}=t;return{atLiveEdge:e,liveEdgeTime:n,liveTailTime:i}}function BS(){}function $S({config:t,get:e}){const{user:n,video:i}=t,o=n.id,s=ug(i.owner),a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(n,i,o=null){const s=e().user.vimeoApiClientToken,a=e().user.vimeoApiInteractionTokens,u=e().embed.videoUnlistedHash;return function(t){if(t&&t.then)return t.then(BS)}(function(l,c){try{var d=function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(e().updatePhpTokens(),(function(){const l=n===Uk.FOLLOWING?e().user.ownerId:t.video.id;let c;s&&(n===Uk.LIKES?c=a.likes:n===Uk.WATCH_LATER?c=a.watch_later:n===Uk.FOLLOWING&&(c=a.following));const d=`?auth=${c}`,h=u&&n!==Uk.FOLLOWING?`:${u}`:"",f=`https://${e().embed.vimeoApiUrl}/users/${e().user.id}/${n}/${l}${h}${d}`;return function(t){return t&&t.then?t.then(BS):r.resolve()}((o??Qt)(f,{jwt:s,method:i}))}))}catch(t){return c(t)}return d&&d.then?d.then(void 0,c):d}(0,(function(t){a_.captureException(t,{extra:{action:n,method:i}})})))}));return{id:o,liked:!!n.liked,loggedIn:n.logged_in,isClipOwner:o===i.owner.id,watchLater:!!n.watch_later,ownerName:i.owner.name,ownerId:i.owner.id,following:!!n.following,collected:!1,shared:!1,isPayingOwner:s,vimeoBucketedLiveClientToken:n.vimeo_bucketed_live_client_token,vimeoApiInteractionTokens:n.vimeo_api_interaction_tokens,vimeoApiClientToken:n.vimeo_api_client_token,persistUserAction:a}}const jS={isVOD:!1,vodButtonVisible:!1};function VS(t){const{video:e,embed:n,user:i,request:r}=t.config;let o=J({},jS);if(e.vod){const t=!0,s=e.vod.is_coming_soon,a="ondemand.main"===n.context||"Vimeo\\Controller\\OnDemandController.main"===n.context,u=e.vod&&i.purchased,l=e.vod.countries,c=r.country,d=e.vod.purchase_options||[];let h=n.settings.vod&&Tf(l,c);h&&s&&a&&(h=!1);const[f]=d;let p=null;f&&(p=FS(r.dynamic_translation_map,"label_string",r.currency,f)),o.isVOD=t,o.vodLabel=p,o.purchased=!!u,o.productId=null==f?void 0:f.product_id,o.isExpiring=!(null==f||!f.expiring),o.isPreorder=void 0!==e.vod.is_preorder?!!e.vod.is_preorder:!!e.vod.date_available,o.isComingSoon=!!e.vod.is_coming_soon,o.vodButtonVisible=h,o.purchaseOptions=d.map((t=>J(J({},t),{},{formattedLabel:FS(r.dynamic_translation_map,"outro_string",r.currency,t)}))),o.title=e.vod.feature_title,o.url=e.vod.url,o.releaseDate=e.vod.date_available_formatted_datetime||e.vod.date_available,o.isFeature=!!e.vod.is_feature,o.featureId=e.vod.feature_id,o.isAvailableInCountry=!l||0===l.length||-1!==l.indexOf(c)}return o}function FS(t,e,n,i){var r=i[e];return r?(r=function(t,e,n){let i=n.USD;return e in n&&(i=n[e]),-1!==t.indexOf("${price}")?t.replace("${price}",i):-1!==t.indexOf("{PRICE}")?t.replace("{PRICE}",i):t}(r=function(t,e){return void 0!==t&&void 0!==t[e]?t[e]:e}(t,r),n,i.prices),i.expires_in_duration_str&&(r=r.replace("{TIME}",i.expires_in_duration_str)),i.available_on_formatted&&(r=r.replace("{DATE}",i.available_on_formatted)),r):null}function HS({config:t}){const{badge:e}=t.embed.settings;let n=Se.devicePixelRatio>1?"img_2x":"img";return Se.svg&&e.svg&&(n="svg"),{link:e.link,img:e[n],margin:e.margin||!1,width:e.width,height:e.height,name:e.name,shadow:!!e.shadow,id:e.id}}function US(t){const e=wp(yh,t.config),n=hv()?e:window.location.href;return{chapters:zS(t),chapterShareBaseUrl:n,activeCueId:null}}function zS(t){const e=a(t.backbone.chapters),n=t.config.embed.chapters||[];return e.map((t=>{const e=n.find((e=>e.timecode===t.startTime));return{cueId:t.id,startTime:t.startTime,endTime:t.endTime,text:t.text,chapterId:null==e?void 0:e.id,clipId:null==e?void 0:e.clip_id,timecode:null==e?void 0:e.timecode,title:null==e?void 0:e.title}}))}let XS=function(t){return t.RTL="rtl",t.LTR="ltr",t}({});const GS={black:"#000",red:"#f00",yellow:"#ff0",green:"#0f0",blue:"#00f",white:"#fff",cyan:"#0ff",magenta:"#f0f"};function WS(t){var e,n,i;const{backbone:r,config:o}=t,s=r.enabledTextTrack,a=r.textTracks,u=!!o.video.live_event,{textTracks:l,activeTextTrackId:c,language:d,direction:h,provenance:f}=qS(a,u,s),p=YS(t);return J({textTracks:l,textTrackEls:(null==a||null==(e=a.filter((t=>t.trackElement)))?void 0:e.map((t=>t.trackElement)))||[],activeTextTrackId:c,requiresCrossOrigin:1===(null==o||null==(n=o.request)||null==(n=n.flags)?void 0:n.ott)||"dev"===(null==o||null==(i=o.request)||null==(i=i.build)?void 0:i.js)||"gedevplayer.vimeows.com"===(null==o?void 0:o.player_url),activeCues:[],language:d,direction:h,rtlTracks:(a||[]).reduce(((t,e)=>e.rtl?t.concat(e.id):t),[]),provenance:f},p)}function qS(t,e,n){const i="off";let r=[],o=ZS(n);return null!=t&&t.length&&(o||(o=i),r.push({label:"Off",id:i,active:o===i,provenance:null,language:i}),t.forEach((t=>{let n="CC"===t.label.substring(t.label.length-2),i="captions"!==t.kind||n?"":" CC",s=e?"Display Captions":t.label+i;const a=ZS(t),u={label:s,id:a,active:o===a,language:t.language,provenance:t.provenance};r.push(u)}))),{textTracks:r,activeTextTrackId:o,language:null==n?void 0:n.language,direction:KS(n),provenance:null==n?void 0:n.provenance}}function YS(t){const{store:e}=t,n=sb();return Object.keys(n).forEach((t=>{const i=e.get(`ui.captions.${t}`);n[t]=i})),n}function KS(t){return t?t.rtl?XS.RTL:XS.LTR:null}function ZS(t){return t?""!==t.id?`${t.id}`:`${t.language}.${t.kind}`:""}function JS(t){var e,n;const{config:i}=t,r=i.video.live_event,o=null==r?void 0:r.status,s=!!o,a=null==r||null==(e=r.archive)?void 0:e.status,u=tA(o),l=QS(a),c=u.isStarted&&mv(r),d=null==r||null==(n=r.ingest)?void 0:n.scheduled_start_time,h=null==r?void 0:r.settings.event_schedule;return J(J(J({isLiveEvent:s,isPlayable:c},u),l),{},{dvrEnabled:null==r?void 0:r.dvr,viewerCount:Gd(0),liveStatsRequestSucceeded:null,isOnline:null,liveEventSchedule:d,showEventSchedule:h})}function QS(t){return{isArchived:t===Oh}}function tA(t){return{isStarted:t===Gp.started,isEnded:t===Gp.ended,isPending:t===Gp.pending,isActive:t===Gp.active}}function eA(t,e){let n;return function(i){if(void 0!==n)return n;if(e in window)return n=r.resolve(window[e]),n;const o=function(t){switch(t.player_url){case"player.vimeo.com":return Bh;case"master.playerci.vimeows.com":case"player-backend-ci.vimeows.com":return"CI";case"player2.vimeo.dev":return"DEV";default:return}}(i)===Bh?"https://embedder-sdk.wirewax.com":"https://embedder-sdk.wirewax.tv";return n=((t,e=!1)=>new r(((n,i)=>{if(e){const e=document.querySelector(`script[src="${t}"]`);if(e&&!e.dataset.error)return void setTimeout(n,0)}const r=document.createElement("script");r.src=t,r.addEventListener("load",n),r.addEventListener("error",(t=>{r.dataset.error="true",i(t.error)})),document.head.appendChild(r)})))(`${o}/${t}`,!0).then((()=>window[e])),n}}const nA=eA("latest/wirewax-embedder-sdk@beta.umd.js","WIREWAX"),iA=eA("latest-create/create-interactive-plugin@beta.umd.js","CREATE_INTERACTIVE_PLUGIN");function rA(){}function oA(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function sA(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function aA(t,e){const n=oA((function(){return function(t,n){try{var r=function(){h("loading");const t=function(t){const{interactive_id:e,interactive_params:n,create_interactive:i}=t.embed;return i.has_create_interactive?{vidDataURL:i.viddata_url,metricsClient:new r_(t)}:{vidId:e,interactiveParams:n}}(i);return sA(function(t){return t.embed.create_interactive.has_create_interactive?iA(t):nA(t)}(i),(function(n){const r=n;if(h("loaded"),!u)return l=r(e,t),sA(l.ready(),(function(){if(h("initialized"),u)return h("destroyed"),void l.destroy();const t=l.getInteractiveData("hotspots"),e=l.getInteractiveData("polls");o().setInteractive("hotspots",t),o().setInteractive("polls",e),d=function(t){const e=()=>o().backbone.play(),n=()=>o().backbone.pause(),i=t=>s.fire(Nh.Uc,t),r=t=>s.fire(Nh.zc,t),a=({seekTo:t,seekType:e})=>{s.fire(Nh.Gc,{type:e}),o().seekingController.maxPlayedTime=t,o().backbone.currentTime=t},u=t=>{t.overlayOnDisplay?(s.fire(Nh.fl,Pf.INTERACTIVE),o().setInteractive("active",!0)):(s.fire(Nh.pl,Pf.INTERACTIVE),o().setInteractive("active",!1))};return t.on("play",e),t.on("pause",n),t.on("hotspotClick",i),t.on("overlayPanelClick",r),t.on("seeked",a),t.on("toggleOverlay",u),()=>{t.off("play",e),t.off("pause",n),t.off("hotspotClick",i),t.off("overlayPanelClick",r),t.off("seeked",a),t.off("toggleOverlay",u)}}(l),c=function(t){function e(){f(t),t.play()}function n(){p(),t.pause()}function i(){t.setCurrentTime(o().playback.currentTime)}function r(){t.setEnded(!0),t.setCurrentTime(o().backbone.duration)}function a(){h("destroyed"),t.destroy(),u()}function u(){p(),s.off(ao.PLAY,e),s.off(ao.PAUSE,n),s.off(ao.SEEKED,i),s.off(ao.ENDED,r)}return s.on(ao.PLAY,e),s.on(ao.PAUSE,n),s.on(ao.SEEKED,i),s.on(ao.ENDED,r),s.once(Nh.Cu,e),a}(l),i.embed.autoplay&&(f(l),l.play())}));h("destroyed")}))}()}catch(t){return n()}return r&&r.then?r.then(void 0,n):r}(0,(function(t){h("error")}))})),{config:i,get:o,events:s}=t;let a,u=!1,l=null,c=null,d=null;return{load:oA((function(){if(!u)return function(t,e){return function(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}(t,rA,e)}(n)})),destroy(){u=!0,null==d||d(),null==c||c()}};function h(t){o().setInteractive("embedderStateHistory",o().interactive.embedderStateHistory.concat(t))}function f(t){cancelAnimationFrame(a),a=requestAnimationFrame((()=>{t.setCurrentTime(o().backbone.currentTime),f(t)}))}function p(){cancelAnimationFrame(a)}}function uA(){}const lA=t=>{const e=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(){var e=function(){if(function(){var t,e,n;return!(null!=(t=i())&&null!=(t=t.interactive)&&t.destroyed)&&(null==(e=i())||null==(e=e.interactive)?void 0:e.enabled)&&!(null==(n=i().interactive)||!n.instanceId)&&!Se.browser.ie}()){const e=aA(t,i().interactive.instanceId);return u("embedderManager",e),function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(e.load(),(function(){u("ready",!0)}))}}();if(e&&e.then)return e.then(uA)}()})),{set:n,get:i,events:o,subscribe:s}=t,a=cA(t),u=(t,e)=>{n((n=>({interactive:J(J({},n.interactive),{},{[t]:e})})))},l=()=>{c(),n((()=>({interactive:cA(t)})))};function c(){var t;u("destroyed",!0);const e=null==(t=i().interactive)?void 0:t.embedderManager;e&&(e.destroy(),u("embedderManager",null),u("instanceId",null))}return o.on(Nh.Hl,(t=>{t&&l()})),o.on(Nh.Zl,l),o.on(Ah.nu,c),s((t=>{var e;return null==t||null==(e=t.interactive)?void 0:e.instanceId}),e),{interactive:a,setInteractive:u}};function cA({config:t}){const{interactive:e}=t.embed,n=!(null==e||!e.markers);return{hotspots:[],polls:[],enabled:dA(t.embed),showMarkers:n,instanceId:null,active:!1,embedderManager:null,ready:!1,destroyed:!1,embedderStateHistory:[]}}function dA(t){return!!t.interactive_id||!!t.create_interactive&&(1===t.create_interactive.has_create_interactive||!0===t.create_interactive.has_create_interactive)}let hA=function(t){return t.EMPTY="empty",t.QOE_SURVEY="qoe_survey",t.SKIP_TO_LIVE="skip_to_live",t.BROADCAST_OVER="broadcast_over",t}({});const fA=[hA.QOE_SURVEY,hA.BROADCAST_OVER,hA.SKIP_TO_LIVE];function pA(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const vA=_A((function(t,e){var n;const{width:i,height:r}=e().appearance.boundingClientRect;let o=Object.assign({},t);if(null!=t&&t.img_base&&(o.imageUrl=function(t,e,n){const{width:i,height:r}=$k(e*Se.devicePixelRatio,n*Se.devicePixelRatio);return jk({baseUrl:t,width:i,height:r})}(t.img_base,i,r)),(null==o||null==(n=o.videos)?void 0:n.length)>0){const t=e().user.ownerId,n=e().user.ownerName,s=Math.round(i/o.videos.length),a=Math.round(r/o.videos.length);o.videos=o.videos.map(function(t,e,n,i){return r=>{const{owner:o}=r,s=Object.assign({},r);return o.id!==t&&(s.byline="from "+e),r.thumbnail_base&&(s.thumbnail=jk({baseUrl:r.thumbnail_base,width:n,height:i})),s}}(t,n,s,a))}return o})),mA=function(t,e){return pA(vA(t,e),(function(t){return null!=t&&t.url&&(t.url=Ip(t.url)),null!=t&&t.url2&&(t.url2=Ip(t.url2)),t}))};function _A(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function bA(){}const yA=t=>{const{set:e,get:n,events:i,subscribe:o,config:s}=t,a=(t,n)=>{e((e=>({outro:J(J({},e.outro),{},{[t]:n})})))};i.on(Nh.Hl,((t,i)=>{i.embed.outro!==n().outro.purpose&&e((t=>({outro:J(J({},t.outro),{},{outroData:null,fetchingOutroData:!1,purpose:i.embed.outro})})))})),i.on(Ah.Wa,_A((function(t,e){let i=!1;a("purpose",t);const r=!(null==e||!e.data);return function(o,s){var u=function(){if(r)return pA(mA(e.data,n),(function(e){a("outroData",e),h(t,e),i=!0}))}();return u&&u.then?u.then(s):s(u)}(0,(function(e){if(i)return e;t===n().outro.purpose&&n().outro.outroData||d(t)}))}))),o((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),l),o((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.overlay}),l),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.currentTime}),c),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.ended}),c),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.ended}),(function(t){t&&n().outro.purpose===yE.BEGINNING&&i.fire(Ah.Ra)}));const u=function({config:t}){let{outro:e}=t.embed;return e!==yE.THREEVIDEOS&&e!==yE.PROMOTED||(e=yE.VIDEOS),{purpose:e,active:!1,outroData:null,fetchingOutroData:!1}}(t);function l(){const t=n().displayList.outro&&!n().displayList.overlay;t!==n().outro.active&&a("active",t)}function c(){const t=n().outro.fetchingOutroData,e=n().playback.currentTime>=(n().playback.isSegmentedPlaybackEnabled?n().playback.endTime-n().playback.startTime:n().playback.duration)-10,i=null!==n().outro.outroData,r=n().embed.background;t||!e||i||r||d(n().outro.purpose)}function d(t){const e=_A((function(){return function(t){if(t&&t.then)return t.then(bA)}(function(e,o){try{var s=function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return a("fetchingOutroData",!0),pA(Qt(p,{withCredentials:!0,retry:3}),(function(e){return pA(e.json(),(function(e){return pA(mA(e.data,n),(function(e){return pA(function(t){const e=function(t){var e;let n=[];return null!=t&&t.imageUrl&&n.push(t.imageUrl),(null==t||null==(e=t.videos)?void 0:e.length)>0&&n.concat(t.videos.map((t=>t.thumbnail))),n}(t);return r.all(e.map((t=>Vk(t))))}(e),(function(){i.fire(Nh.vd,e),a("outroData",e),h(t,e)}))}))}))}))}),(function(t){}))}catch(t){return o(!0,t)}return s&&s.then?s.then(o.bind(null,!1),o.bind(null,!0)):o(!1,s)}(0,(function(t,e){return a("fetchingOutroData",!1),function(t,e){if(t)throw e;return e}(t,e)})))}));if(n().outro.fetchingOutroData)return;const{player_url:o}=s,{id:u,unlisted_hash:l}=s.video,{on_site:c}=s.embed,d=`https://${o}/video/${u}/outro`,f={on_site:c?1:0,type:t};l&&(f.h=l);const p=Nt(d,f);e()}function h(t,e){var i;[yE.VIDEOS,yE.THREEVIDEOS].includes(t)&&e.following&&(null==(i=n())||i.setUser("following",!!e.following))}return{outro:u,setOutro:a}};let gA=function(t){return t.LikedAdded="liked-added",t.LikeRemoved="like-removed",t.WatchLaterAdded="watch-later-added",t.WatchLaterRemoved="watch-later-removed",t}({});function wA(t){const{config:e}=t;return{supportsChromecast:Dp(e),isChromecastConnected:!1,isChromecastPlaying:!1,isChromecastBuffering:!1,isChromecastReady:TA(),receiverFriendlyName:null}}function TA(){return gb.castState!==Jf.NOT_SETUP&&gb.castState!==Jf.NO_DEVICES_AVAILABLE}const{Provider:CA,useStore:EA,useStoreApi:kA}=YC(),SA=({player:t,children:e})=>{const[n,i]=UT(!1);return zE((()=>i(!0)),t),n?Tk(CA,{createStore:()=>qC(((e,n,i)=>{const r=i.subscribe;return i.subscribe=(t,e,n)=>{let o=t;if(e){const r=(null==n?void 0:n.equalityFn)||Object.is;let s=t(i.getState());o=n=>{const i=t(n);if(!r(s,i)){const t=s;e(s=i,t)}},(null==n?void 0:n.fireImmediately)&&e(s,s)}return r(o)},((e,n,{subscribe:i})=>{const r=J(J({set:e,get:n,subscribe:i},t),{},{get backbone(){return t.backbone},get displayContext(){return t.displayContext},get config(){return t.config},get fragmentsHandler(){return t.fragmentsHandler},get startTime(){return t.startTime},set startTime(e){t.startTime=e},get endTime(){return t.endTime},set endTime(e){t.endTime=e},get segmentedPlaybackEnabled(){return t.segmentedPlaybackEnabled},get canPlayPictureInPicture(){return t.canPlayPictureInPicture},get parentUrl(){return t.parentUrl},set parentUrl(e){t.parentUrl=e},get seekingController(){return t.seekingController}}),{config:o,backbone:s,element:a,expose:u,verifyConfig:l,events:c,updatePhpTokens:d,seekingController:h}=t,f=J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J({},(t=>{const{set:e,events:n}=t,i=QC(t);return n.on(Nh.Nl,(()=>{e((()=>({debug:QC(t)})))})),{debug:i}})(r)),(t=>{const{set:e,get:n,events:i,subscribe:r}=t,o=lE(t),s=(t,n)=>{e((e=>({controlBar:J(J({},e.controlBar),{},{[t]:n})})))};function a(){const t=Wv(Gv.FULL_CONTROLS,n().appearance.playerSizeMode,n().appearance.playerBreakpoint);s("showAllControls",t)}return i.on(Nh.Hl,(()=>{e((()=>({controlBar:lE(t)})))})),i.on(Ah._overrideControlbarBehavior,(t=>{s("overrideBehavior",t)})),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerSizeMode}),a),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerBreakpoint}),a),r((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.expandedState}),(t=>s("isExpanded","expanded"===t||"expanding"===t))),{controlBar:o,setControlBar:s}})(r)),FE(r)),(t=>{const{store:e,set:n,events:i,element:r,backbone:o,config:s}=t,a=HE(t),u=(t,e)=>n((n=>({appearance:J(J({},n.appearance),{},{[t]:e})})));return e.watch("ui.player.breakpoint",(t=>u("playerBreakpoint",t))),e.watch("ui.player.mode",(t=>u("playerSizeMode",t))),e.watch("ui.app.breakpoint",(t=>u("appBreakpoint",t))),e.watch("ui.app.mode",(t=>u("appSizeMode",t))),e.watch("ui.controlbar.isMenuFullWidth",(t=>u("isMenuBlockingUI",t))),e.watch("ui.player.isVerticalVideo",(t=>{u("isVerticalVideo",t)})),e.watch("ui.controlbar.isMenuVerticalVideoMode",(t=>u("isMenuVerticalVideoMode",t))),e.watch("ui.player.width",(()=>{u("boundingClientRect",Jd(r))})),e.watch("ui.controlbar.doMenuItemsWrap",(t=>{u("shouldMenuItemsWrap",t)})),e.watch("ui.player.width",(t=>{const{videoHeight:i,videoWidth:r}=UE(t,e.get("ui.player.height"),s.video.width,s.video.height);n((e=>({appearance:J(J({},e.appearance),{},{videoHeight:i,videoWidth:r,playerWidth:t})})))})),e.watch("ui.player.height",(t=>{const{videoHeight:i,videoWidth:r}=UE(e.get("ui.player.width"),t,s.video.width,s.video.height);n((e=>({appearance:J(J({},e.appearance),{},{videoHeight:i,videoWidth:r,playerHeight:t})})))})),e.watch("ui.container.height",(t=>{u("containerHeight",t)})),e.watch("ui.container.width",(t=>{u("containerWidth",t)})),i.on(Nh.nl,(()=>u("fullscreen",!0))),i.on(Nh.ol,(t=>{n((e=>{const n={fullscreen:!1,forceExitedFullscreen:e.appearance.forceExitedFullscreen};return t||(n.forceExitedFullscreen=!0),{appearance:J(J({},e.appearance),n)}}))})),i.on(ao.WEBKIT_END_FULLSCREEN,(()=>{u("fullscreen",!1)})),i.on(Nh.Mc,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{showAirPlayPicker:!0})})))})),i.on(Nh.Oc,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{showAirPlayPicker:!1})})))})),i.on(Ah.Ra,(()=>{n((()=>({appearance:HE(t)})))})),i.on(Nh.Mc,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{externalDisplay:!0})})))})),i.on(Nh.Oc,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{externalDisplay:!1})})))})),i.on(ao.ENTER_PICTURE_IN_PICTURE,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{pictureInPictureActive:!0})})))})),i.on(ao.LEAVE_PICTURE_IN_PICTURE,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{pictureInPictureActive:!1})})))})),i.on(po.WEBVR_ENTER,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{stereoscopicEnabled:!0})})))})),i.on(po.WEBVR_EXIT,(()=>{n((t=>({appearance:J(J({},t.appearance),{},{stereoscopicEnabled:!1})})))})),i.on(ao.LOADED_DATA,(()=>{n((e=>({appearance:J(J({},e.appearance),{},{isStartTimeThumbLoading:x_(t)})})))})),{appearance:a,setAppearance:(t,e)=>{"fullscreen"!==t?"pictureInPictureActive"!==t?"showAirPlayPicker"!==t?("stereoscopicEnabled"===t&&i.fire(Nh.Ku),"transcriptNavActive"===t&&i.fire(Nh.Zc,e),u(t,e)):i.fire(Nh.Ic):i.fire(o.pictureInPictureActive?Ah.Ka:Ah.Ya):i.fire(Nh.Mu)}}})(r)),(t=>{const{set:e,events:n,subscribe:i,get:r}=t,o=uS(t);return n.on(Nh.Hl,(()=>{e((()=>({embed:uS(t)})))})),n.on(Nh.nd,(function(t){t&&e((e=>({embed:J(J({},e.embed),{},{parentUrl:t})})))})),i((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isArchived}),(i=>{var o;const s=lS(t),a=null==(o=r())||null==(o=o.embed)?void 0:o.transcript;i&&s&&!a&&(n.fire(Nh.Yc),e((t=>({embed:J(J({},t.embed),{},{rightContentAreaEnabled:!0,transcript:!0})}))))})),{embed:o}})(r)),oE(r)),(t=>{const{events:e,set:n}=t,i={direction:null,time:null},r=()=>{clearTimeout(uE),uE=setTimeout((()=>{n((t=>({displayList:J(J({},t.displayList),{},{nudgeNotification:!1})}))),e.fire(Nh.Au)}),1050)},o=t=>{r(),n((e=>({displayList:J(J({},e.displayList),{},{nudgeNotification:!0}),nudge:t})))};return e.on(Nh.Su,(({direction:t,time:e})=>{o({direction:t,time:e})})),{nudge:i,setNudge:(t,e)=>{r(),n((n=>({nudge:J(J({},n.nudge),{},{[t]:e})})))},setNudgeProperties:o,startNudgeHideTimeout:r}})(r)),(t=>{const{events:e,set:n,get:i,backbone:r,subscribe:o,config:s,seekingController:a}=t,u=(t,e)=>{n((n=>({playback:J(J({},n.playback),{},{[t]:e})})))},l=IS(t);return e.on(Ah.Ra,(()=>{n((()=>({playback:IS(t)})))})),e.on(Nh.Hl,(e=>{e&&n((()=>({playback:IS(t)})))})),e.on(gc,(()=>u("playInitiated",!0))),e.once(Nh.Cu,(()=>u("hasFirstTimeUpdate",!0))),e.on(ao.PLAY,(()=>{n((t=>({playback:J(J({},t.playback),{},{scrubbing:!1,scrubbingByFrame:!1,paused:!1,playInitiated:!0,ended:!1})})))})),e.on(Nh.Iu,(()=>u("paused",!1))),e.on([ao.PAUSE,Nh.rn,Nh.Ou],(()=>u("paused",!0))),e.on(Nh.wu,(()=>u("targetTimeReached",!0))),e.on(ho.BUFFER_STARTED,(()=>u("buffering",!0))),e.on(ho.BUFFER_ENDED,(()=>u("buffering",!1))),e.on(Nh.ju,(t=>{u("scrubbing",!0),"keyboard"===(null==t?void 0:t.seekType)&&null!=t&&t.isFrameByFrame&&u("scrubbingByFrame",!0)})),e.on(Nh.Vu,(()=>{u("scrubbing",!1),u("scrubbingByFrame",!1)})),e.on(Ah.tu,(t=>{n((e=>{const n=e.liveEvent.dvrEnabled?e.playback.liveTailTime:0,i=e.liveEvent.dvrEnabled?e.playback.liveEdgeTime:e.playback.duration,r=eh(t,n,i);return{playback:J(J({},e.playback),{},{currentTime:r})}}))})),e.on(ao.TIME_UPDATE,(({currentTime:e,timeProgress:i,liveEdgeTime:r,atLiveEdge:o,liveTailTime:s,atLiveTail:u})=>{n((n=>{const l=Math.min(sh(100*i),100);e=e||n.playback.duration*l||0;const c=RS(t),d=a.maxPlayedTime;return{playback:J(J({},n.playback),{},{currentTime:e,liveEdgeTime:r,atLiveEdge:o,liveTailTime:s,atLiveTail:u,playbackRates:c,maxPlayedTime:d})}}))})),e.on(Nh._u,(()=>{const t=i().liveEvent.dvrEnabled&&!i().playback.atLiveEdge,e=i().liveEvent.dvrEnabled&&i().playback.atLiveEdge;t||n((t=>({playback:J(J({},t.playback),{},{ended:!0,currentTime:e?0:t.playback.currentFragment.duration})})))})),e.on(ao.PROGRESS,(({loaded:t})=>{n((e=>({playback:J(J({},e.playback),{},{loadedTime:t})})))})),e.on([Nh.Nu,ao.DURATION_CHANGE],(()=>{if(!ES(i().playback.currentFragment,t.fragmentsHandler.currentFragment)){const e=DS(t.config);n((n=>({playback:J(J({},n.playback),{},{hasFragments:e,currentFragment:t.fragmentsHandler.currentFragment,maxPlayedTime:a.maxPlayedTime})})))}})),e.on(ao.LOADED_METADATA,(()=>{n((t=>({playback:J(J({},t.playback),{},{loadedMetadata:!0})})))})),e.on(ao.LOADED_DATA,(()=>{n((t=>({playback:J(J({},t.playback),{},{loadedData:!0})})))})),e.on([ho.STREAM_CHANGE,Ac],(t=>{const e={currentQuality:LS(r.qualities,t)};i().liveEvent.isLiveEvent&&Object.assign(e,{qualities:r.qualities}),n((t=>({playback:J(J({},t.playback),e)})))})),e.on(Nh.gu,(t=>{n((e=>({playback:J(J({},e.playback),{},{qualities:r.qualities,currentQuality:LS(r.qualities,t)})})))})),e.on(ho.AUDIO_TRACK_CHANGED,(()=>u("audioTracks",r.audioTracks))),e.once(Sc,(()=>u("canPlayPictureInPicture",t.canPlayPictureInPicture))),e.on(Nh.Ac,(()=>{n((t=>({playback:J(J({},t.playback),{},{supportsAirPlay:!0})})))})),e.on(Nh.Nc,(()=>{n((t=>({playback:J(J({},t.playback),{},{supportsAirPlay:!1})})))})),e.on(Nh.Eu,(()=>{n((e=>({playback:J(J({},e.playback),{},{playbackRates:RS(t)})})))})),e.on(Nh.bu,(t=>{n((e=>({playback:J(J({},e.playback),{},{volume:t,muted:r.muted})})))})),e.on(Nh.yu,(t=>{n((e=>({playback:J(J({},e.playback),{},{muted:t})})))})),e.on(ho.AVAILABLE_STREAMS_CHANGED,(()=>{n((t=>({playback:J(J({},t.playback),{},{qualities:r.qualities,currentQuality:LS(r.qualities)})})))})),e.on([Nh.xc,Nh.Pc,Nh.Lc,Nh.Dc,Nh.jc,Nh.Vc],(()=>{n((t=>({playback:J(J({},t.playback),{},{isAdPlaying:!1})})))})),e.on([Nh.$c,Nh.Bc],(()=>{n((t=>({playback:J(J({},t.playback),{},{isAdPlaying:!0})})))})),e.on([Nh.od,Nh.sd],(()=>{n((e=>({playback:J(J({},e.playback),{},{isSegmentedPlaybackEnabled:t.segmentedPlaybackEnabled,startTime:t.startTime,endTime:t.endTime})})))})),e.on(Lc.LATENCY_UPDATED,(function(){n((t=>t.playback.paused||t.playback.buffering?t.playback.scrubbing?iE:{playback:J(J({},t.playback),PS(r))}:iE))})),e.on(ho.SCANNER_CHANGE,(function(){n((t=>({playback:J(J({},t.playback),PS(r))})))})),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.atLiveEdge}),(t=>!t&&i().liveEvent.dvrEnabled&&!i().liveEvent.isArchived&&n_(im.DVR_MODE_ENTERED,s))),o((t=>{var e;return null==t||null==(e=t.embed)?void 0:e.pip}),(()=>{n((e=>({playback:J(J({},e.playback),{},{canPlayPictureInPicture:t.canPlayPictureInPicture})})))})),{playback:l,clearSegment:()=>{t.startTime=null,t.endTime=null},setPlayback:(t,o,s)=>{if("paused"!==t){if("qualities"===t)return e.fire(Ah.xa,o),void n((t=>{const e=Sf(t.playback.qualities,o);return{playback:J(J({},t.playback),{},{qualities:e,currentQuality:LS(e)})}}));if("playbackRates"===t)return e.fire(Ah.eu,o),void n((t=>{const e=Sf(t.playback.playbackRates,o);return{playback:J(J({},t.playback),{},{playbackRates:e})}}));if("scrubbing"!==t)if("currentTime"!==t)if("volume"!==t)if("muted"!==t)if("audioTracks"!==t)u(t,o);else{const t=r.audioTracks.find((t=>t.id===`${o}`));t&&(r.enableAudioTrack(t),e.fire(Ah.iu,t))}else e.fire(Ah.Oa,o);else e.fire(Ah.Ma,o);else switch(null==s?void 0:s.seekType){case"interactive-marker":e.fire(Ah.Na,o),e.fire(Nh.Iu),e.fire(Nh.Xc,{type:"interactive-marker",action:null==s?void 0:s.action});break;case"nudge":e.fire(Nh.ku),e.fire(Ah.Na,o),i().playback.playInitiated||e.fire(Nh.Iu);break;default:e.fire(Ah.Na,o)}else o?e.fire(Nh.ju):e.fire(Nh.Vu)}else!1===o?e.fire(Nh.Iu):e.fire(Nh.Ou)}}})(r)),(t=>{const{events:e,set:n}=t,i=(t,e)=>{n((n=>({user:J(J({},n.user),{},{[t]:e})})))};return e.on(Nh.Rl,(()=>i("liked",!0))),e.on(Nh.Ll,(()=>i("liked",!1))),e.on(Nh.Dl,(()=>i("watchLater",!0))),e.on(Nh.Pl,(()=>i("watchLater",!1))),e.on(Nh.Hl,((t,e)=>{n((()=>({user:$S({config:e})})))})),e.on(Nh.$l,(()=>{n((()=>({user:$S(t)})))})),e.on(Nh.lc,(()=>i("following",!1))),e.on(Nh.uc,(()=>i("following",!0))),{user:$S(t),setUser:(n,r)=>{if("collected"!==n)if("shared"!==n)i(n,r);else{const{share:n}=t.config.embed.settings,i=null!=n&&n.embed_only?Nh.ll:Nh.ul;e.fire(i)}else e.fire(Nh.dl)}}})(r)),(t=>{const{set:e,get:n,events:i,subscribe:r}=t,o=VS(t);function s(t){t&&n().vod.vodButtonVisible?e((t=>({vod:J(J({},t.vod),{},{vodButtonVisible:!1})}))):t||!n().vod.isVOD||n().vod.vodButtonVisible||e((t=>({vod:J(J({},t.vod),{},{vodButtonVisible:!0})})))}return r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{s(t)})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>s(t))),i.on(Nh.Hl,((n,i)=>{e((()=>({vod:VS(J(J({},t),{},{config:i}))})))})),{vod:o,setVod:(t,n)=>{e((e=>({vod:J(J({},e.vod),{},{[t]:n})})))}}})(r)),(t=>{const{set:e,get:n,events:i}=t,r=wE(t);let o=null;const s=(t,i)=>{if("purpose"!==t)e((e=>({overlay:J(J({},e.overlay),{},{[t]:i})})));else{const t=n().overlay.purpose===i?Pf.EMPTY:i;e((e=>({overlay:J(J({},e.overlay),{},{purpose:t})})))}};return i.on(Nh.fl,((t,e)=>{e||(n().overlay.purpose===t?i.fire(Nh.pl):s("purpose",t))})),i.on(Nh.pl,(()=>{o=null,s("purpose",Pf.EMPTY)})),i.on(Ah.Ia,((t,e,r)=>{r||(t===Pf.SPATIAL_REDIRECT&&s("spatialRedirectContext",e),n().displayList.accessGate||i.fire(Nh.fl,t))})),i.on(Nh.hu,((t,e)=>{gE(o,t,e)&&(o=t,s("purpose",Pf.ERROR))})),i.on(Nh.Yl,(()=>{o===pf.NETWORK&&(o=null,s("purpose",Pf.EMPTY))})),Se.stereoscopic&&i.on(Nh.Al,(()=>{s("spatialRedirectContext","headset"),s("purpose",Pf.SPATIAL_REDIRECT)})),{overlay:r,setOverlay:(t,e)=>{("purpose"!==t||TE(e))&&("purpose"===t&&e===Pf.EMPTY||e===Pf.INTERACTIVE?i.fire(Nh.pl):("purpose"===t&&TE(e)&&(i.fire(Ah.Ia,e,{},!0),i.fire(Nh.fl,e,!0)),s(t,e)))}}})(r)),(t=>{const{set:e,events:n,subscribe:i}=t,r=sE(t);return n.on(Nh.Hl,((n,i)=>{e((()=>({title:sE(J(J({},t),{},{config:i}))})))})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.isSegmentedPlaybackEnabled}),(n=>{let i=wp(mh,t.config);n&&(i=Mp(i,t.startTime,t.endTime)),e((t=>({title:J(J({},t.title),{},{titleLinkUrl:i})})))})),{title:r}})(r)),(t=>{const{events:e,set:n}=t,i=HS(t);return e.on(Nh.Hl,((t,e)=>{n((()=>({badge:HS({config:e})})))})),{badge:i,setBadge:(t,i)=>{"id"!==t?((t,e)=>{n((n=>({badge:J(J({},n.badge),{},{[t]:e})})))})(t,i):e.fire(Nh.tl,i)}}})(r)),(t=>{const{set:e,events:n}=t,i=(t,n)=>{e((e=>({chapters:J(J({},e.chapters),{},{[t]:n})})))},r=US(t),o=({backbone:t})=>{if(t.chaptersTrack){const e=()=>n.fire(Nh.$u,null==t?void 0:t.currentChapterID);t.chaptersTrack.addEventListener("cuechange",e)}};return o(t),n.on(Nh.$u,(t=>{e((e=>({chapters:J(J({},e.chapters),{},{activeCueId:t})})))})),n.on(ho.CHAPTER_CUES_UPDATED,(()=>i("chapters",zS(t)))),n.on(Nh.Hl,(()=>{e((()=>({chapters:US(t)}))),o(t)})),{chapters:r,setChapters:i}})(r)),(t=>{const{set:e,get:n,events:i,backbone:r}=t,o=sb(),s=t=>{var i;const o=qS(r.textTracks,null==(i=n())||null==(i=i.liveEvent)?void 0:i.isLiveEvent,t);e((t=>({captions:J(J({},t.captions),o)})))},a=WS(t);return i.on(Nh.Wu,(t=>{s(t)})),i.on(ho.TEXT_TRACKS_AVAILABLE,(()=>{s()})),i.on(Nh.Hl,(()=>{e((()=>({captions:WS(t)})))})),i.on(Cc,((t,n=[])=>{r.enabledTextTrack&&"disabled"!==(null==t?void 0:t.mode)&&e((t=>({captions:J(J({},t.captions),{},{activeCues:Pr(n)})})))})),i.on(Ah.Ua,(()=>{e((t=>({captions:J(J({},t.captions),{},{activeCues:[]})})))})),{captions:a,setCaptions:(n,r)=>{if("activeTextTrackId"===n)return"off"!==r&&r?void i.fire(Ah.Ha,r):void i.fire(Ah.Ua);if(ap.hasOwnProperty(n)){const s=o[n];return i.fire(Ah.za,s,r),void e((e=>({captions:J(J({},e.captions),YS(t))})))}((t,n)=>{e((e=>({captions:J(J({},e.captions),{},{[t]:n})})))})(n,r)},resetCaptionsStyles:()=>{i.fire(Ah.Xa),e((e=>({captions:J(J({},e.captions),YS(t))})))}}})(r)),(t=>{const{events:e,set:n,subscribe:i}=t,r=JS(t),o=(t,e)=>{n((n=>({liveEvent:J(J({},n.liveEvent),{},{[t]:e})})))};e.on(Nh.Hl,(()=>{n((()=>({liveEvent:JS(t)})))}));const{EVENT_ACTIVE:s,EVENT_PENDING:a,EVENT_STARTED:u,EVENT_ENDED:l}=Lc,c={[s]:Gp.active,[a]:Gp.pending,[u]:Gp.started,[l]:Gp.ended};Object.keys(c).forEach((t=>e.on(t,(()=>n((e=>({liveEvent:J(J({},e.liveEvent),tA(c[t]))})))))));const{ARCHIVE_STARTED:d,ARCHIVE_DONE:h,ARCHIVE_ERROR:f}=Lc,p={[d]:Xp.started,[h]:Xp.done,[f]:Xp.error};return Object.keys(p).forEach((t=>e.on(t,(()=>n((e=>({liveEvent:J(J({},e.liveEvent),QS(p[t]))}))))))),e.on(Lc.LIVE_STATS_SUCCESS,(({viewerCount:t})=>{n((e=>({liveEvent:J(J({},e.liveEvent),{},{viewerCount:Gd(t),liveStatsRequestSucceeded:!0})})))})),e.on(Lc.LIVE_STATS_FAILURE,(()=>{o("liveStatsRequestSucceeded",!1)})),e.on(Lc.STREAM_ONLINE,(()=>{o("isOnline",!0)})),e.on(Lc.STREAM_OFFLINE,(()=>{o("isOnline",!1),Se.iOS&&Eg.element&&(e.fire(Nh.rl),Eg.exit())})),e.on(Nh.rd,(()=>{o("isPlayable",!0)})),i((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isStarted}),(t=>!t&&o("isPlayable",!1))),{liveEvent:r,setLiveEvent:o}})(r)),lA(r)),(t=>{const{set:e,events:n,config:i}=t,r={cuePoints:[]};return n.on(Nh.Hl,(()=>{e((()=>({cuePoints:{cuePoints:[]}})))})),i.embed.on_site&&(n.on(Nh.qu,(t=>{e((e=>{const n=e.cuePoints.cuePoints.concat(t);return{cuePoints:J(J({},e.cuePoints),{},{cuePoints:n})}}))})),n.on(Nh.Yu,(t=>{e((e=>{const n=e.cuePoints.cuePoints.filter((e=>e.id!==t.id));return{cuePoints:J(J({},e.cuePoints),{},{cuePoints:n})}}))}))),{cuePoints:r,setCuePoints:(t,n)=>{e((e=>({cuePoints:J(J({},e.cuePoints),{},{[t]:n})})))}}})(r)),(t=>{const{set:e,get:n,events:i,subscribe:r,element:o,config:s}=t,a={purpose:hA.EMPTY};let u=function(t){const{request:e,video:n,embed:i}=t.config,{qoe_survey_forced:r,ott:o}=e.flags,{qoe_survey_vote:s}=e.cookie,{duration:a,live_event:u}=n;return!(!r&&(a<60&&!u||!$f(i)||o||jf(7776e6)<s/1e3||!(Math.random()<.005)))}(t);const l=(t,i)=>{$f(s.embed)&&lv({newPriority:i,currentPriority:n().toast.purpose,priorityOrder:fA})&&e((e=>({toast:J(J({},e.toast),{},{[t]:i})})))},c=()=>{u&&lv({newPriority:hA.QOE_SURVEY,currentPriority:n().toast.purpose,priorityOrder:fA})&&(t=>{if(!t)return!1;const e=t.getBoundingClientRect(),n=e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth),i="visible"===document.visibilityState;return n&&i})(o)&&(l("purpose",hA.QOE_SURVEY),i.fire(Nh.ed),u=!1)};function d(){e((t=>{const{liveEvent:e,toast:n,playback:i,displayList:r}=t;return e.dvrEnabled&&n.purpose!==hA.SKIP_TO_LIVE?i.atLiveEdge?iE:e.isPlayable?i.paused&&!i.scrubbing?iE:r.controlBar?{toast:{purpose:hA.SKIP_TO_LIVE}}:iE:iE:iE}))}function h(){e((t=>t.toast.purpose!==hA.SKIP_TO_LIVE?iE:{toast:{purpose:hA.EMPTY}}))}return r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.playInitiated}),(t=>{var e,i;const r=function(t,e){return e?6e5:Math.round(.4*t*1e3)}(null==(e=n())||null==(e=e.playback)?void 0:e.duration,null==(i=n())||null==(i=i.liveEvent)?void 0:i.isLiveEvent);t&&r&&setTimeout(c,r)})),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.atLiveEdge}),(t=>{t?h():d()})),r((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isEnded}),(t=>t&&void e((t=>t.liveEvent.dvrEnabled&&t.liveEvent.isEnded?{toast:{purpose:hA.BROADCAST_OVER}}:iE)))),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{n().liveEvent.isEnded||n().playback.scrubbing||(t?h():d())})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.controlBar}),(t=>t?d():h())),{toast:a,setToast:l,closeToast:()=>{l("purpose",hA.EMPTY)}}})(r)),(t=>{const{get:e,set:n,subscribe:i,config:r,backbone:o}=t,s=hE(t),a=(t,i)=>{$f(r.embed)&&lv({newPriority:i,currentPriority:e().topCenterActionItem.purpose,priorityOrder:dE})&&n((e=>({topCenterActionItem:J(J({},e.topCenterActionItem),{},{[t]:i})})))},u=t=>{t&&e().topCenterActionItem.purpose!==t||a("purpose",cE.EMPTY)},l=()=>u(cE.UNMUTE),c=()=>a("purpose",cE.WATCH_FULL_VIDEO),d=()=>u(cE.WATCH_FULL_VIDEO);return i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.loadedData}),(t=>{if(!t)return;const n=e(),i=n.embed.autoPlay||n.liveEvent.isLiveEvent,r=0===n.playback.volume||n.playback.muted,s=$f(n.embed),u=o.hasAudio||n.liveEvent.isLiveEvent;r&&i&&s&&u&&n.embed.unmuteButton&&a("purpose",cE.UNMUTE)})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.volume}),(t=>t>0&&l())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.muted}),(t=>!t&&l())),i((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isEnded}),(t=>t&&l())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.isSegmentedPlaybackEnabled}),(()=>{fE(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.controlBar}),(()=>{fE(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),(()=>{fE(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(()=>{fE(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.hasFirstTimeUpdate}),(t=>{if(r.video.spatial&&t){const t=e().embed.cards;if((null==t?void 0:t.length)&&t[0].timecode<15)return;setTimeout((()=>{a("purpose",cE.SPATIAL_INSTRUCTIONS_CLICK),setTimeout((()=>u()),3e3)}),7e3),Se.android||setTimeout((()=>{a("purpose",cE.SPATIAL_INSTRUCTIONS_ARROWS),setTimeout((()=>u()),3e3)}),14e3)}})),{topCenterActionItem:s,setTopCenterActionItem:a,closeTopCenterActionItem:u}})(r)),(t=>{const{events:e,set:n}=t,i=(t,e)=>{n((n=>({spatial:J(J({},n.spatial),{},{[t]:e})})))};return e.on(po.WEBVR_ENTER,(()=>{i("webVRActive",!0)})),e.on(po.WEBVR_EXIT,(()=>{i("webVRActive",!1)})),e.on(po.CAMERA_UPDATE,(t=>{n((e=>({spatial:J(J({},e.spatial),{},{latitude:t.pitch,longitude:t.yaw})})))})),{spatial:function(t){const{spatial:e}=t.config.video;return{webVRActive:!1,longitude:0,latitude:0,fieldOfView:e?e.fov:0}}(t),setSpatial:i}})(r)),yA(r)),(t=>{const{set:e,events:n,subscribe:i,get:r}=t,o=(t,n)=>{e((e=>({alert:J(J({},e.alert),{},{[t]:n})})))},s=t=>{e((e=>{const n=e.embed.background;return e.displayList.overlay||n?iE:{alert:J(J({},e.alert),{},{currentAlert:t})}}))};return n.on(ph.Sa,(()=>s(CE.SPATIAL_UNSUPPORTED))),n.on(ph.Aa,(()=>s(CE.SPATIAL_FAILURE))),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.overlay}),(t=>{t&&r().alert.currentAlert!==CE.EMPTY&&o("currentAlert",CE.EMPTY)})),{alert:{currentAlert:CE.EMPTY},setAlert:o}})(r)),(t=>{const{get:e,set:n,events:i}=t,r=(t,e)=>{n((n=>({notification:J(J({},n.notification),{},{[t]:e})})))};return i.on([Nh.kc,Ah.Ra],(()=>r("currentNotification",null))),i.on([Nh.Rl,Nh.Ll],(()=>{const t=e().user.liked;r("currentNotification",t?gA.LikedAdded:gA.LikeRemoved)})),i.on([Nh.Dl,Nh.Pl],(()=>{const t=e().user.watchLater;r("currentNotification",t?gA.WatchLaterAdded:gA.WatchLaterRemoved)})),{notification:{currentNotification:null},setNotification:r}})(r)),(t=>{const{set:e}=t,n=(t,n)=>{e((e=>({chromecast:J(J({},e.chromecast),{},{[t]:n})})))},i=wA(t);return gb.on([vb.initialized,vb.castStateChanged],(()=>{n("isChromecastReady",TA())})),gb.on(vb.buffering,(()=>{n("isChromecastBuffering",!0)})),gb.on(vb.error,(()=>{n("supportsChromecast",!1)})),gb.on(vb.connected,(t=>{e((e=>{var n;return{chromecast:J(J({},e.chromecast),{},{isChromecastConnected:!0,receiverFriendlyName:null==t||null==(n=t.receiver)?void 0:n.friendlyName})}}))})),gb.on(vb.disconnected,(()=>{e((()=>({chromecast:wA(t)})))})),gb.on(vb.playing,(()=>{e((t=>({chromecast:J(J({},t.chromecast),{},{isChromecastPlaying:!0,isChromecastBuffering:!1})})))})),gb.on([vb.error,vb.idle,vb.paused,vb.ended,vb.disconnected],(()=>{e((t=>({chromecast:J(J({},t.chromecast),{},{isChromecastPlaying:!1,isChromecastBuffering:!1})})))})),{chromecast:i}})(r)),{},{config:o,backbone:s,element:a,name:(null==u?void 0:u.name)||Qf.VimeoPlayer,verifyConfig:l,events:c,subscribe:i,updatePhpTokens:d,seekingController:h});return c.fire(Nh.pd,f),f})(e,n,i)})),children:e}):null},AA=t=>`opacity ${t}ms ease-out`,NA=({children:t,visible:e,duration:n=250,styleOverrides:i={},onFaded:r,delay:o=0,fadeIn:s=!0,fadeOut:a=!0})=>{const u=EA((t=>t.embed.background||!t.embed.controls||t.displayList.accessGate)),l=AA(n),c={enter:{opacity:0},enterActive:{opacity:1,transition:l,transitionDelay:`${o}ms`},enterDone:{opacity:1},exit:{opacity:1},exitActive:{opacity:0,transition:l,transitionDelay:`${o}ms`},exitDone:u?{display:"none"}:{overflow:"hidden",opacity:0,pointerEvents:"none"}};return Object.keys(i).forEach((t=>{t in c&&Object.assign(c[t],i[t])})),s||delete c.enter,a||delete c.exit,Tk(pC,{in:e,duration:n,styles:c,alwaysMounted:!0,onExited:()=>{r&&r()},children:t})};const MA=({children:t,text:e})=>{const n=WT(e),[i,r]=UT(!1),[o,s]=UT(!1),a=()=>{o||s(!0)},u=()=>{i&&(a(),r(!1))},l=()=>{i||Se.touch||(a(),r(!0))},c=YT((()=>{o&&s(!1)}),[o]),d={className:"LabeledButton_module_box__2e0341f7",onMouseEnter:l,onMouseLeave:u,onFocus:l,onBlur:u},h=J({className:"LabeledButton_module_labeledButton__2e0341f7"},bf((e=>{u(),t.props.onClick&&t.props.onClick(e)}))),f=`${AA(aE)} transform 250 ease-out`,p={visible:i,styleOverrides:{enterActive:{transform:"translateX(0)",transition:f},exitActive:{transform:"translateX(5px)",transition:f}}};return n.current!==e&&(o?p.onFaded=c:n.current=e),Tk("div",J(J({},d),{},{children:[Tk(NA,J(J({},p),{},{children:Tk("label",J(J({},h),{},{role:"presentation","aria-hidden":"true",children:Tk("span",{children:n.current})}))})),t]}))};const OA=["href","children","element","className","targetBlank"],IA=gC(((t,e)=>{let{href:n,children:i,element:r="div",className:o="",targetBlank:s=!0}=t,a=Q(t,OA);const u=sT(r,J(J({},a),{},{className:o}),i);return n?Tk("a",J(J(J({href:n,className:kf("Link_module_link__13523a65",o),ref:e,"aria-describedby":rf.NEW_WINDOW_DESCRIPTION},s?{target:"_blank",rel:"noopener"}:{}),a),{},{children:i})):u})),RA=["direction"],LA=["fill"],xA={[bk.CLOSE]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M11.06 10l4.597-4.596a.749.749 0 1 0-1.061-1.06L10 8.938 5.404 4.343a.749.749 0 1 0-1.06 1.061L8.938 10l-4.596 4.596a.749.749 0 1 0 1.061 1.06L10 11.062l4.596 4.596a.749.749 0 1 0 1.06-1.061L11.062 10z",fill:"#fff",fillRule:"evenodd"})})),[bk.AIRPLAY]:t=>Tk("svg",J(J({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","data-airplay-icon":!0},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6666 4.99992H3.33329V13.3333H5.43825L4.0911 14.9999H3.33329C2.41282 14.9999 1.66663 14.2537 1.66663 13.3333V4.99992C1.66663 4.07944 2.41282 3.33325 3.33329 3.33325H16.6666C17.5871 3.33325 18.3333 4.07944 18.3333 4.99992V13.3333C18.3333 14.2537 17.5871 14.9999 16.6666 14.9999H15.9088L14.5617 13.3333H16.6666V4.99992ZM10.7777 12.6288C10.3774 12.1336 9.62249 12.1336 9.22224 12.6288L6.26454 16.288C5.73597 16.9419 6.2014 17.9166 7.04225 17.9166H12.9577C13.7985 17.9166 14.2639 16.9419 13.7354 16.288L10.7777 12.6288Z"})})),[bk.DOLBY_VISION]:t=>Tk("svg",J(J({viewBox:"0 0 844 126","aria-labelledby":"dv-logo-title"},Object.assign({},(K(t),t))),{},{children:[Tk("title",{id:"dv-logo-title",children:"Dolby Vision"}),Tk("path",{d:"M478.94 30.12l-18.96 42.63-18.95-42.63h-15.9l26.9 60.48-6.59 14.85a7.77 7.77 0 01-10.25 3.94l-2.08-.93-5.88 13.19h.03l5.04 2.26a18.86 18.86 0 0024.85-9.56l37.69-84.23h-15.9zm-66.52 33.04c0-11-9.05-20.05-20.06-20.05a20.08 20.08 0 00-19.02 26.37 20.05 20.05 0 0039.08-6.32zm13.2.13a33.3 33.3 0 01-33.26 33.26 33.08 33.08 0 01-19.02-6v6.02h-14.58V.47h14.58v35.55c5.4-3.77 11.96-6 19.02-6a33.3 33.3 0 0133.27 33.27zm-93.64 33.29h14.55V.48h-14.55v96.1zm-22.62-33.4c0-11-9.05-20.06-20.06-20.06a20.07 20.07 0 000 40.11c11 0 20.06-8.92 20.06-20.05zm13.2.03a33.3 33.3 0 01-33.26 33.26 33.3 33.3 0 01-33.26-33.26 33.3 33.3 0 0133.26-33.27 33.3 33.3 0 0133.27 33.27zM234.1 48.47a33.5 33.5 0 00-33.44-33.45h-20.12v66.9h20.12a33.5 33.5 0 0033.44-33.45zm14.56 0c0 26.47-21.54 48-48 48h-34.68v-96h34.68c26.46 0 48 21.53 48 48zM136.92.47h-14.17c-26.44 0-48 21.56-48 48s21.56 48 48 48h14.17v-96zM.36 96.47h14.16c26.45 0 48-21.56 48-48s-21.55-48-48-48H.36v96zm789.18-66.35c.4 4.2.54 12.61.54 16.14v50.32h7.46V62.8c0-17.63 9.9-26.44 20.88-26.44 13.96 0 17.9 10.3 17.9 22.78v37.44h7.32V56.43c0-14.92-7.05-26.3-23.6-26.3-9.48 0-18.97 5.55-22.63 14.23h-.27c0-3.39-.28-10.7-.55-14.24h-7.05zM769.7 63.28c0 15.02-9.88 26.65-25.7 26.65-15.7 0-25.57-11.63-25.57-26.65 0-15.01 9.88-26.78 25.57-26.78 15.82 0 25.7 11.77 25.7 26.78zm7.57 0c0-19.2-13.66-33.14-33.27-33.14-19.48 0-33.14 13.94-33.14 33.14 0 19.07 13.66 33.28 33.14 33.28 19.61 0 33.27-14.2 33.27-33.28zm-78.51-33.16h-7.85v66.44h7.85V30.12zm1.57-24.1a5.58 5.58 0 00-5.56-5.55 5.55 5.55 0 000 11.12c2.85 0 5.56-2.3 5.56-5.56zm-24.88 34.81c-4.06-6.91-12.04-10.7-21.24-10.7-10.96 0-21.51 5.42-21.51 17.62 0 23.46 36.66 13.01 36.66 30.24 0 8.8-7.71 12.33-15.56 12.33a21.65 21.65 0 01-18.13-9.76l-5.81 4.2c5.4 8 14.47 11.8 23.94 11.8 11.5 0 22.87-5.7 22.87-19.12 0-10.3-7.71-15.18-21.1-18.17-10.43-2.3-15.84-4.74-15.84-12.06 0-7.87 7.58-10.98 14.21-10.98 7.03 0 12.72 3.38 15.83 8.67l5.68-4.07zM617.6 30.1h-7.46v66.48h7.46V30.1zm1.76-23.96A5.58 5.58 0 00613.8.6a5.56 5.56 0 000 11.11c2.85 0 5.56-2.3 5.56-5.56zm-61.1 80.8h.27L590.92.47h8.27l-36.6 96.1h-8.68L517.44.48h8.4l32.4 86.47z",fill:"currentColor",fillRule:"nonzero"})]})),[bk.PIP]:t=>{let{direction:e="enter"}=t;return Tk("svg",J(J({viewBox:"0 0 16 12"},Q(t,RA)),{},{children:[Tk("polygon",{className:tf.FILL,points:"6 8 1 8 1 1 14 1 14 6 15 6 15 0 0 0 0 9 6 9 6 8"}),Tk("rect",{className:tf.FILL,x:"7",y:"7",width:"9",height:"5"}),Tk("polyline",{className:tf.FILL,transform:"enter"===e?"translate(4, 4) rotate(180) translate(-4, -4)":"",points:"5.33 2 5.33 3 3.67 3 5.67 5 5 5.67 3 3.67 3 5.33 2 5.33 2 2"})]}))},[bk.ENTER_FULLSCREEN]:()=>Tk("svg",{className:nf.ENTER_FULLSCREEN_ICON,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-enter-fullscreen":!0,children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 5L17.5858 5L14.2929 8.29292C13.9024 8.68345 13.9024 9.31661 14.2929 9.70714C14.6834 10.0977 15.3166 10.0977 15.7071 9.70714L19 6.41426V8C19 8.55228 19.4477 9 20 9C20.5523 9 21 8.55228 21 8V4C21 3.73478 20.8946 3.48043 20.7071 3.29289C20.5196 3.10536 20.2652 3 20 3H16C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5ZM5 8.00002V6.4142L8.29292 9.70712C8.68345 10.0976 9.31661 10.0976 9.70714 9.70712C10.0977 9.3166 10.0977 8.68343 9.70714 8.29291L6.41424 5.00001L8 5.00002C8.55228 5.00002 9 4.5523 9 4.00002C9 3.44773 8.55228 3.00002 8 3.00002H4C3.73478 3.00002 3.48043 3.10537 3.29289 3.29291C3.10536 3.48044 3 3.7348 3 4.00002V8.00002C3 8.5523 3.44772 9.00001 4 9.00001C4.55228 9.00001 5 8.5523 5 8.00002ZM8.00002 19H6.4142L9.70712 15.7071C10.0976 15.3166 10.0976 14.6834 9.70712 14.2929C9.3166 13.9024 8.68343 13.9024 8.29291 14.2929L5.00001 17.5858V16C5.00001 15.4477 4.5523 15 4.00001 15C3.44773 15 3.00002 15.4477 3.00002 16L3.00002 20C3.00002 20.2652 3.10537 20.5196 3.29291 20.7071C3.48044 20.8947 3.7348 21 4.00002 21H8.00002C8.5523 21 9.00001 20.5523 9.00001 20C9.00001 19.4477 8.5523 19 8.00002 19ZM19 17.5858V16C19 15.4477 19.4477 15 20 15C20.5523 15 21 15.4477 21 16V20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8947 20.2652 21 20 21H16C15.4477 21 15 20.5523 15 20C15 19.4477 15.4477 19 16 19H17.5858L14.2929 15.7071C13.9023 15.3166 13.9023 14.6834 14.2929 14.2929C14.6834 13.9024 15.3166 13.9024 15.7071 14.2929L19 17.5858Z"})}),[bk.EXIT_FULLSCREEN]:()=>Tk("svg",{className:nf.EXIT_FULLSCREEN_ICON,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-exit-fullscreen":!0,children:[Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.41425 7.00003L8.41425 4.41425L10.4142 4.41425L10.4142 9.41425C10.4142 9.67946 10.3089 9.93382 10.1214 10.1214C9.93382 10.3089 9.67946 10.4142 9.41425 10.4142L4.41425 10.4142L4.41425 8.41425L7.00003 8.41425L3 4.41422L4.41422 3L8.41425 7.00003Z"}),Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0097 8.41425L21 4.42398L19.5858 3.00977L15.5858 7.0098L15.5858 4.42401L13.5858 4.42401L13.5858 9.41424C13.5858 9.67946 13.6911 9.93382 13.8787 10.1214C14.0662 10.3089 14.3205 10.4142 14.5858 10.4142L19.5858 10.4142L19.5858 8.41425L17.0097 8.41425Z"}),Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.41419 17L4.41421 21L3 19.5858L6.99997 15.5858L4.41419 15.5858L4.41419 13.5858L9.41419 13.5858C9.96647 13.5858 10.4142 14.0335 10.4142 14.5858L10.4142 19.5858L8.41419 19.5858L8.41419 17Z"}),Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5858 16.9986L19.5855 21L21 19.5861L17.0015 15.5858L19.5813 15.5858L19.5813 13.5858L14.5858 13.5858C14.3206 13.5858 14.0662 13.6912 13.8787 13.8787C13.6912 14.0662 13.5858 14.3206 13.5858 14.5858L13.5858 19.5858L15.5858 19.5858L15.5858 16.9986Z"})]}),[bk.GEAR]:t=>Tk("svg",J(J({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.16668 1.66699C8.2462 1.66699 7.50001 2.41318 7.50001 3.33366V4.72835C7.21484 4.86382 6.94241 5.02175 6.68499 5.19984L5.46953 4.4981C4.68103 4.04285 3.66009 4.31415 3.20034 5.11047L2.36526 6.55686C1.90707 7.35046 2.17605 8.3701 2.96953 8.82822L4.18535 9.53017C4.17298 9.68526 4.16668 9.84206 4.16668 10.0003C4.16668 10.1586 4.17298 10.3154 4.18535 10.4705L2.96953 11.1724C2.17605 11.6306 1.90707 12.6502 2.36526 13.4438L3.20034 14.8902C3.66009 15.6865 4.68103 15.9578 5.46953 15.5026L6.685 14.8008C6.94241 14.9789 7.21484 15.1368 7.50001 15.2723V16.667C7.50001 17.5875 8.2462 18.3337 9.16668 18.3337H10.8333C11.7538 18.3337 12.5 17.5875 12.5 16.667V15.2723C12.7851 15.1369 13.0574 14.979 13.3147 14.801L14.5298 15.5026C15.3183 15.9578 16.3393 15.6865 16.799 14.8902L17.6341 13.4438C18.0923 12.6502 17.8233 11.6306 17.0298 11.1724L15.8146 10.4708C15.827 10.3156 15.8333 10.1587 15.8333 10.0003C15.8333 9.84193 15.827 9.68501 15.8146 9.52981L17.0298 8.82822C17.8233 8.3701 18.0923 7.35046 17.6341 6.55686L16.799 5.11047C16.3393 4.31415 15.3183 4.04285 14.5298 4.4981L13.3147 5.19963C13.0574 5.02162 12.7851 4.86377 12.5 4.72835V3.33366C12.5 2.41318 11.7538 1.66699 10.8333 1.66699H9.16668ZM12.5 10.0003C12.5 11.381 11.3807 12.5003 10 12.5003C8.6193 12.5003 7.50001 11.381 7.50001 10.0003C7.50001 8.61961 8.6193 7.50033 10 7.50033C11.3807 7.50033 12.5 8.61961 12.5 10.0003Z"})})),[bk.VIMEO]:t=>Tk("svg",J(J({width:"54",height:"18",viewBox:"0 0 54 18",role:"img",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M17.1192 1.32529C17.1011 1.76753 16.8758 2.19197 16.4427 2.59836C15.9559 3.05781 15.3789 3.28759 14.7119 3.28759C13.6845 3.28759 13.1881 2.84607 13.2245 1.96218C13.2418 1.50286 13.5168 1.06061 14.0487 0.636176C14.5808 0.21258 15.1711 0 15.8207 0C16.1992 0 16.5146 0.146412 16.7675 0.437671C17.0197 0.729653 17.1367 1.02548 17.1192 1.32529ZM17.7011 13.0761C17.6 13.1708 17.4962 13.2641 17.3896 13.3562C16.181 14.3855 14.9735 14.9003 13.766 14.9003C13.2063 14.9003 12.778 14.7228 12.4809 14.3676C12.1837 14.0126 12.0438 13.5517 12.062 12.9831C12.0794 12.3977 12.2642 11.4922 12.6159 10.2672C12.9677 9.04241 13.1439 8.3853 13.1439 8.29652C13.1439 7.83551 12.981 7.60428 12.6571 7.60428C12.555 7.60428 12.2769 7.77023 11.8227 8.10073C11.4798 9.10988 10.7329 10.3442 9.58186 11.8036C7.94436 13.9012 6.5589 14.9501 5.42559 14.9501C4.72371 14.9501 4.1294 14.3115 3.64413 13.0338L2.67201 9.5206C2.31167 8.24356 1.92519 7.60426 1.51184 7.60426C1.42173 7.60426 1.10644 7.79121 0.566591 8.16344L0 7.44389C0.59431 6.92922 1.18068 6.41456 1.75765 5.89905C2.55027 5.22401 3.14543 4.86899 3.54217 4.83314C4.47949 4.74436 5.05646 5.37584 5.27308 6.72759C5.50692 8.18593 5.66896 9.09304 5.75981 9.44818C6.03016 10.6581 6.32726 11.2625 6.65219 11.2625C6.90423 11.2625 7.28277 10.87 7.78781 10.0852C8.29201 9.3002 8.56236 8.70301 8.59875 8.29265C8.67067 7.61521 8.40032 7.2757 7.78781 7.2757C7.49939 7.2757 7.20217 7.34115 6.89641 7.47036C7.48828 5.55955 8.61926 4.63151 10.2884 4.68432C11.403 4.71661 11.9869 5.3614 12.04 6.6187C12.3087 6.37895 12.5773 6.1391 12.846 5.89907C13.6213 5.22403 14.1982 4.86889 14.5776 4.83316C15.1719 4.78023 15.609 4.95226 15.8887 5.35096C16.1677 5.74953 16.2713 6.2666 16.2001 6.90362C15.9654 7.9836 15.7124 9.35472 15.4422 11.0178C15.424 11.7794 15.7037 12.1594 16.2807 12.1594C16.5328 12.1594 16.9833 11.897 17.6329 11.3707L17.6568 11.3514C17.6982 10.9804 17.7648 10.5395 17.8569 10.029C18.0055 9.20512 18.0884 8.56353 18.1059 8.10264C18.1414 7.78419 18.06 7.62455 17.8624 7.62455C17.7541 7.62455 17.4475 7.8044 16.9425 8.16339L16.2936 7.44397C16.3838 7.37383 16.9512 6.85832 17.9976 5.899C18.7546 5.20689 19.2684 4.85174 19.5387 4.83382C20.0074 4.79809 20.3859 4.98877 20.6745 5.40623C20.9629 5.82357 21.1075 6.3078 21.1075 6.85832C21.1075 7.03589 21.0894 7.2048 21.0539 7.36457C21.3241 6.95649 21.6394 6.60063 22.0006 6.29854C22.8296 5.58837 23.7584 5.18812 24.7858 5.09933C25.6694 5.02847 26.3001 5.23251 26.6795 5.71217C26.9852 6.10304 27.1291 6.66294 27.1117 7.39091C27.2382 7.28504 27.3733 7.16907 27.518 7.04443C27.9322 6.56489 28.3376 6.18329 28.7343 5.899C29.4013 5.41935 30.096 5.15311 30.8168 5.09933C31.6822 5.02847 32.3041 5.23179 32.6828 5.70988C33.0067 6.09919 33.1514 6.65669 33.1159 7.38165C33.0976 7.87755 32.976 8.59866 32.7508 9.54546C32.5246 10.4923 32.4124 11.0358 32.4124 11.1775C32.3943 11.5498 32.4307 11.8059 32.5207 11.9476C32.6108 12.0893 32.8266 12.1593 33.1696 12.1593C33.3237 12.1593 33.5517 12.0614 33.8539 11.8652C33.8254 11.6415 33.8136 11.4089 33.8184 11.1674C33.8359 9.72924 34.4855 8.36197 35.7659 7.06471C37.1718 5.64451 38.8307 4.9335 40.7418 4.9335C42.5089 4.9335 43.4462 5.64282 43.5545 7.06002C43.6264 7.96328 43.1214 8.89372 42.0402 9.85075C40.8856 10.8964 39.4338 11.5607 37.6855 11.844C38.0096 12.2871 38.4964 12.5083 39.146 12.5083C40.4438 12.5083 41.8593 12.1836 43.3925 11.5326C43.4607 11.5043 43.528 11.4758 43.5944 11.4474C43.5823 11.339 43.5733 11.2286 43.5673 11.1161C43.4765 9.5907 44.0351 8.18902 45.2443 6.9121C46.5421 5.49333 48.1733 4.78413 50.1388 4.78413C51.4003 4.78413 52.3559 5.20147 53.0054 6.03459C53.6187 6.79769 53.8977 7.78179 53.8439 8.98725C53.7714 10.6192 53.1587 12.0294 52.0049 13.2175C50.851 14.4058 49.4173 15 47.7047 15C46.2805 15 45.1985 14.5475 44.4596 13.6427C44.2931 13.4353 44.1496 13.2118 44.0292 12.9724C43.8357 13.0907 43.6324 13.209 43.4193 13.3273C41.5083 14.4097 39.5697 14.9501 37.605 14.9501C36.1444 14.9501 35.098 14.4704 34.4673 13.512C34.4211 13.4446 34.3774 13.3759 34.3361 13.3059L34.2784 13.3561C33.0701 14.3856 31.8623 14.9003 30.6549 14.9003C29.4819 14.9003 28.9146 14.2618 28.9507 12.9832C28.9682 12.4147 29.0813 11.7319 29.2882 10.9331C29.4953 10.1341 29.6084 9.51274 29.6266 9.06893C29.6448 8.39462 29.4368 8.05668 29.0021 8.05668C28.532 8.05668 27.9716 8.60792 27.3204 9.70896C26.6328 10.8637 26.2614 11.9826 26.2076 13.0657C26.1712 13.8304 26.2471 14.4168 26.4352 14.8247C25.177 14.8606 24.2956 14.6558 23.793 14.2119C23.3426 13.821 23.1363 13.1733 23.1727 12.2669C23.1901 11.6985 23.2786 11.13 23.4382 10.5617C23.597 9.99324 23.6856 9.48711 23.7038 9.04247C23.7402 8.38536 23.4959 8.05668 22.9727 8.05668C22.5206 8.05668 22.0329 8.56353 21.5098 9.57578C20.9866 10.588 20.6974 11.6455 20.6436 12.7466C20.6072 13.7416 20.672 14.4338 20.8372 14.8247C19.5995 14.8606 18.7207 14.6035 18.2006 14.0538C17.9631 13.8005 17.7966 13.4746 17.7011 13.0761ZM40.3632 7.9913C40.3807 7.51477 40.183 7.27573 39.7689 7.27573C39.2283 7.27573 38.6798 7.64254 38.1219 8.37592C37.5638 9.10942 37.2754 9.81177 37.2579 10.483C37.2477 10.483 37.2477 10.5982 37.2579 10.8279C38.1399 10.5101 38.9051 10.0243 39.5531 9.37024C40.0748 8.80505 40.345 8.34476 40.3632 7.9913ZM50.5847 7.56539C50.738 7.96564 50.8059 8.40644 50.7877 8.88682C50.7515 9.74099 50.4905 10.5593 50.0038 11.3426C49.4268 12.2864 48.7321 12.7574 47.9212 12.7574C47.56 12.7574 47.2802 12.562 47.0827 12.1703C46.9026 11.8324 46.8212 11.4408 46.8393 10.9953C46.8748 10.0882 47.1452 9.23414 47.6511 8.43291C48.2453 7.4541 49.0025 6.96434 49.9223 6.96434C50.2102 6.96434 50.4313 7.16513 50.5847 7.56539Z"})})),[bk.VIMEO_SMALL]:t=>Tk("svg",J(J({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M18.7781 6.00913C18.6943 7.81161 17.4171 10.2795 14.9465 13.4122C12.3922 16.6841 10.231 18.3203 8.46324 18.3203C7.36838 18.3203 6.44133 17.3242 5.68438 15.331C5.17905 13.5043 4.67352 11.6776 4.168 9.85093C3.60591 7.8589 3.00305 6.86167 2.35829 6.86167C2.21771 6.86167 1.7259 7.1533 0.88381 7.73392L0 6.61152C0.927048 5.80871 1.84171 5.00589 2.74171 4.20176C3.9781 3.14879 4.90648 2.59501 5.52533 2.53908C6.98743 2.40059 7.88743 3.38562 8.22533 5.49419C8.5901 7.76902 8.84286 9.18398 8.98457 9.73796C9.40629 11.6253 9.86971 12.5681 10.3766 12.5681C10.7697 12.5681 11.3602 11.9557 12.148 10.7316C12.9345 9.50713 13.3562 8.57558 13.413 7.93547C13.5251 6.87875 13.1034 6.34917 12.148 6.34917C11.6981 6.34917 11.2345 6.45126 10.7575 6.65281C11.6808 3.67218 13.445 2.22456 16.0486 2.30695C17.9792 2.36287 18.8891 3.59693 18.7781 6.00913Z"})})),[bk.ENTER_PICTURE_IN_PICTURE]:t=>Tk("svg",J(J({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{"data-enter-pip":!0,children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.33329 4.99992H16.6666V9.99992H18.3333V4.99992C18.3333 4.07944 17.5871 3.33325 16.6666 3.33325H3.33329C2.41282 3.33325 1.66663 4.07944 1.66663 4.99992V13.3333C1.66663 14.2537 2.41282 14.9999 3.33329 14.9999H8.33329V13.3333H3.33329V4.99992ZM9.99996 12.6666C9.99996 12.1143 10.4477 11.6666 11 11.6666H17.3333C17.8856 11.6666 18.3333 12.1143 18.3333 12.6666V17.3333C18.3333 17.8855 17.8856 18.3333 17.3333 18.3333H11C10.4477 18.3333 9.99996 17.8855 9.99996 17.3333V12.6666ZM7.91663 7.60408V8.59492L6.17079 6.84909C6.05829 6.73659 5.90163 6.66659 5.72913 6.66659C5.38413 6.66659 5.10413 6.94575 5.10413 7.29159C5.10413 7.46409 5.17413 7.61992 5.28746 7.73325L7.03246 9.47909H6.04163C5.69663 9.47909 5.41663 9.75825 5.41663 10.1041C5.41663 10.4491 5.69663 10.7291 6.04163 10.7291H8.54163C8.88663 10.7291 9.16663 10.4491 9.16663 10.1041V7.60408C9.16663 7.25825 8.88663 6.97909 8.54163 6.97909C8.19663 6.97909 7.91663 7.25825 7.91663 7.60408Z",fill:"white"})})),[bk.EXIT_PICTURE_IN_PICTURE]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-exit-pip":!0},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 6H20V12H22V6C22 4.89543 21.1046 4 20 4H4C2.89543 4 2 4.89543 2 6V16C2 17.1046 2.89543 18 4 18H10V16H4V6ZM12 15C12 14.4477 12.4477 14 13 14H21C21.5523 14 22 14.4477 22 15V21C22 21.5523 21.5523 22 21 22H13C12.4477 22 12 21.5523 12 21V15ZM7.625 11.75V10.561L9.72 12.656C9.855 12.791 10.043 12.875 10.25 12.875C10.664 12.875 11 12.54 11 12.125C11 11.918 10.916 11.731 10.78 11.595L8.686 9.5H9.875C10.289 9.5 10.625 9.165 10.625 8.75C10.625 8.336 10.289 8 9.875 8L6.875 8C6.461 8 6.125 8.336 6.125 8.75V11.75C6.125 12.165 6.461 12.5 6.875 12.5C7.289 12.5 7.625 12.165 7.625 11.75Z"})})),[bk.PAUSE]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-pause-icon":!0},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",className:tf.FILL,d:"M8 4C6.89543 4 6 4.89543 6 6V18C6 19.1046 6.89543 20 8 20C9.10457 20 10 19.1046 10 18V6C10 4.89543 9.10457 4 8 4ZM16 4C14.8954 4 14 4.89543 14 6V18C14 19.1046 14.8954 20 16 20C17.1046 20 18 19.1046 18 18V6C18 4.89543 17.1046 4 16 4Z"})})),[bk.PLAY]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-play-icon":!0},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M19 12C19 12.3557 18.8111 12.6846 18.5039 12.8638L6.50387 19.8638C6.19458 20.0442 5.81243 20.0455 5.50194 19.8671C5.19145 19.6888 5 19.3581 5 19L5 5C5 4.64193 5.19145 4.3112 5.50194 4.13286C5.81243 3.95452 6.19458 3.9558 6.50387 4.13622L18.5039 11.1362C18.8111 11.3154 19 11.6443 19 12Z",className:tf.FILL})})),[bk.REPLAY]:t=>Tk("svg",J(J({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{className:tf.FILL,d:"M0 1V5C0 5.6 0.4 6 1 6H5C5.6 6 6 5.6 6 5C6 4.4 5.6 4 5 4H3.5C4.6 2.8 6.2 2 8 2C11.3 2 14 4.7 14 8C14 11.3 11.3 14 8 14C5.7 14 3.60001 12.7 2.60001 10.6C2.40001 10.1 1.79999 9.89998 1.29999 10.1C0.799988 10.3 0.599988 10.9 0.799988 11.4C2.09999 14.2 5 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0C5.7 0 3.5 1.00001 2 2.70001V1C2 0.4 1.6 0 1 0C0.4 0 0 0.4 0 1Z"})})),[bk.CHAPTERS]:t=>Tk("svg",J(J({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.6665 4.1665V4.99984V5.83317H2.49984H3.33317V4.99984V4.1665H2.49984H1.6665ZM5.83317 4.99984C5.83317 4.5396 6.20627 4.1665 6.6665 4.1665H17.4998C17.9601 4.1665 18.3332 4.5396 18.3332 4.99984C18.3332 5.46007 17.9601 5.83317 17.4998 5.83317H6.6665C6.20627 5.83317 5.83317 5.46007 5.83317 4.99984ZM5.83317 9.99984C5.83317 9.5396 6.20627 9.1665 6.6665 9.1665H17.4998C17.9601 9.1665 18.3332 9.5396 18.3332 9.99984C18.3332 10.4601 17.9601 10.8332 17.4998 10.8332H6.6665C6.20627 10.8332 5.83317 10.4601 5.83317 9.99984ZM6.6665 14.1665C6.20627 14.1665 5.83317 14.5396 5.83317 14.9998C5.83317 15.4601 6.20627 15.8332 6.6665 15.8332H17.4998C17.9601 15.8332 18.3332 15.4601 18.3332 14.9998C18.3332 14.5396 17.9601 14.1665 17.4998 14.1665H6.6665ZM1.6665 9.99984V9.1665H2.49984H3.33317V9.99984V10.8332H2.49984H1.6665V9.99984ZM3.33317 14.9998V14.1665H2.49984H1.6665V14.9998V15.8332H2.49984H3.33317V14.9998Z"})})),[bk.POINT]:t=>Tk("svg",J(J({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("circle",{className:tf.FILL,cx:"4",cy:"4",r:"4"})})),[bk.CC]:t=>Tk("svg",J(J({viewBox:"0 0 24 24","data-cc-icon":!0},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 6H4V18H20V6ZM4 4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H4ZM11.486 12.8238C11.3743 13.5215 11.0859 14.0974 10.6307 14.5377C10.1676 14.9833 9.56909 15.2094 8.85284 15.2094C7.97089 15.2094 7.26496 14.9058 6.7557 14.3063C6.25372 13.7133 6 12.8972 6 11.8775C6 10.7761 6.28832 9.91206 6.85646 9.30664C7.36026 8.77164 8.00852 8.5 8.78364 8.5C9.81431 8.5 10.5828 8.86515 11.0677 9.58479C11.3306 9.98486 11.475 10.3944 11.4963 10.801L11.5054 10.9803H11.3215H10.1026H9.96788L9.93328 10.8536C9.86226 10.5844 9.77364 10.3826 9.66802 10.2535C9.48229 10.0281 9.21096 9.91857 8.83402 9.91857C8.46012 9.91857 8.17059 10.0766 7.95146 10.4027C7.7202 10.7465 7.60305 11.2484 7.60305 11.897C7.60305 12.5403 7.72445 13.0226 7.9636 13.3304C8.19547 13.6292 8.48015 13.7748 8.83342 13.7748C9.197 13.7748 9.46468 13.6541 9.65285 13.4038C9.75968 13.2659 9.85073 13.0475 9.92478 12.7569L9.95634 12.6285H10.0941H11.313H11.5169L11.486 12.8238ZM17.1137 14.5377C17.569 14.0974 17.8567 13.5215 17.9684 12.8238L17.9999 12.6285H17.796H16.5766H16.44L16.4078 12.7569C16.3344 13.0475 16.2427 13.2659 16.1353 13.4038C15.9477 13.6541 15.6794 13.7748 15.3158 13.7748C14.9632 13.7748 14.6791 13.6292 14.4472 13.3304C14.2081 13.0226 14.0855 12.5403 14.0855 11.897C14.0855 11.2484 14.2032 10.7465 14.4351 10.4027C14.653 10.0766 14.9425 9.91857 15.3171 9.91857C15.6934 9.91857 15.9659 10.0281 16.1504 10.2535C16.2561 10.3826 16.3459 10.5844 16.4169 10.8536L16.4503 10.9803H16.5863H17.8045H17.9878L17.9799 10.801C17.9574 10.3944 17.8136 9.98486 17.5502 9.58479C17.0652 8.86515 16.2979 8.5 15.2673 8.5C14.4909 8.5 13.8433 8.77164 13.3395 9.30664C12.7707 9.91206 12.483 10.7761 12.483 11.8775C12.483 12.8972 12.7368 13.7133 13.2381 14.3063C13.748 14.9058 14.4533 15.2094 15.3359 15.2094C16.0521 15.2094 16.65 14.9833 17.1137 14.5377Z"})})),[bk.CC_FILLED]:t=>Tk("svg",J(J({viewBox:"0 0 24 24","data-cc-filled-icon":!0},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H20C21.1046 4 22 4.89543 22 6V18C22 19.1046 21.1046 20 20 20H4C2.89543 20 2 19.1046 2 18V6ZM11.486 12.8238C11.3743 13.5215 11.0859 14.0974 10.6307 14.5377C10.1676 14.9833 9.56909 15.2094 8.85284 15.2094C7.97089 15.2094 7.26496 14.9058 6.7557 14.3063C6.25372 13.7133 6 12.8972 6 11.8775C6 10.7761 6.28832 9.91206 6.85646 9.30664C7.36026 8.77164 8.00852 8.5 8.78364 8.5C9.81431 8.5 10.5828 8.86515 11.0677 9.58479C11.3306 9.98486 11.475 10.3944 11.4963 10.801L11.5054 10.9803H11.3215H10.1026H9.96788L9.93328 10.8536C9.86226 10.5844 9.77364 10.3826 9.66802 10.2535C9.48229 10.0281 9.21096 9.91857 8.83402 9.91857C8.46012 9.91857 8.17059 10.0766 7.95146 10.4027C7.7202 10.7465 7.60305 11.2484 7.60305 11.897C7.60305 12.5403 7.72445 13.0226 7.9636 13.3304C8.19547 13.6292 8.48015 13.7748 8.83342 13.7748C9.197 13.7748 9.46468 13.6541 9.65285 13.4038C9.75968 13.2659 9.85073 13.0475 9.92478 12.7569L9.95634 12.6285H10.0941H11.313H11.5169L11.486 12.8238ZM17.9684 12.8238C17.8567 13.5215 17.569 14.0974 17.1137 14.5377C16.65 14.9833 16.0521 15.2094 15.3359 15.2094C14.4533 15.2094 13.748 14.9058 13.2381 14.3063C12.7368 13.7133 12.483 12.8972 12.483 11.8775C12.483 10.7761 12.7707 9.91206 13.3395 9.30664C13.8433 8.77164 14.4909 8.5 15.2673 8.5C16.2979 8.5 17.0652 8.86515 17.5502 9.58479C17.8136 9.98486 17.9574 10.3944 17.9799 10.801L17.9878 10.9803H17.8045H16.5863H16.4503L16.4169 10.8536C16.3459 10.5844 16.2561 10.3826 16.1504 10.2535C15.9659 10.0281 15.6934 9.91857 15.3171 9.91857C14.9425 9.91857 14.653 10.0766 14.4351 10.4027C14.2032 10.7465 14.0855 11.2484 14.0855 11.897C14.0855 12.5403 14.2081 13.0226 14.4472 13.3304C14.6791 13.6292 14.9632 13.7748 15.3158 13.7748C15.6794 13.7748 15.9477 13.6541 16.1353 13.4038C16.2427 13.2659 16.3344 13.0475 16.4078 12.7569L16.44 12.6285H16.5766H17.796H17.9999L17.9684 12.8238Z"})})),[bk.CHECKMARK]:t=>Tk("svg",J(J({width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.66668 6.39041L10.1953 0.861816L11.1381 1.80463L5.13808 7.80463C4.87773 8.06498 4.45562 8.06498 4.19527 7.80463L0.861938 4.47129L1.80475 3.52848L4.66668 6.39041Z",fill:"white"})})),[bk.STEREOSCOPIC]:()=>Tk("svg",{viewBox:"0 0 64 64",children:Tk("path",{d:"M55.3066 16H8.53325C6.79992 16 5.33325 17.52 5.33325 19.3867V47.28C5.33325 49.1467 6.79992 50.6667 8.61325 50.6667H21.3333C22.7733 50.6667 23.9999 49.8133 24.4266 48.56L28.1333 39.3067C28.7733 37.76 30.2666 36.6667 31.9999 36.6667C33.7333 36.6667 35.2266 37.76 35.8666 39.3067L39.5733 48.56C40.0799 49.8133 41.2266 50.6667 42.5333 50.6667H55.3066C57.1999 50.6667 58.6666 49.1467 58.6666 47.28V19.3867C58.6666 17.52 57.1999 16 55.3066 16ZM19.2533 38.88C15.9999 38.88 13.3333 36.1333 13.3333 32.7733C13.3333 29.3333 15.9999 26.6667 19.2533 26.6667C22.5066 26.6667 25.1466 29.3333 25.1466 32.7733C25.1466 36.1333 22.5066 38.88 19.2533 38.88ZM44.7466 38.88C41.4933 38.88 38.8533 36.1333 38.8533 32.7733C38.8533 29.4133 41.4933 26.6667 44.7466 26.6667C47.9999 26.6667 50.6666 29.4133 50.6666 32.7733C50.6666 36.1333 47.9999 38.88 44.7466 38.88Z"})}),[bk.PERSON_FILLED]:t=>Tk("svg",J(J({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fill:"white",fillRule:"evenodd",clipRule:"evenodd",d:"M7.99999 1.33398C6.15904 1.33398 4.66666 2.82637 4.66666 4.66732C4.66666 6.50827 6.15904 8.00065 7.99999 8.00065C9.84094 8.00065 11.3333 6.50827 11.3333 4.66732C11.3333 2.82637 9.84094 1.33398 7.99999 1.33398ZM2.66666 12.0007C2.66666 10.1597 4.15904 8.66732 5.99999 8.66732H9.99999C11.8409 8.66732 13.3333 10.1597 13.3333 12.0007V14.6673H2.66666V12.0007Z"})})),[bk.CHEVRON_DOWN]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M12 15.5a1 1 0 0 1-.67-.26l-5-4.5 1.34-1.48L12 13.15l4.33-3.9 1.34 1.49-5 4.5a1 1 0 0 1-.67.26z",fill:"#1a2e3b"})})),[bk.CHEVRON_RIGHT]:t=>Tk("svg",J(J({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M9.71 17.71l-1.42-1.42 4.3-4.29-4.3-4.29 1.42-1.42 5 5a1 1 0 0 1 0 1.41z",fill:"#1a2e3b"})})),[bk.CLOCK]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-1.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zM10.75 5v4.69l3.075 3.075a.75.75 0 1 1-1.06 1.06L9.25 10.311V5a.75.75 0 0 1 1.5 0z"})})),[bk.CLOCK_FILLED]:t=>Tk("svg",J(J({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10ZM10 4C10.5523 4 11 4.44772 11 5V9.49995L14.6001 12.2C15.0419 12.5314 15.1314 13.1582 14.8001 13.6C14.4687 14.0418 13.8419 14.1314 13.4001 13.8L9.41174 10.8088C9.38636 10.7903 9.36189 10.7706 9.3384 10.7499C9.24863 10.6708 9.17612 10.5786 9.12159 10.4783C9.04406 10.3362 9 10.1733 9 10V9.99923V5C9 4.44772 9.44772 4 10 4Z"})})),[bk.COLLECTIONS]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M20 10a1 1 0 0 0-.52-.88L17.44 8l2-1.13A1 1 0 0 0 20 6a1 1 0 0 0-.52-.87l-8-4.45a3 3 0 0 0-2.9 0l-8 4.45A1 1 0 0 0 0 6a1 1 0 0 0 .51.88L2.56 8l-2 1.13a1 1 0 0 0 0 1.75l2 1.13-2 1.12a1 1 0 0 0 0 1.75l8 4.46a3 3 0 0 0 2.92 0l8-4.46a1 1 0 0 0 0-1.75l-2-1.12 2-1.13A1 1 0 0 0 20 10zM9.52 2.41a1 1 0 0 1 1 0L16.94 6l-6.45 3.57a1 1 0 0 1-1 0L3.06 6zm-1 8.91a3 3 0 0 0 2.92 0l3.92-2.18 1.56.86-6.45 3.59a1.06 1.06 0 0 1-1 0L3.06 10l1.56-.86zM16.94 14l-6.45 3.59a1.06 1.06 0 0 1-1 0L3.06 14l1.54-.86 3.94 2.19a3 3 0 0 0 2.92 0l3.94-2.18z",fill:"#1a2e3b"})})),[bk.DISMISS_X]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M11.06 10l4.597-4.596a.749.749 0 1 0-1.061-1.06L10 8.938 5.404 4.343a.749.749 0 1 0-1.06 1.061L8.938 10l-4.596 4.596a.749.749 0 1 0 1.061 1.06L10 11.062l4.596 4.596a.749.749 0 1 0 1.06-1.061L11.062 10z",fill:"#1A2E3B",fillRule:"evenodd"})})),[bk.HEART]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M10 18a1 1 0 0 1-.81-.42 15.8 15.8 0 0 0-4.35-3.71C2.46 12.3 0 10.68 0 7.5a5.38 5.38 0 0 1 1.61-3.92A6 6 0 0 1 6 2a5.54 5.54 0 0 1 4.05 1.88A5.74 5.74 0 0 1 14 2c2.9 0 6 2.21 6 5.5s-2.46 4.8-4.84 6.37a15.8 15.8 0 0 0-4.35 3.71A1 1 0 0 1 10 18zM5.78 4A4 4 0 0 0 3 5a3.37 3.37 0 0 0-1 2.5c0 2 1.5 3.09 3.94 4.7A20.94 20.94 0 0 1 10 15.42a20.94 20.94 0 0 1 4.06-3.22C16.5 10.59 18 9.5 18 7.5 18 5.22 15.68 4 14 4c-1.44 0-2.78 1.49-3.17 2.06a1 1 0 0 1-.92.44 1 1 0 0 1-.82-.58A3.65 3.65 0 0 0 6 4z",fill:"#1a2e3b"})})),[bk.HEART_FILLED]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M10 18a1.23 1.23 0 0 1-.8-.4 14.25 14.25 0 0 0-4.4-3.7C2.5 12.3 0 10.7 0 7.5a5.52 5.52 0 0 1 1.6-3.9A5.73 5.73 0 0 1 6 2a5.25 5.25 0 0 1 4 1.9A5.85 5.85 0 0 1 14 2c2.9 0 6 2.2 6 5.5s-2.5 4.8-4.8 6.4a15.51 15.51 0 0 0-4.4 3.7 1.23 1.23 0 0 1-.8.4z",fill:"#1a2e3b"})})),[bk.HEART_WIDER_FILLED]:t=>Tk("svg",J(J({viewBox:"0 0 110 81"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M82.496 1c-14.698 0-25.969 11.785-27.496 13.457-1.526-1.672-12.798-13.457-27.494-13.457-16.299 0-27.506 15.037-27.506 27.885 0 12.795 12.562 22.558 22.245 27.592 9.186 4.771 30.601 18.349 32.755 24.523 2.154-6.174 23.57-19.752 32.755-24.523 9.684-5.034 22.245-14.797 22.245-27.592 0-12.848-11.206-27.885-27.504-27.885z",fill:"#1a2e3b"})})),[bk.HEART_WIDER_BROKEN_FILLED]:t=>Tk("svg",J(J({viewBox:"0 0 110 81"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M82.496 1c-14.594 0-23.198 10.043-25.948 14.48l-6.77 10.727 13.661 8.543-13.661 12.535 5.695 15.348-9.686-15.348 11.389-11.975-11.969-7.402s4.22-14.27 4.621-15.521c.782-2.438.782-2.438-.813-3.289-5.516-2.944-12.608-8.098-21.509-8.098-16.299 0-27.506 15.037-27.506 27.885 0 12.795 12.562 22.558 22.245 27.592 9.186 4.771 30.601 18.349 32.755 24.523 2.154-6.174 23.57-19.752 32.753-24.523 9.684-5.034 22.247-14.797 22.247-27.592 0-12.848-11.208-27.885-27.504-27.885z",fill:"#1a2e3b"})})),[bk.ONDEMAND]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M17.44 3.83L11.6.4a3.33 3.33 0 0 0-3.14 0l-5.9 3.43A3.41 3.41 0 0 0 1 6.57v6.86a3.41 3.41 0 0 0 1.56 2.74l5.87 3.43A3.08 3.08 0 0 0 10 20a3.18 3.18 0 0 0 1.57-.39l5.87-3.44A3.41 3.41 0 0 0 19 13.43V6.57a3.41 3.41 0 0 0-1.56-2.74zm-8-1.71A1.13 1.13 0 0 1 10 2a1.19 1.19 0 0 1 .56.12l5.84 3.43a1.47 1.47 0 0 1 .57 1v2.71a1 1 0 0 0-.38-.26L8.08 4.13 8 4.11V3zM8 6.4l6.3 3.6L8 13.66zm-5 7V6.57a1.43 1.43 0 0 1 .57-1L6 4.14v10.68l-.9.52-1.53-.9A1.43 1.43 0 0 1 3 13.43zm13.43 1l-5.87 3.44a1.37 1.37 0 0 1-1.12 0L7.08 16.5l9.22-5.32.7.4v1.85a1.43 1.43 0 0 1-.57 1.01z",fill:"#1a2e3b"})})),[bk.PAPER_PLANE]:t=>Tk("svg",J(J({viewBox:"0 0 18.1 20.95"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M18.11 0L-.01 12.07l8 4v4.88l2.26-3.75 6.65 3.32zm-3 17.37l-3.93-2 1.81-6.42-5 4.91-4-2.03 11.9-7.93z",fill:"#1a2e3b"})})),[bk.POP_OUT]:t=>Tk("svg",J(J({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:[Tk("path",{d:"M16 17a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h5V2H3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5h-2z",fill:"#1a2e3b"}),Tk("path",{d:"M19 0h-7v2h4.59l-8 8L10 11.41l8-8V8h2V1a1 1 0 0 0-1-1z",fill:"#1a2e3b"})]})),[bk.VOLUME_OFF_FILLED]:t=>Tk("svg",J(J({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2.20001C15.1263 2.42863 16.1838 2.84654 17.1379 3.41908L15.5513 4.82943C15.0606 4.58595 14.5414 4.39136 14 4.25201V2.20001ZM21.1249 7.90287L19.5378 9.31361C19.8371 10.1532 20 11.0576 20 12C20 15.7277 17.4505 18.8599 14 19.7479V21.7999C18.5645 20.8734 22 16.8379 22 12C22 10.5401 21.6872 9.15325 21.1249 7.90287ZM12 4.00396V7.98614L3.17811 15.8278C2.48346 15.5143 2 14.8156 2 14.004V10.004C2 8.89939 2.89543 8.00396 4 8.00396H6.58579L10.2929 3.29685C10.9229 2.66689 12 3.11305 12 4.00396ZM12 10.662L5.99037 16.004L2.33565 19.2526C1.92286 19.6195 1.88568 20.2516 2.2526 20.6644C2.61952 21.0772 3.25159 21.1143 3.66437 20.7474L21.6644 4.74742C22.0772 4.3805 22.1143 3.74843 21.7474 3.33565C21.3805 2.92286 20.7484 2.88568 20.3356 3.2526L12 10.662ZM10.2929 20.7111L8.81985 18.8407L12 16.0139V20.004C12 20.8949 10.9229 21.341 10.2929 20.7111ZM14 15.4648C15.0633 14.8498 15.8172 13.7593 15.971 12.4841L17.8778 10.7892C17.9579 11.1803 18 11.5852 18 12C18 14.6124 16.3304 16.8349 14 17.6586V15.4648Z"})})),[bk.VOLUME_ON_FILLED]:t=>Tk("svg",J(J({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 12C20 15.7277 17.4505 18.8599 14 19.7479V21.7999C18.5645 20.8734 22 16.8379 22 12C22 7.16206 18.5645 3.12655 14 2.20001V4.25201C17.4505 5.1401 20 8.2723 20 12ZM18 12C18 9.38754 16.3304 7.16506 14 6.34139V8.53511C15.1956 9.22672 16 10.5194 16 12C16 13.4805 15.1956 14.7732 14 15.4648V17.6586C16.3304 16.8349 18 14.6124 18 12ZM6.58579 8.00396H4C2.89543 8.00396 2 8.89939 2 10.004V14.004C2 15.1085 2.89543 16.004 4 16.004H6.58579L10.2929 20.7111C10.9229 21.341 12 20.8949 12 20.004V4.00396C12 3.11305 10.9229 2.66689 10.2929 3.29685L6.58579 8.00396Z"})})),[bk.FAST_FORWARD]:t=>Tk("svg",J(J({viewBox:"0 0 64 64"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4506 12.0055L32.4643 30.0179C33.6413 31.0772 33.6413 32.9228 32.4643 33.9821L12.4506 51.9945C10.7345 53.5389 8 52.3211 8 50.0124V13.9876C8 11.6789 10.7345 10.4611 12.4506 12.0055ZM39.1172 12.0055L59.131 30.0179C60.308 31.0772 60.308 32.9228 59.131 33.9821L39.1172 51.9945C37.4012 53.5389 34.6667 52.3211 34.6667 50.0124V13.9876C34.6667 11.6789 37.4012 10.4611 39.1172 12.0055Z"})})),[bk.INFO_CIRCLE]:t=>Tk("svg",J(J({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6667 6C10.6667 8.57733 8.57733 10.6667 6 10.6667C3.42267 10.6667 1.33333 8.57733 1.33333 6C1.33333 3.42267 3.42267 1.33333 6 1.33333C8.57733 1.33333 10.6667 3.42267 10.6667 6ZM12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6ZM6 4.66667C6.36819 4.66667 6.66667 4.36819 6.66667 4C6.66667 3.63181 6.36819 3.33333 6 3.33333C5.63181 3.33333 5.33333 3.63181 5.33333 4C5.33333 4.36819 5.63181 4.66667 6 4.66667ZM6 5.33333C6.36819 5.33333 6.66667 5.54653 6.66667 5.80952V8.19048C6.66667 8.45347 6.36819 8.66667 6 8.66667C5.63181 8.66667 5.33333 8.45347 5.33333 8.19048V5.80952C5.33333 5.54653 5.63181 5.33333 6 5.33333Z",fill:"white"})})),[bk.TRANSCRIPT_ON]:t=>Tk("svg",J(J({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 3C3.39543 3 2.5 3.89543 2.5 5V19C2.5 20.1046 3.39543 21 4.5 21H14.7547C14.0868 20.7085 13.461 20.2895 12.9142 19.7426C10.5711 17.3995 10.5711 13.6005 12.9142 11.2574C14.4297 9.74185 16.5543 9.20655 18.5 9.65145V5C18.5 3.89543 17.6046 3 16.5 3H4.5ZM18.5 11.7313C17.0907 11.2301 15.4565 11.5435 14.3284 12.6716C14.1332 12.8668 13.9623 13.0773 13.8159 13.2991C12.7907 14.8517 12.9616 16.9616 14.3284 18.3284C15.4515 19.4515 17.0762 19.7671 18.4812 19.2754C18.725 19.19 18.9622 19.0804 19.1891 18.9464L21.3995 21.1569C21.79 21.5474 22.4232 21.5474 22.8137 21.1569C23.2042 20.7663 23.2042 20.1332 22.8137 19.7426L20.6033 17.5322C21.5092 15.9983 21.3032 13.9895 19.9853 12.6716C19.5512 12.2375 19.0423 11.9241 18.5 11.7313ZM7.5 7C6.94772 7 6.5 7.44772 6.5 8C6.5 8.55228 6.94772 9 7.5 9H12.5C13.0523 9 13.5 8.55228 13.5 8C13.5 7.44772 13.0523 7 12.5 7H7.5ZM7.5 11C6.94772 11 6.5 11.4477 6.5 12C6.5 12.5523 6.94772 13 7.5 13H9.5C10.0523 13 10.5 12.5523 10.5 12C10.5 11.4477 10.0523 11 9.5 11H7.5ZM6.5 16C6.5 15.4477 6.94772 15 7.5 15H8.5C9.05228 15 9.5 15.4477 9.5 16C9.5 16.5523 9.05228 17 8.5 17H7.5C6.94772 17 6.5 16.5523 6.5 16Z"})})),[bk.TRANSCRIPT_OFF]:t=>Tk("svg",J(J({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 5H16.5V9.53585C17.1669 9.46283 17.8436 9.50136 18.5 9.65145V5C18.5 3.89543 17.6046 3 16.5 3H4.5C3.39543 3 2.5 3.89543 2.5 5V19C2.5 20.1046 3.39543 21 4.5 21H14.7547C14.0868 20.7085 13.461 20.2895 12.9142 19.7426C12.6802 19.5086 12.4696 19.2601 12.2823 19H4.5V5ZM15.2182 19C16.2222 19.5567 17.415 19.6485 18.4812 19.2754C18.725 19.19 18.9622 19.0804 19.1891 18.9464L21.3995 21.1569C21.79 21.5474 22.4232 21.5474 22.8137 21.1569C23.2042 20.7663 23.2042 20.1332 22.8137 19.7426L20.6033 17.5322C21.5092 15.9983 21.3032 13.9895 19.9853 12.6716C19.5512 12.2375 19.0423 11.9241 18.5 11.7313C17.857 11.5026 17.1672 11.4435 16.5 11.554C15.7048 11.6857 14.9418 12.0582 14.3284 12.6716C12.7663 14.2337 12.7663 16.7663 14.3284 18.3284C14.5992 18.5992 14.8992 18.8231 15.2182 19ZM6.5 8C6.5 7.44772 6.94772 7 7.5 7H12.5C13.0523 7 13.5 7.44772 13.5 8C13.5 8.55228 13.0523 9 12.5 9H7.5C6.94772 9 6.5 8.55228 6.5 8ZM6.5 12C6.5 11.4477 6.94772 11 7.5 11H10.5C11.0523 11 11.5 11.4477 11.5 12C11.5 12.5523 11.0523 13 10.5 13H7.5C6.94772 13 6.5 12.5523 6.5 12ZM7.5 15C6.94772 15 6.5 15.4477 6.5 16C6.5 16.5523 6.94772 17 7.5 17H8.5C9.05228 17 9.5 16.5523 9.5 16C9.5 15.4477 9.05228 15 8.5 15H7.5Z"})})),[bk.SEARCH]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{className:tf.FILL,d:"M11 4C7.13401 4 4 7.13401 4 11C4 14.866 7.13401 18 11 18C12.5725 18 14.0238 17.4815 15.1925 16.6062L18.298 19.7076C18.6888 20.0978 19.3219 20.0974 19.7122 19.7066C20.1025 19.3159 20.1021 18.6827 19.7113 18.2924L16.6066 15.1919C17.4817 14.0233 18 12.5722 18 11C18 7.13401 14.866 4 11 4ZM6 11C6 8.23858 8.23858 6 11 6C13.7614 6 16 8.23858 16 11C16 13.7614 13.7614 16 11 16C8.23858 16 6 13.7614 6 11Z"})})),[bk.CHEVRON_UP]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M12 11.3454L16.331 15.2433L17.6689 13.7567L12.6689 9.25671C12.2886 8.91443 11.7113 8.91443 11.331 9.25671L6.33102 13.7567L7.66895 15.2433L12 11.3454Z",fill:"#1a2e3b"})})),[bk.CLOSE_CIRCLE]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM14.7071 9.26251C14.3571 8.9125 13.7896 8.9125 13.4396 9.26251L12 10.7023L10.5604 9.26252C10.2104 8.9125 9.64292 8.9125 9.29293 9.26252L9.26302 9.29244C8.91306 9.64243 8.91306 10.2099 9.26302 10.5599L10.7027 11.9997L9.26247 13.4401C8.91251 13.7901 8.91251 14.3576 9.26247 14.7076L9.29239 14.7375C9.64237 15.0875 10.2098 15.0875 10.5598 14.7375L12 13.2971L13.4402 14.7375C13.7902 15.0875 14.3576 15.0875 14.7076 14.7375L14.7375 14.7076C15.0875 14.3576 15.0875 13.7901 14.7375 13.4401L13.2973 11.9997L14.737 10.5599C15.0869 10.2099 15.0869 9.64243 14.737 9.29244L14.7071 9.26251Z",fill:"#fff",fillRule:"evenodd"})})),[bk.SPINNER]:t=>Tk("svg",J(J({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",fill:"none","data-spinner":!0},Object.assign({},(K(t),t))),{},{children:[Tk("circle",{"data-spinner-trace":!0,cx:"24",cy:"24",r:"22",stroke:"white"}),Tk("circle",{"data-spinner-circle":!0,cx:"24",cy:"24",r:"22",stroke:"white"})]})),[bk.SLIDERS]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 7C16.4477 7 16 6.55228 16 6C16 5.44772 16.4477 5 17 5C17.5523 5 18 5.44772 18 6C18 6.55228 17.5523 7 17 7ZM19.8293 5C19.4175 3.83481 18.3062 3 17 3C15.6938 3 14.5825 3.83481 14.1707 5H3C2.44772 5 2 5.44772 2 6C2 6.55228 2.44772 7 3 7H14.1707C14.5825 8.16519 15.6938 9 17 9C18.3062 9 19.4175 8.16519 19.8293 7H21C21.5523 7 22 6.55228 22 6C22 5.44772 21.5523 5 21 5H19.8293ZM3 11C2.44772 11 2 11.4477 2 12C2 12.5523 2.44772 13 3 13H4.17071C4.58254 14.1652 5.69378 15 7 15C8.30622 15 9.41746 14.1652 9.82929 13H21C21.5523 13 22 12.5523 22 12C22 11.4477 21.5523 11 21 11H9.82929C9.41746 9.83481 8.30622 9 7 9C5.69378 9 4.58254 9.83481 4.17071 11H3ZM7 11C7.55228 11 8 11.4477 8 12C8 12.5523 7.55228 13 7 13C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11ZM3 17C2.44772 17 2 17.4477 2 18C2 18.5523 2.44772 19 3 19H14.1707C14.5825 20.1652 15.6938 21 17 21C18.3062 21 19.4175 20.1652 19.8293 19H21C21.5523 19 22 18.5523 22 18C22 17.4477 21.5523 17 21 17H19.8293C19.4175 15.8348 18.3062 15 17 15C15.6938 15 14.5825 15.8348 14.1707 17H3ZM18 18C18 17.4477 17.5523 17 17 17C16.4477 17 16 17.4477 16 18C16 18.5523 16.4477 19 17 19C17.5523 19 18 18.5523 18 18Z"})})),[bk.SWITCH_CIRCLE]:t=>Tk("svg",J(J({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",fill:"none","data-toggle-container":!0},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12Z",fill:"white"})})),[bk.SWITCH_CONTAINER]:t=>Tk("svg",J(J({width:"32",height:"16",viewBox:"0 0 32 16",xmlns:"http://www.w3.org/2000/svg",fill:"none","data-toggle-container":!0},Object.assign({},(K(t),t))),{},{children:Tk("rect",{width:"32",height:"16",rx:"8",fill:"#2F8363"})})),[bk.WARN_CIRCLE]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 14C11.4477 14 11 13.5523 11 13V8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8V13C13 13.5523 12.5523 14 12 14ZM11 16C11 15.4477 11.4477 15 12 15C12.5523 15 13 15.4477 13 16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16Z",fill:"white"})})),[bk.THUMBS_UP]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0514 9H19.0738C20.0444 9 20.8299 9.35394 21.3493 9.99618C21.8401 10.6031 22 11.3518 22 12V15C22 16.9967 21.2949 18.6828 20.5308 19.8635C20.1484 20.4545 19.7394 20.9376 19.3716 21.2847C19.1892 21.4569 19.0014 21.6105 18.8178 21.7283C18.7263 21.787 18.6199 21.8471 18.5035 21.8953C18.3992 21.9384 18.2213 22 18.0043 22H12C10.837 22 9.83327 21.7103 9.12861 21.4285C8.99855 21.3765 8.87772 21.3243 8.76692 21.2737C8.25906 21.7332 7.59078 22 6.88197 22H4C2.89543 22 2 21.1046 2 20V11C2 9.89643 2.89367 9 3.99924 9H7.90182C8.9732 8.60827 9.61763 8.20384 10.1078 7.63449C10.6376 7.01903 11.0675 6.11901 11.5331 4.57534L11.5413 4.53968C11.6279 4.16374 11.7631 3.57633 12.062 3.09009C12.2335 2.81089 12.4762 2.53151 12.8223 2.32587C13.1723 2.11782 13.5711 2.01926 14 2.01926C14.8534 2.01926 15.466 2.41723 15.8386 2.78144C16.0237 2.9623 16.1588 3.14255 16.2496 3.28199C16.2954 3.35222 16.3322 3.41568 16.3605 3.4686C16.3951 3.5336 16.4261 3.60015 16.4492 3.67019C16.5013 3.82791 16.5197 4.0011 16.5373 4.167L16.5425 4.21554C16.5696 4.46535 16.5931 4.81409 16.583 5.23366C16.5627 6.07019 16.4078 7.208 15.8625 8.40636C15.7274 8.70327 15.7031 8.87123 15.7005 8.94441C15.741 8.96116 15.8033 8.97895 15.8838 8.99016C15.9396 8.99795 15.9952 9 16.0514 9ZM13.4759 5.05072L13.4741 5.05871C13.4693 5.07933 13.4638 5.09979 13.4577 5.12006C12.9658 6.75821 12.4366 7.99485 11.6235 8.93936C10.9182 9.75858 10.0581 10.2914 9 10.7202V19.2174C9.08899 19.2196 9.17122 19.2384 9.24448 19.2784C9.38703 19.3561 9.60104 19.4634 9.87139 19.5715C10.4167 19.7897 11.163 20 12 20H17.8014C17.8514 19.9621 17.9179 19.9067 17.9987 19.8304C18.2399 19.6027 18.5483 19.2459 18.8517 18.777C19.4594 17.8379 20 16.5239 20 15V12C20 11.6482 19.9099 11.3969 19.7942 11.2538C19.707 11.1461 19.5294 11 19.0738 11H16.0654C16.0365 11.0006 15.9909 11.0009 15.9325 10.999C15.8501 10.9964 15.7377 10.9891 15.6076 10.971C15.3617 10.9367 14.9841 10.8544 14.6237 10.6345C14.2372 10.3985 13.8666 9.99723 13.7424 9.38864C13.6261 8.81811 13.7562 8.20634 14.0421 7.57802C14.4491 6.68359 14.568 5.82532 14.5835 5.18521C14.5913 4.86647 14.5732 4.60676 14.5541 4.43084C14.55 4.39233 14.5458 4.35787 14.5418 4.32773C14.5154 4.29227 14.4815 4.25162 14.4407 4.21169C14.323 4.09673 14.1856 4.01926 14 4.01926C13.8867 4.01926 13.8489 4.04221 13.8443 4.04499C13.8371 4.04925 13.8089 4.06724 13.7659 4.13728C13.7194 4.21297 13.6697 4.32623 13.6182 4.49311C13.5668 4.65929 13.5255 4.83727 13.4759 5.05072ZM7 19.9889V11H4V20H6.88197C6.91933 20 6.95876 19.9961 7 19.9889Z",fill:"white"})})),[bk.THUMBS_DOWN]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.94864 15.0193H4.9262C3.95557 15.0193 3.17013 14.6653 2.65073 14.0231C2.15987 13.4161 2 12.6675 2 12.0193V9.01926C2 7.02253 2.70509 5.33649 3.46916 4.15574C3.85161 3.56472 4.26059 3.08171 4.62837 2.73451C4.81075 2.56233 4.99859 2.40877 5.18217 2.291C5.27374 2.23225 5.38005 2.17217 5.49649 2.12398C5.60076 2.08082 5.77867 2.01926 5.99567 2.01926L12 2.01926C13.163 2.01926 14.1667 2.30892 14.8714 2.59078C15.0015 2.64281 15.1223 2.69495 15.2331 2.74553C15.7409 2.28605 16.4092 2.01926 17.118 2.01926H20C21.1046 2.01926 22 2.91469 22 4.01926L22 13.0193C22 14.1228 21.1063 15.0193 20.0008 15.0193H16.0982C15.0268 15.411 14.3824 15.8154 13.8922 16.3848C13.3624 17.0002 12.9325 17.9003 12.4669 19.4439L12.4587 19.4796C12.3721 19.8555 12.2369 20.4429 11.938 20.9292C11.7665 21.2084 11.5238 21.4878 11.1777 21.6934C10.8277 21.9014 10.4289 22 10 22C9.14656 22 8.53398 21.602 8.16136 21.2378C7.97632 21.057 7.84124 20.8767 7.7504 20.7373C7.70464 20.667 7.66777 20.6036 7.63954 20.5507C7.60486 20.4857 7.57388 20.4191 7.55075 20.3491C7.49868 20.1913 7.48029 20.0182 7.46266 19.8523L7.45748 19.8037C7.43043 19.5539 7.40687 19.2052 7.41704 18.7856C7.43731 17.9491 7.59222 16.8113 8.13751 15.6129C8.27262 15.316 8.29694 15.148 8.29953 15.0748C8.25898 15.0581 8.19666 15.0403 8.11624 15.0291C8.06037 15.0213 8.00485 15.0193 7.94864 15.0193ZM10.5241 18.9685L10.5259 18.9606C10.5307 18.9399 10.5362 18.9195 10.5423 18.8992C11.0342 17.2611 11.5634 16.0244 12.3765 15.0799C13.0818 14.2607 13.9419 13.7279 15 13.2991L15 4.80189C14.911 4.79964 14.8288 4.78086 14.7555 4.7409C14.613 4.66315 14.399 4.55587 14.1286 4.44773C13.5833 4.2296 12.837 4.01926 12 4.01926L6.1986 4.01926C6.14859 4.05717 6.08207 4.11258 6.00131 4.18882C5.76012 4.41652 5.4517 4.77339 5.14827 5.24229C4.54059 6.18137 4 7.49534 4 9.01926V12.0193C4 12.371 4.09013 12.6224 4.20582 12.7654C4.29297 12.8732 4.47062 13.0193 4.9262 13.0193H7.93463C7.96345 13.0186 8.00911 13.0183 8.06745 13.0202C8.14991 13.0229 8.26226 13.0301 8.39236 13.0483C8.63827 13.0825 9.01586 13.1648 9.37627 13.3848C9.76282 13.6207 10.1334 14.022 10.2576 14.6306C10.3739 15.2012 10.2438 15.8129 9.95791 16.4412C9.55092 17.3357 9.43197 18.1939 9.41645 18.834C9.40873 19.1528 9.4268 19.4125 9.44585 19.5884C9.45002 19.6269 9.45424 19.6614 9.45823 19.6915C9.48457 19.727 9.5185 19.7676 9.55935 19.8076C9.67696 19.9225 9.81438 20 10 20C10.1133 20 10.1511 19.9771 10.1557 19.9743C10.1629 19.97 10.1911 19.952 10.2341 19.882C10.2806 19.8063 10.3303 19.693 10.3818 19.5262C10.4332 19.36 10.4745 19.182 10.5241 18.9685ZM17 4.03039V13.0193H20L20 4.01926H17.118C17.0807 4.01926 17.0412 4.02315 17 4.03039Z",fill:"white"})})),[bk.THUMBS_UP_FILLED]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0514 9H19.0738C20.0444 9 20.8299 9.35394 21.3493 9.99618C21.8401 10.6031 22 11.3518 22 12V15C22 16.9967 21.2949 18.6828 20.5308 19.8635C20.1484 20.4545 19.7394 20.9376 19.3716 21.2847C19.1892 21.4569 19.0014 21.6105 18.8178 21.7283C18.7263 21.787 18.6199 21.8471 18.5035 21.8953C18.3992 21.9384 18.2213 22 18.0043 22H12C10.837 22 9.83327 21.7103 9.12861 21.4285C9.08468 21.4109 9.0418 21.3933 9 21.3758V8.51408C9.46407 8.25834 9.8137 7.9761 10.1078 7.63449C10.6376 7.01903 11.0675 6.11901 11.5331 4.57534L11.5413 4.53968C11.6279 4.16374 11.7631 3.57633 12.062 3.09009C12.2335 2.81089 12.4762 2.53151 12.8223 2.32587C13.1723 2.11782 13.5711 2.01926 14 2.01926C14.8534 2.01926 15.466 2.41723 15.8386 2.78144C16.0237 2.9623 16.1588 3.14255 16.2496 3.28199C16.2954 3.35222 16.3322 3.41568 16.3605 3.4686C16.3951 3.5336 16.4261 3.60015 16.4492 3.67019C16.5013 3.82791 16.5197 4.0011 16.5373 4.167L16.5425 4.21554C16.5696 4.46535 16.5931 4.81409 16.583 5.23366C16.5627 6.07019 16.4078 7.208 15.8625 8.40636C15.7274 8.70327 15.7031 8.87123 15.7005 8.94441C15.741 8.96116 15.8033 8.97895 15.8838 8.99016C15.9396 8.99795 15.9952 9 16.0514 9ZM7 9H3.99924C2.89367 9 2 9.89643 2 11V20C2 21.1046 2.89543 22 4 22H6.88197C6.92144 22 6.96079 21.9992 7 21.9975V9Z",fill:"white"})})),[bk.THUMBS_DOWN_FILLED]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.94864 15.0193H4.9262C3.95557 15.0193 3.17013 14.6653 2.65073 14.0231C2.15987 13.4161 2 12.6675 2 12.0193V9.01926C2 7.02253 2.70509 5.33649 3.46916 4.15574C3.85161 3.56472 4.26059 3.08171 4.62837 2.73451C4.81075 2.56233 4.99859 2.40877 5.18217 2.291C5.27374 2.23225 5.38006 2.17217 5.49649 2.12398C5.60076 2.08082 5.77867 2.01926 5.99567 2.01926H12C13.163 2.01926 14.1667 2.30892 14.8714 2.59078C14.9153 2.60835 14.9582 2.62594 15 2.64348V15.5052C14.5359 15.7609 14.1863 16.0432 13.8922 16.3848C13.3624 17.0002 12.9325 17.9003 12.4669 19.4439L12.4587 19.4796C12.3721 19.8555 12.2369 20.4429 11.938 20.9292C11.7665 21.2084 11.5238 21.4878 11.1777 21.6934C10.8277 21.9014 10.4289 22 10 22C9.14656 22 8.53398 21.602 8.16136 21.2378C7.97632 21.057 7.84124 20.8767 7.7504 20.7373C7.70464 20.667 7.66777 20.6036 7.63954 20.5507C7.60486 20.4857 7.57388 20.4191 7.55075 20.3491C7.49868 20.1913 7.48029 20.0182 7.46266 19.8523L7.45748 19.8037C7.43043 19.5539 7.40687 19.2052 7.41704 18.7856C7.43731 17.9491 7.59222 16.8113 8.13751 15.6129C8.27262 15.316 8.29694 15.148 8.29953 15.0748C8.25898 15.0581 8.19666 15.0403 8.11624 15.0291C8.06037 15.0213 8.00485 15.0193 7.94864 15.0193ZM17 15.0193H20.0008C21.1063 15.0193 22 14.1228 22 13.0193V4.01926C22 2.91469 21.1046 2.01926 20 2.01926H17.118C17.0786 2.01926 17.0392 2.02008 17 2.02173V15.0193Z",fill:"white"})})),[bk.LINK]:t=>Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{className:tf.FILL,d:"M11.2929 8.46447C10.9024 8.07395 10.9024 7.44078 11.2929 7.05026L13.4142 4.92894C14.9763 3.36684 17.509 3.36684 19.0711 4.92894C20.6332 6.49103 20.6332 9.02369 19.0711 10.5858L16.9498 12.7071C16.5593 13.0976 15.9261 13.0976 15.5356 12.7071C15.145 12.3166 15.145 11.6834 15.5356 11.2929L17.6569 9.17158C18.4379 8.39053 18.4379 7.1242 17.6569 6.34315C16.8758 5.5621 15.6095 5.5621 14.8285 6.34315L12.7071 8.46447C12.3166 8.85499 11.6834 8.85499 11.2929 8.46447ZM8.46443 11.2929C8.07391 10.9024 7.44074 10.9024 7.05022 11.2929L4.9289 13.4142C3.3668 14.9763 3.3668 17.509 4.9289 19.0711C6.49099 20.6332 9.02365 20.6332 10.5858 19.0711L12.7071 16.9497C13.0976 16.5592 13.0976 15.9261 12.7071 15.5355C12.3165 15.145 11.6834 15.145 11.2929 15.5355L9.17154 17.6569C8.39049 18.4379 7.12416 18.4379 6.34311 17.6569C5.56206 16.8758 5.56206 15.6095 6.34311 14.8284L8.46443 12.7071C8.85495 12.3166 8.85495 11.6834 8.46443 11.2929ZM9.87874 12.7071C9.48821 13.0976 9.48821 13.7308 9.87874 14.1213C10.2693 14.5118 10.9024 14.5118 11.293 14.1213L14.1214 11.2929C14.5119 10.9024 14.5119 10.2692 14.1214 9.87868C13.7309 9.48816 13.0977 9.48816 12.7072 9.87868L9.87874 12.7071Z"})})),[bk.SPARKLE_TWO_STARS_FILLED]:t=>{let{fill:e}=t,n=Q(t,LA);const i={};return e&&(i.fill=e),Tk("svg",J(J({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none"},n),{},{children:[Tk("path",{style:i,"data-shape":"smallStar",fillRule:"evenodd",clipRule:"evenodd",d:"M 20.861 4.11 L 21.903 4.472 L 21.899 4.474 C 22.105 4.546 22.214 4.771 22.144 4.978 C 22.105 5.095 22.013 5.186 21.896 5.224 L 20.859 5.585 C 20.401 5.745 20.047 6.099 19.887 6.557 L 19.526 7.599 C 19.452 7.806 19.225 7.914 19.018 7.842 C 18.901 7.802 18.811 7.709 18.774 7.592 L 18.414 6.555 C 18.257 6.099 17.899 5.741 17.443 5.583 L 16.4 5.222 C 16.112 5.121 16.041 4.746 16.272 4.546 C 16.314 4.511 16.362 4.484 16.414 4.468 L 17.445 4.11 C 17.902 3.951 18.255 3.597 18.415 3.139 L 18.779 2.097 C 18.877 1.809 19.25 1.736 19.45 1.965 C 19.486 2.005 19.513 2.053 19.529 2.104 L 19.889 3.139 C 20.048 3.597 20.402 3.951 20.86 4.11 L 20.861 4.11 Z"}),Tk("path",{style:i,"data-shape":"largeStar",fillRule:"evenodd",clipRule:"evenodd",d:"M 15.732 10.906 L 18.352 11.817 L 18.354 11.815 C 18.734 11.949 18.935 12.364 18.804 12.745 C 18.73 12.96 18.56 13.127 18.344 13.197 L 15.732 14.107 C 14.507 14.528 13.545 15.49 13.122 16.714 L 12.212 19.336 C 12.077 19.712 11.669 19.912 11.289 19.789 C 11.069 19.718 10.897 19.545 10.828 19.324 L 9.922 16.716 C 9.499 15.492 8.538 14.531 7.314 14.108 L 4.697 13.2 C 4.165 13.02 4.027 12.331 4.449 11.96 C 4.521 11.897 4.606 11.848 4.697 11.817 L 7.314 10.907 C 8.538 10.485 9.5 9.524 9.922 8.3 L 10.832 5.677 C 10.894 5.495 11.026 5.346 11.198 5.262 C 11.594 5.068 12.069 5.265 12.213 5.681 L 13.123 8.3 C 13.545 9.524 14.508 10.486 15.732 10.907 L 15.732 10.906 Z"})]}))},[bk.WARN_TRIANGLE]:t=>Tk("svg",J(J({width:"36",height:"32.326",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"287.915 380.297 36 32.326"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"white",d:"M309.646 382.963c-2.052-3.555-5.41-3.555-7.462 0L288.79 406.16c-2.05 3.555-.372 6.463 3.732 6.463h26.786c4.104 0 5.783-2.908 3.73-6.463l-13.392-23.197zm-2 23.224c0 .983-.804 1.788-1.788 1.788-.983 0-1.788-.805-1.788-1.788 0-.984.805-1.79 1.788-1.79s1.79.805 1.788 1.79zm-.317-7.76c-.254 2.604-.916 4.735-1.472 4.735-.557 0-1.22-2.13-1.477-4.735-.255-2.604-.464-5.72-.464-6.925 0-1.204.87-2.19 1.935-2.19 1.066 0 1.936.986 1.936 2.19s-.205 4.32-.457 6.925z"})})),[bk.VERTICAL_ELLIPSIS]:t=>Tk("svg",J(J({width:"4",height:"19",viewBox:"0 0 4 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M2 4.5C2.39556 4.5 2.78224 4.3827 3.11114 4.16294C3.44004 3.94318 3.69639 3.63082 3.84776 3.26537C3.99914 2.89992 4.03874 2.49778 3.96157 2.10982C3.8844 1.72186 3.69392 1.36549 3.41421 1.08579C3.13451 0.806082 2.77814 0.615601 2.39018 0.53843C2.00222 0.46126 1.60009 0.500867 1.23463 0.652242C0.869182 0.803617 0.556825 1.05996 0.337062 1.38886C0.117299 1.71776 1.07779e-06 2.10444 1.07779e-06 2.5C1.07779e-06 3.03043 0.210715 3.53914 0.585788 3.91421C0.960861 4.28929 1.46957 4.5 2 4.5ZM2 14.5C1.60444 14.5 1.21776 14.6173 0.888861 14.8371C0.559963 15.0568 0.303617 15.3692 0.152242 15.7346C0.000866562 16.1001 -0.0387401 16.5022 0.0384303 16.8902C0.115601 17.2781 0.306083 17.6345 0.585788 17.9142C0.865493 18.1939 1.22186 18.3844 1.60982 18.4616C1.99778 18.5387 2.39992 18.4991 2.76537 18.3478C3.13082 18.1964 3.44318 17.94 3.66294 17.6111C3.8827 17.2822 4 16.8956 4 16.5C4 15.9696 3.78929 15.4609 3.41421 15.0858C3.03914 14.7107 2.53043 14.5 2 14.5ZM2 7.5C1.60444 7.5 1.21776 7.6173 0.888861 7.83706C0.559963 8.05682 0.303617 8.36918 0.152242 8.73463C0.000866562 9.10009 -0.0387401 9.50222 0.0384303 9.89018C0.115601 10.2781 0.306083 10.6345 0.585788 10.9142C0.865493 11.1939 1.22186 11.3844 1.60982 11.4616C1.99778 11.5387 2.39992 11.4991 2.76537 11.3478C3.13082 11.1964 3.44318 10.94 3.66294 10.6111C3.8827 10.2822 4 9.89556 4 9.5C4 8.96957 3.78929 8.46086 3.41421 8.08579C3.03914 7.71071 2.53043 7.5 2 7.5Z"})})),[bk.PLUS_SYMBOL]:t=>Tk("svg",J(J({viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})})),[bk.FACEBOOK]:t=>Tk("svg",J(J({viewBox:"0 0 64 64"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M35.992 64h-11.992v-32h-8v-11.028l8-0.004-0.013-6.497c0-8.997 2.44-14.471 13.037-14.471h8.824v11.030h-5.514c-4.127 0-4.325 1.541-4.325 4.418l-0.016 5.52h9.918l-1.169 11.028-8.741 0.004-0.008 32z"})})),[bk.TUMBLR]:t=>Tk("svg",J(J({viewBox:"0 0 12 20"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M7.865,19.958 C3.629,19.958 2.02,16.834 2.02,14.627 L2.02,8.105 L0,8.105 L0,5.527 C3.027,4.436 3.756,1.705 3.927,0.149 C3.938,0.042 4.022,0 4.07,0 L6.994,0 L6.994,5.084 L10.987,5.084 L10.987,8.105 L6.979,8.105 L6.979,14.318 C6.993,15.149 7.291,16.287 8.815,16.287 C8.843,16.287 8.872,16.287 8.9,16.286 C9.43,16.272 10.14,16.118 10.511,15.941 L11.471,18.788 C11.11,19.317 9.481,19.932 8.015,19.957 C7.964,19.958 7.915,19.958 7.865,19.958"})})),[bk.EMAIL]:t=>Tk("svg",J(J({viewBox:"0 0 72 72"},Object.assign({},(K(t),t))),{},{children:[Tk("path",{d:"M71.754,57.6C71.9,57.169,72,56.718,72,56.241V16.759c0-0.453-0.092-0.881-0.225-1.291l-23.487,19.86L71.754,57.6z"}),Tk("path",{d:"M35.999,40.118l6.187-4.971l3.131-2.516L68.9,12.693c-0.387-0.113-0.789-0.193-1.213-0.193H4.312c-0.424,0-0.827,0.08-1.215,0.194l23.599,19.949l3.132,2.517L35.999,40.118z"}),Tk("path",{d:"M67.688,60.5c0.405,0,0.791-0.074,1.164-0.18L45.157,37.843l-9.159,7.361l-9.145-7.351L3.15,60.322C3.522,60.426,3.907,60.5,4.312,60.5H67.688z"}),Tk("path",{d:"M0.226,15.468C0.092,15.878,0,16.307,0,16.759v39.482c0,0.478,0.099,0.929,0.247,1.356l23.476-22.261L0.226,15.468z"})]})),[bk.EMBED]:t=>Tk("svg",J(J({viewBox:"0 0 55 48"},Object.assign({},(K(t),t))),{},{children:[Tk("polygon",{points:"16.019,16.385 11.968,13.131 0,24.543 12.082,35.955 16.132,32.703 7.439,24.543"}),Tk("polygon",{points:"42.92,13.131 38.868,16.384 47.561,24.542 38.981,32.701 43.033,35.955 55,24.542"}),Tk("polygon",{points:"24.083,39.221 28.76,39.221 36.243,8.351 31.566,8.351"})]})),[bk.PREVIOUS]:t=>Tk("svg",J(J({viewBox:"0 0 27 48",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M7.243,24L26.414,4.828c0.781-0.781,0.781-2.047,0-2.828L25,0.586 c-0.781-0.781-2.047-0.781-2.828,0L0.879,21.879c-1.172,1.172-1.172,3.071,0,4.243l21.293,21.293c0.781,0.781,2.047,0.781,2.828,0 L26.414,46c0.781-0.781,0.781-2.047,0-2.828L7.243,24z"})})),[bk.TWITTER]:t=>Tk("svg",J(J({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:Tk("path",{d:"M17.751 3h3.067l-6.7 7.658L22 21.078h-6.172l-4.833-6.32-5.531 6.32h-3.07l7.167-8.19L2 3h6.328l4.37 5.777L17.75 3Zm-1.076 16.243h1.7L7.404 4.739H5.58l11.094 14.504Z"})})),[bk.VOD]:t=>Tk("svg",J(J({width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.602,4.716l-7.665-4.385C11.169-0.108,9.91-0.111,9.139,0.327L1.4,4.721C0.63,5.158,0,6.234,0,7.112v8.776c0,0.878,0.63,1.955,1.398,2.393l0.526,0.3l7.176,4.09c0.77,0.438,2.028,0.438,2.798,0l7.702-4.39c0.77-0.438,1.4-1.516,1.4-2.393V7.112C21,6.234,20.37,5.156,19.602,4.716z M7.336,15.761L7.337,7.24l8.008,4.26L7.336,15.761z",fill:"white"})})),[bk.VOD_DOWNLOAD]:t=>Tk("svg",J(J({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:[Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.707 24.707l-5 5c-.39.39-1.024.39-1.414 0l-5-5c-.39-.39-.39-1.024 0-1.414l1.06-1.06c.392-.392 1.025-.392 1.415 0L14 23.462V15c0-.552.448-1 1-1h2c.552 0 1 .448 1 1v8.464l1.232-1.232c.39-.39 1.024-.39 1.414 0l1.06 1.06c.392.39.392 1.025 0 1.415z",fill:"white"}),Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.894 12.31c.063-.43.106-.864.106-1.31 0-4.97-4.03-9-9-9-3.6 0-6.7 2.12-8.138 5.175C10.175 6.75 9.368 6.5 8.5 6.5 6.015 6.5 4 8.515 4 11c0 .445.067.874.187 1.28C1.76 13.05 0 15.318 0 18c0 3.314 2.686 6 6 6h1c0-2.42 1.718-4.436 4-4.9V15c0-2.21 1.79-4 4-4h2c2.21 0 4 1.79 4 4v4.1c2.282.464 4 2.48 4 4.9h1c3.314 0 6-2.686 6-6 0-2.65-1.72-4.896-4.106-5.69z",fill:"white"})]})),[bk.VOD_RENT]:t=>Tk("svg",J(J({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:[Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 11H9c-.552 0-1 .448-1 1v8c0 .552.448 1 1 1h14c.552 0 1-.448 1-1v-8c0-.552-.448-1-1-1z",fill:"white"}),Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 22V10c-2.76 0-5-2.24-5-5H5c0 2.76-2.24 5-5 5v12c2.76 0 5 2.24 5 5h22c0-2.76 2.24-5 5-5zm-6-1c0 1.105-.895 2-2 2H8c-1.105 0-2-.895-2-2V11c0-1.105.895-2 2-2h16c1.105 0 2 .895 2 2v10z",fill:"white"})]})),[bk.VOD_SUBSCRIBE]:t=>Tk("svg",J(J({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:[Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9v2c0 .552.448 1 1 1h10c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1h-2c-.552 0-1 .448-1 1v4.445C24.98 2.01 20.523-.128 15.558.005 7.293.23.413 6.96.018 15.216-.42 24.41 6.905 32 16 32c8.47 0 15.404-6.583 15.964-14.912.04-.585-.413-1.088-1-1.088H28.96c-.514 0-.956.388-.994.9C27.506 23.107 22.326 28 16 28 9.217 28 3.748 22.37 4.01 15.53 4.246 9.284 9.47 4.147 15.72 4.003 19.38 3.92 22.674 5.483 24.926 8H21c-.552 0-1 .448-1 1z",fill:"white"}),Tk("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 20v-8l8 4",fill:"white"})]}))},DA=["name","className"],PA=t=>{let{name:e,className:n}=t,i=Q(t,DA);const r=xA[e];return r&&Tk(r,J({className:n},i))};const BA=({headerContent:t,panelContent:e,bodyRef:n,headerRef:i,panelRef:r,bodyClassName:o,panelClassName:s,bodyInlineStyles:a={},ariaLabel:u})=>Tk(uT,{children:[t&&Tk("div",{ref:i,children:t}),Tk("div",{ref:n,className:o,style:a,children:Tk("div",{className:s,ref:r,role:"menu","aria-label":u,children:e})})]}),$A=({isMenuDisplayed:t,setMenuDisplayed:e=Zf,panel:n,buttonRef:i,panelContent:r,headerContent:o,toggleKey:s,className:a,id:u,type:l,ariaLabel:c,onBack:d=Zf})=>{const h=WT(null),f=WT(null),p=WT(null),v=WT(null),m=EA((t=>t.element)),_=EA((t=>t.displayList.controlBar)),b=EA((t=>t.appearance.playerWidth)),y=EA((t=>t.appearance.playerHeight)),g=EA((t=>t.appearance.fullscreen)),[w,T]=UT(!1),C=dv(m),{onFocus:E,focusFirstItem:k}=vk({menuRef:h,panelRef:p,buttonRef:i,isActive:t&&w,toggleKey:s,shouldTrapFocus:C,setMenuDisplayed:e,onBack:d});XT((()=>{t&&k()}),[n]),XT((()=>{g&&e(!1)}),[g,e]),XT((()=>{_||e(!1)}),[_,e]),XT((()=>{const t=h.current;return()=>{null==t||null==t.close||t.close(),T(!1)}}),[h,T]),XT((()=>{var e,n,i,r;t&&(null!=h&&null!=(e=h.current)&&e.open&&(null==h||null==(n=h.current)||null==n.close||n.close()),C?null==h||null==(i=h.current)||null==i.showModal||i.showModal():null==h||null==(r=h.current)||null==r.show||r.show(),T(!0))}),[C,t,h]);const S=kf(tf.VP_MENU,"ModalMenu_module_menu__78a8988e",a);return Tk(NA,{visible:t&&w,styleOverrides:{exitDone:{display:"none"}},onFaded:()=>{var t;null==h||null==(t=h.current)||null==t.close||t.close(),T(!1)},children:Tk("dialog",{id:u,className:S,ref:h,onFocus:E,onBlur:t=>{var n;!t.relatedTarget||null!=(n=h.current)&&n.contains(t.relatedTarget)||e(!1)},"data-menu":l||!0,style:g?{}:{maxWidth:`${b}px`,maxHeight:`${y}px`,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"aria-modal":"true",children:Tk(BA,{headerContent:o,headerRef:v,bodyRef:f,bodyClassName:"ModalMenu_module_menuBody__78a8988e",panelClassName:"ModalMenu_module_menuPanel__78a8988e",panelRef:p,panelContent:r,ariaLabel:c})})})};const jA=({isMenuDisplayed:t,setMenuDisplayed:e=Zf,panel:n,buttonRef:i,progressBarAndButtonsRef:r,panelContent:o,headerContent:s,toggleKey:a,className:u,id:l,type:c,resizeDependencies:d,ariaLabel:h,onBack:f=Zf})=>{const p=WT(null),v=WT(null),m=WT(null),_=WT(null),b=WT(null),[y,g]=UT({height:"auto"}),[w,T]=UT({}),[C,E]=UT(!1),[k,S]=UT(!1),A=EA((t=>t.appearance.isMenuVerticalVideoMode)),N=EA((t=>t.appearance.boundingClientRect)),M=EA((t=>t.appearance.playerBreakpoint)),O=EA((t=>t.displayList.controlBar)),{isAccordionToggling:I}=KT(HA),{onFocus:R,focusFirstItem:L}=vk({menuRef:p,panelRef:m,buttonRef:i,isActive:t,toggleKey:a,setMenuDisplayed:e,onBack:f});XT((()=>{t&&L()}),[n]);const x=t=>{const e=window.getComputedStyle(t);return parseFloat(e.fontSize)},D=()=>{E(!1),cancelAnimationFrame(null==b?void 0:b.current)},P=()=>{if(!(null==p?void 0:p.current)||!t)return;let e="auto";const n=Jd(p.current),i=x(p.current),r=n.bottom-p.current.scrollHeight,o=Math.max(N.top,0)-r;if(o>0){let t=p.current.scrollHeight-o-i;e=t/i+"em"}g((t=>J(J({},t),{},{height:e}))),S(o>0)},B=()=>{if(null==m||!m.current)return;if(!t)return void T({height:"0"});const e=x(m.current),n=(m.current.scrollHeight+16)/e+"em";T({height:n})},$=()=>{P(),C&&(b.current=requestAnimationFrame($))},j=em((n=>{null!=p&&p.current&&null!=i&&i.current&&t&&(i.current.contains(n.target)||p.current.contains(n.target)||!document.contains(n.target)||e(!1))}),200),V=em((()=>{e(!1)}),200);XT((()=>(document.addEventListener("click",j,!1),window.addEventListener("blur",V,!1),()=>{document.removeEventListener("click",j,!1),window.removeEventListener("blur",V,!1)})),[p,i,t]),XT((()=>((()=>{if(!((null==p?void 0:p.current)&&(null==i?void 0:i.current)&&(null==r?void 0:r.current)&&t))return;if(A&&M===Bv.XXS&&(null==N?void 0:N.width))return void g((t=>J(J({},t),{},{width:"",right:""})));const e=Jd(i.current),n=Jd(p.current.parentElement),o=Jd(r.current),s=Jd(p.current);let a=-8-o.right+n.right;const u=e.right-e.width/2+s.width/2+8;u<o.right&&(a=n.right-u);const l=x(p.current);g((t=>J(J({},t),{},{right:a/l+"em"})))})(),t?(B(),E(!0),$()):(D(),B(),P()),()=>{D()})),[t,n,null==N?void 0:N.width,M,d]),XT((()=>{O||e(!1)}),[O]),XT((()=>{(()=>{if(null!=v&&v.current){if(I)return T((t=>J(J({},t),{},{height:"auto"}))),E(!0),void $();B(),$()}})()}),[I]);const F=kf(tf.VP_MENU,"PopoverMenu_module_menu__41674725",u,k&&"PopoverMenu_module_scroll__41674725",A&&"PopoverMenu_module_verticalVideo__41674725");return Tk(NA,{visible:t,styleOverrides:{exitDone:{display:"none"}},children:Tk("div",{id:l,className:F,ref:p,style:y,onTransitionEnd:t=>{t.target===(null==v?void 0:v.current)&&"height"===t.propertyName&&(P(),D())},onFocus:R,onBlur:t=>{var n;!t.relatedTarget||null!=(n=p.current)&&n.contains(t.relatedTarget)||e(!1)},"data-menu":c||!0,children:Tk(BA,{headerContent:s,headerRef:_,bodyRef:v,bodyClassName:"PopoverMenu_module_menuBody__41674725",panelClassName:"PopoverMenu_module_menuPanel__41674725",panelRef:m,panelContent:o,ariaLabel:h,bodyInlineStyles:w})})})},VA=["forceModalMenu","setMenuDisplayed"],FA=t=>{let{forceModalMenu:e,setMenuDisplayed:n}=t,i=Q(t,VA);const r=EA((t=>t.appearance.isMenuBlockingUI)),o=e||r,s=YT(n,[]);return Tk(o?$A:jA,J({setMenuDisplayed:s},i))},HA=IT({isAccordionToggling:!1,activeAccordion:"",setAccordionToggling:()=>{},setActiveAccordion:()=>{}}),UA=({children:t})=>{const[e,n]=UT(!1),[i,r]=UT(""),o={isAccordionToggling:e,activeAccordion:i,setAccordionToggling:n,setActiveAccordion:r};return Tk(HA.Provider,{value:o,children:t})};const zA=({buffer:t=!1})=>Tk("div",{className:"Divider_module_divider__74e2aa5b "+(t?"Divider_module_buffer__74e2aa5b":"")});const XA=({onBack:t=null,title:e,forceModalMenu:n,setMenuDisplayed:i=Zf,hasCloseButton:r=!0,onClose:o=()=>i(!1),size:s=Hv.MD})=>{const a=EA((t=>t.appearance.isMenuBlockingUI));return Tk("div",{className:kf("MenuHeader_module_menuHeader__c10a9277",(n||a)&&"MenuHeader_module_fullWidth__c10a9277",t&&"MenuHeader_module_hasBack__c10a9277",!r&&"MenuHeader_module_hideCloseButton__c10a9277"),children:[Tk("header",{className:"MenuHeader_module_header__c10a9277",children:[Tk("div",{className:"MenuHeader_module_backButtonWrapper__c10a9277",children:Tk(wN,{className:"MenuHeader_module_backButton__c10a9277",onClick:t,"aria-label":"Back",color:jv.ALTERNATIVE,icon:Tk(PA,{name:bk.CHEVRON_RIGHT}),iconSize:$v.MD})}),Tk(dN,{size:s,className:"MenuHeader_module_title__c10a9277",color:zv.WHITE,element:"h1",children:e}),Tk("div",{className:"MenuHeader_module_closeButtonWrapper__c10a9277",children:Tk(wN,{className:"MenuHeader_module_closeButton__c10a9277","aria-label":"Close menu",onClick:o,color:jv.ALTERNATIVE,icon:Tk(PA,{name:bk.DISMISS_X}),iconSize:$v.MD})})]}),Tk(zA,{})]})};const GA=["className","id","active","withActive","onSelect","onMouseEnter","onMouseLeave","element","styled","children","role"],WA=t=>{let{className:e,id:n,active:i,withActive:r=!0,onSelect:o,onMouseEnter:s,onMouseLeave:a,element:u="div",styled:l=!0,children:c,role:d="menuitemradio"}=t,h=Q(t,GA);const{onClick:f,onKeyDown:p}=XE(o),v=J({className:kf("MenuOption_module_option__828f05b2",r&&"MenuOption_module_withActive__828f05b2",l&&"MenuOption_module_styled__828f05b2",e),role:d,"aria-checked":i,"aria-selected":i,"data-id":n,"data-menu-option":!0,tabIndex:0,onClick:f,onKeyDown:p,onMouseDown:t=>t.preventDefault(),onMouseEnter:s,onMouseLeave:a},h);return sT(u,v,c)};const qA=({className:t,onSelect:e,label:n,value:i,id:r,isAccordion:o=!1,hasPopup:s=!1,isOpened:a=!1,size:u=YE.MEDIUM,role:l="menuitem"})=>{let c,d=Hv.MD;u===YE.LARGE?(d=Hv.LG,c=Hv.MD):o&&(d=Hv.SM);const h={};return s&&Object.assign(h,{"aria-haspopup":"true","aria-expanded":a}),Tk(WA,J(J({className:kf("MenuItem_module_optionButton__14a7084a",u===YE.SMALL&&"MenuItem_module_small__14a7084a",t),onSelect:e,id:r,withActive:!1,role:l,"data-menu-item":!0},h),{},{children:[Tk(dN,{size:d,weight:o?Uv.BOLD:Uv.NORMAL,className:"MenuItem_module_label__14a7084a",color:zv.WHITE,children:n}),i&&Tk(dN,{weight:Uv.NORMAL,size:c,className:"MenuItem_module_value__14a7084a",color:zv.WHITE,children:i}),Tk("div",{className:kf("MenuItem_module_icon__14a7084a",a&&"MenuItem_module_open__14a7084a"),children:Tk(PA,{name:o?bk.CHEVRON_DOWN:bk.CHEVRON_RIGHT})})]}))};const YA=Hv.MD,KA=Hv.SM,ZA=({onSelect:t,onMouseEnter:e,onMouseLeave:n,label:i,active:r,id:o,ordered:s=!1,index:a,isAccordion:u=!1,tabIndex:l,icon:c=null,role:d="menuitemradio",hidden:h})=>{const f=kf("MenuOptionListItem_module_listItem__2a2a4b59",s&&"MenuOptionListItem_module_ordered__2a2a4b59",r&&"MenuOptionListItem_module_active__2a2a4b59",u&&"MenuOptionListItem_module_accordion__2a2a4b59");return Tk(WA,{className:f,onSelect:t,onMouseEnter:e,onMouseLeave:n,active:r,id:o,tabIndex:l,role:d,hidden:h,children:[c&&Tk("div",{className:"MenuOptionListItem_module_icon__2a2a4b59",children:Tk(PA,{name:c})}),s&&!c&&Tk("div",{className:"MenuOptionListItem_module_number__2a2a4b59",children:a}),!s&&!c&&Tk("div",{className:"MenuOptionListItem_module_check__2a2a4b59 "+(r?"MenuOptionListItem_module_activeCheck__2a2a4b59":""),children:Tk(PA,{name:bk.CHECKMARK})}),Tk(dN,{className:"MenuOptionListItem_module_text__2a2a4b59",weight:Uv.NORMAL,size:u?KA:YA,color:zv.WHITE,children:i}),s&&r&&Tk("div",{className:"MenuOptionListItem_module_point__2a2a4b59",children:Tk(PA,{name:bk.POINT})})]})},JA=({items:t,onSelect:e,onMenuOptionMouseEnter:n,onMenuOptionMouseLeave:i,ordered:r=!1,isAccordion:o=!1,listItemTabIndex:s=0,hidden:a,itemComponent:u})=>{const l=t.map((t=>{const l={key:t.id,id:t.id,active:t.active,label:t.label,onSelect:e,onMouseEnter:n,onMouseLeave:i,ordered:r,isAccordion:o,tabIndex:s,icon:t.icon,hidden:a};return u?u(J(J({},l),t)):Tk(ZA,J({},l))}));return Tk(uT,{children:l})};const QA=({id:t,label:e,items:n=[],onSelect:i})=>{var r;const o=WT(null),s=WT(null),{setAccordionToggling:a,activeAccordion:u,setActiveAccordion:l}=KT(HA),[c,d]=UT(!1),[h,f]=UT({}),p=null==(r=n.find((t=>t.active)))?void 0:r.label,v=(t=void 0)=>{const n=void 0!==t?t:!c;d(n),a(!0),n&&l(e)},m=t=>{t.target===s.current&&"height"===t.propertyName&&a(!1)},_=t=>{null!=o&&o.current&&!o.current.contains(t.target)&&o.current!==t.target&&v(!1)};return XT((()=>(document.addEventListener("click",_),document.addEventListener("transitionend",m),()=>{l(""),document.removeEventListener("click",_),document.removeEventListener("transitionend",m)})),[]),XT((()=>{f((()=>{let t={};if(c&&null!=s&&s.current){const e=window.getComputedStyle(s.current),n=parseFloat(e.fontSize);t={height:s.current.scrollHeight/n+"em"}}return t})())}),[c,s]),XT((()=>{u&&u!==e&&v(!1)}),[u]),n.length&&Tk("div",{className:"Accordion_module_accordion__2cb96b8e",role:"group",ref:o,"aria-controls":t,children:[Tk(qA,{label:e,value:p,onSelect:()=>v(),isAccordion:!0,hasPopup:!0,isOpened:c,role:"button"}),Tk("div",{className:"Accordion_module_content__2cb96b8e","aria-hidden":!c,ref:s,style:h,role:"menu",id:t,"aria-label":e,children:Tk(JA,{items:n,onSelect:i,isAccordion:!0,listItemTabIndex:c?0:-1,hidden:!c||void 0})})]})};const tN=({id:t,label:e,className:n=""})=>Tk("div",{className:`MenuFieldLabel_module_menuField__832e2f60 ${n}`,"aria-hidden":!0,children:Tk(dN,{id:t,className:"MenuFieldLabel_module_label__832e2f60",color:zv.WHITE,children:e})}),eN=({labelId:t,items:e=[],label:n,onSelect:i})=>{const r=EA((t=>t.appearance.shouldMenuItemsWrap));return Tk(uT,{children:[Tk(tN,{label:n,id:t}),Tk("ul",{className:"ButtonRow_module_buttonRow__ed961dd7 "+(r?"ButtonRow_module_wrap__ed961dd7":""),role:"radiogroup","aria-labelledby":t,children:e.map((t=>Tk(WA,{element:"li",className:"ButtonRow_module_filledButton__ed961dd7 "+(t.active?"ButtonRow_module_active__ed961dd7":""),active:t.active,id:t.id,onSelect:i,styled:!1,role:"radio",children:Tk(dN,{className:"ButtonRow_module_label__ed961dd7",color:zv.WHITE,children:t.label})},t.id)))})]})};const nN=({labelId:t,items:e=[],label:n,onSelect:i})=>{const r=EA((t=>t.appearance.shouldMenuItemsWrap));return Tk(uT,{children:[Tk(tN,{label:n,id:t}),Tk("ul",{className:"ColorSwabs_module_colorSwabs__ee1dd808 "+(r?"ColorSwabs_module_wrap__ee1dd808":""),role:"radiogroup","aria-labelledby":t,children:e.map((t=>Tk(WA,{id:t.id,element:"li",className:"ColorSwabs_module_colorSwab__ee1dd808 "+(t.active?"ColorSwabs_module_active__ee1dd808":""),active:t.active,"aria-label":t.label,onSelect:i,styled:!1,role:"radio",children:Tk("div",{className:"ColorSwabs_module_inner__ee1dd808",style:{backgroundColor:t.id}})},t.id)))})]})};let iN=function(t){return t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t}({});const rN={onPointerDown:t=>t.preventDefault()},oN=({children:t,tooltipContent:e,className:n="",containerEl:i,position:r,margin:o,visible:s=null,preventFocusOnClick:a=!1,id:u=null,animating:l=!1})=>{var c,d,h;const[f,p]=UT(!1),v=()=>p(!0),m=()=>p(!1),_=null!==s,b=s||f,y=sN("onPointerEnter",t,(t=>{"mouse"===t.pointerType&&v()})),g=sN("onPointerLeave",t,m),w=sN("onFocus",t,(()=>{document.body.classList.contains(tf.SHOWFOCUS)&&v()})),T=sN("onBlur",t,m);tk("Escape",m);let C=null==t?void 0:t.ref;const E=WT(null);C=C||E;const k=WT(null),S=kf("Tooltip_module_tooltipContainer__d9b61844",null==t||null==(c=t.props)?void 0:c.className,_&&s&&"Tooltip_module_forceVisible__d9b61844"),A=J(J({},null==t?void 0:t.props),{},{className:S,ref:C,onPointerEnter:y,onPointerLeave:g,onFocus:w,onBlur:T,"aria-labelledby":u??null,"data-touch-device":Se.touch.toString()});a&&Object.assign(A,rN);const N=(({tooltipEl:t,wrappedEl:e,visible:n,containerEl:i,position:r=iN.TOP,margin:o=0,animating:s=!1})=>{const a=WT(null),[u,l]=UT({top:null,bottom:null,left:r===iN.LEFT?"auto":"50%",right:r===iN.LEFT?`calc(100% + ${o}px)`:"auto"}),c=EA((t=>t.element)),d=YT((()=>{const i={};if(t&&e&&n){const{left:n,right:s}=c.getBoundingClientRect(),{left:a,right:u,width:l}=e.getBoundingClientRect(),{width:d}=t.getBoundingClientRect();if(r===iN.TOP||r===iN.BOTTOM){const t=(d-l)/2,e=a-t,r=u+t,c=Math.max(n+o-e,0),h=Math.max(r+o-s,0);Object.assign(i,{left:`calc(50% + ${c-h}px)`})}}return i}),[o,c,r,t,n,e]),h=YT((()=>{const e={};if(t&&i&&n){const{bottom:t}=i.getBoundingClientRect(),{top:n}=c.getBoundingClientRect();if(r===iN.BOTTOM){const i=t-n-o;isNaN(i)||Object.assign(e,{top:`${i}px`})}}return e}),[i,o,c,r,t,n]),f=YT((()=>{l((t=>{const e=J(J(J({},t),d()),h());return ES(e,t)?t:e}))}),[d,h]);return XT((()=>(s?function t(){f(),a.current=requestAnimationFrame(t)}():(cancelAnimationFrame(a.current),f()),()=>{cancelAnimationFrame(a.current)})),[s,f]),u})({tooltipEl:null==k?void 0:k.current,wrappedEl:null==(d=C)?void 0:d.current,containerEl:null==i?void 0:i.current,position:r,margin:o,visible:_&&s||f,animating:l}),M=kf("Tooltip_module_tooltip__d9b61844",n,r===iN.LEFT&&"Tooltip_module_tooltipLeft__d9b61844"),O=Tk(NA,{visible:b,children:Tk("span",{id:u,ref:k,style:N,className:M,"aria-hidden":"true",children:e})}),I=mT(null==t||null==(h=t.props)?void 0:h.children);return OT(t,A,[O].concat(et(I)))};function sN(t,e,n){return i=>{var r;null!=e&&null!=(r=e.props)&&r[t]&&e.props[t](i),n(i)}}var aN={text:"Text_module_text__705900fc",sm:"Text_module_sm__705900fc",md:"Text_module_md__705900fc",lg:"Text_module_lg__705900fc",xl:"Text_module_xl__705900fc",bpxxs_fontsm:"Text_module_bpxxs_fontsm__705900fc",bpxxs_fontmd:"Text_module_bpxxs_fontmd__705900fc",bpxxs_fontlg:"Text_module_bpxxs_fontlg__705900fc",bpxxs_fontxl:"Text_module_bpxxs_fontxl__705900fc",bpxs_fontsm:"Text_module_bpxs_fontsm__705900fc",bpxs_fontmd:"Text_module_bpxs_fontmd__705900fc",bpxs_fontlg:"Text_module_bpxs_fontlg__705900fc",bpxs_fontxl:"Text_module_bpxs_fontxl__705900fc",bpsm_fontsm:"Text_module_bpsm_fontsm__705900fc",bpsm_fontmd:"Text_module_bpsm_fontmd__705900fc",bpsm_fontlg:"Text_module_bpsm_fontlg__705900fc",bpsm_fontxl:"Text_module_bpsm_fontxl__705900fc",bpmd_fontsm:"Text_module_bpmd_fontsm__705900fc",bpmd_fontmd:"Text_module_bpmd_fontmd__705900fc",bpmd_fontlg:"Text_module_bpmd_fontlg__705900fc",bpmd_fontxl:"Text_module_bpmd_fontxl__705900fc",bplg_fontsm:"Text_module_bplg_fontsm__705900fc",bplg_fontmd:"Text_module_bplg_fontmd__705900fc",bplg_fontlg:"Text_module_bplg_fontlg__705900fc",bplg_fontxl:"Text_module_bplg_fontxl__705900fc",bpxl_fontsm:"Text_module_bpxl_fontsm__705900fc",bpxl_fontmd:"Text_module_bpxl_fontmd__705900fc",bpxl_fontlg:"Text_module_bpxl_fontlg__705900fc",bpxl_fontxl:"Text_module_bpxl_fontxl__705900fc",bpxxl_fontsm:"Text_module_bpxxl_fontsm__705900fc",bpxxl_fontmd:"Text_module_bpxxl_fontmd__705900fc",bpxxl_fontlg:"Text_module_bpxxl_fontlg__705900fc",bpxxl_fontxl:"Text_module_bpxxl_fontxl__705900fc",bold:"Text_module_bold__705900fc",normal:"Text_module_normal__705900fc",medium:"Text_module_medium__705900fc",white:"Text_module_white__705900fc"};const uN={[Hv.SM]:"sm",[Hv.MD]:"md",[Hv.LG]:"lg",[Hv.XL]:"xl"},lN={[Uv.BOLD]:aN.bold,[Uv.NORMAL]:aN.normal,[Uv.NUM_500]:aN.medium},cN={[zv.WHITE]:aN.white},dN=({element:t="span",children:e,size:n=Hv.SM,sizeMap:i,weight:r=Uv.BOLD,color:o=zv.CUSTOM,className:s="",id:a="",ariaHidden:u=!1,role:l,containsMarkup:c=!1})=>{let d=[];i?Object.keys(i).forEach((t=>{const e=uN[i[t]];d.push(aN[`bp${t}_font${e}`])})):d.push(aN[uN[n]]);const h={className:kf.apply(void 0,[aN.text].concat(d,[lN[r],cN[o],s])),id:a,ariaHidden:u,role:l};return c&&(h.dangerouslySetInnerHTML={lf:e}),sT(t,h,e)},hN=t=>Tk(IA,{className:t.classNames,href:t.url,tabIndex:t.url?"0":"-1",style:t.style,children:Tk("img",{className:t.imgClassNames,src:t.img,alt:t.imgAlt})});var fN="shared_module_focusable__fd03e359",pN="shared_module_focusableButton__fd03e359",vN="shared_module_focusableCircle__fd03e359",mN="shared_module_focusableMarker__fd03e359";const _N=["children","className","color","size","focusable","icon","iconPosition","iconSize","type","style","tabIndex"],bN={[jv.PRIMARY]:"Button_module_primary__779846a6",[jv.ALTERNATIVE]:"Button_module_alternative__779846a6"},yN={[$v.MD]:"Button_module_md__779846a6",[$v.SM]:"Button_module_sm__779846a6",[$v.XS]:"Button_module_xs__779846a6"},gN={[$v.MD]:"Button_module_iconMd__779846a6",[$v.SM]:"Button_module_iconSm__779846a6"},wN=gC(((t,e)=>{let{children:n,className:i,color:r=jv.CUSTOM,size:o=$v.CUSTOM,focusable:s=!0,icon:a,iconPosition:u=Vv.LEFT,iconSize:l=$v.CUSTOM,type:c,style:d={},tabIndex:h=0}=t,f=Q(t,_N);return Tk("button",J(J({className:kf("Button_module_button__779846a6",s&&fN,bN[r],yN[o],a&&"Button_module_icon__779846a6",a&&gN[l],nf.EXCLUDE_GLOBAL_BUTTON_STYLES,i),ref:e,type:c||Fv.BUTTON,style:d,tabIndex:h},f),{},{children:[u===Vv.LEFT&&a,n&&Tk("span",{className:"Button_module_buttonChildren__779846a6",children:n}),u===Vv.RIGHT&&a]}))}));const TN=["Shift","Tab"],CN=Se.iOS?"SearchInput_module_mobileSafari__8bd10fbf":"",EN=gC((({onChange:t,onEnter:e,onSearchIterate:n,value:i,numSearchResults:r,ariaControls:o,disabled:s,placeholder:a,searchItemIterator:u},l)=>{const c={defaultPlaceholder:"Search",clearResults:"Clear Search Results",previousResult:"Previous search result",nextResult:"Next search result",noResults:"No results",numberResults:1===r?r+" result":r+" results"},[d,h]=UT(!1),[f,p]=UT(!1),v=WT(null),m=i.length>0,_=(()=>{const[t,e]=UT(!1);return tk("Shift",(()=>{e(!0)}),(()=>{e(!1)})),t})();let b=a;r&&d&&(b=c.numberResults),!r&&i&&d&&(b=c.noResults);const[y,g]=UT(c.nextResult),[w,T]=UT(c.previousResult);a=a??c.defaultPlaceholder,XT((function(){return clearTimeout(v.current),v.current=setTimeout((()=>{h(!0)}),1e3),()=>clearTimeout(v.current)}),[i]);const C=()=>{null!=l&&l.current&&(null==l.current.focus||l.current.focus())},E=()=>{t&&t(""),e&&e(""),C()},k=t=>{let e;null==t||t.preventDefault(),null==t||t.stopPropagation(),e=u<r-1?u+1:0,r&&g("Result "+(e+1)+" of "+r),n&&n(e)},S=t=>{let e;null==t||t.preventDefault(),null==t||t.stopPropagation(),e=u>0?u-1:r-1,r&&T("Result "+(e+1)+" of "+r),n&&n(e)},A=kf("SearchInput_module_inputForm__8bd10fbf",m&&"SearchInput_module_active__8bd10fbf"),N=kf("SearchInput_module_searchButton__8bd10fbf",pN),M=0!==r&&Number.isInteger(u)?`${u+1}/${r}`:"0/0";return Tk("form",{className:A,role:"search","data-component-type":"SearchInput","data-focused":`${f}`,"data-disabled":`${s}`,onReset:()=>E(),onSubmit:t=>{t.preventDefault(),e&&e(i),_?S():k()},onClick:C,children:[!m&&Tk("div",J(J({"data-icon":"search",className:"SearchInput_module_searchIcon__8bd10fbf"},bf(C)),{},{children:Tk(PA,{name:bk.SEARCH,"aria-hidden":"true"})})),Tk("input",{"aria-live":"polite",type:"text",ref:l,className:CN,onFocus:()=>p(!0),onBlur:()=>p(!1),onKeyDown:t=>{TN.includes(t.key)||t.stopPropagation()},"aria-controls":o,onInput:e=>{e.preventDefault(),t&&t(e.target.value),h(!1)},value:i,"aria-describedby":"searchResultsStatus",disabled:s,id:hf.SEARCH_INPUT}),!m&&Tk("label",{htmlFor:hf.SEARCH_INPUT,className:"SearchInput_module_label__8bd10fbf",children:a}),i&&Tk("span",{id:"searchResultsStatus","aria-live":"polite",className:"shared_module_visuallyHidden__fd03e359",children:b}),m&&Tk(uT,{children:[Number.isInteger(u)&&Tk("div",{"data-purpose":"search-item",className:"SearchInput_module_searchItem__8bd10fbf","aria-hidden":"true",children:M}),Tk(wN,J(J({"aria-live":"polite"},bf(S)),{},{"data-purpose":"decrement-search","aria-label":w,icon:Tk(PA,{name:bk.CHEVRON_UP}),iconSize:$v.SM,className:N,disabled:s||!r,onBlur:()=>{T(c.previousResult)}})),Tk(wN,J(J({"aria-live":"polite"},bf(k)),{},{"aria-label":y,"data-purpose":"increment-search",icon:Tk(PA,{name:bk.CHEVRON_DOWN}),iconSize:$v.SM,className:N,disabled:s||!r,onBlur:()=>{g(c.nextResult)}})),Tk(wN,J(J({},bf(E)),{},{"data-icon":"close","data-purpose":"close","aria-label":c.clearResults,icon:Tk(PA,{name:bk.CLOSE_CIRCLE,"data-icon":"close"}),iconSize:$v.SM,type:Fv.RESET,className:N,disabled:s}))]})]})}));const kN=["className","size"],SN=t=>{let{className:e="",size:n=Xv.SM}=t,i=Q(t,kN);const r=kf(tf.VP_SPIN,n===Xv.LG&&"Spinner_module_lg__c0a9f13b",n===Xv.SM&&"Spinner_module_sm__c0a9f13b",e);return Tk(PA,J({"data-component-type":"spinner",name:bk.SPINNER,className:`Spinner_module_spinner__c0a9f13b ${r}`},i))};const AN=({checked:t,onSelect:e,className:n,children:i,isMenuItem:r,role:o="switch"})=>{const s=kf("Switch_module_switch__c00d76b6",r&&"Switch_module_isMenuItem__c00d76b6",n),a=kf("Switch_module_switchContainer__c00d76b6",t&&"Switch_module_checked__c00d76b6");return Tk("div",J(J({tabIndex:0,role:o,"aria-checked":t,className:s},bf((t=>null==e?void 0:e(t)))),{},{children:[i,Tk("div",{className:a,children:[Tk(PA,{name:bk.SWITCH_CONTAINER}),Tk(PA,{name:bk.SWITCH_CIRCLE,className:"Switch_module_handle__c00d76b6"})]})]}))};const NN=({cues:t,language:e,direction:n,className:i,fontSize:r,fontFamily:o,fontOpacity:s,color:a,windowOpacity:u,windowColor:l,bgOpacity:c,bgColor:d,edgeStyle:h,height:f,style:p={}})=>{const v=sb(),m=(t,e)=>{const n=new zf(GS[t]||t);return n.alpha=e/100,n.rgba},_=J(J(J(J(J({},{fontSize:`${(t=>Math.max(10,Math.round(.045*f*t)))(r)}px`}),(()=>{const t=((t,e)=>v.fontFamily.items.find((t=>t.id===e)))(0,o);return{fontVariant:"small_capitals"===t.id?"small-caps":"initial",fontFamily:t.value}})()),{color:m(a,s)}),(()=>{const t="0, 0, 0, "+Number(s)/100;let e;switch(h){case"shadow":e=`2px 2px 2px rgba(${t})`;break;case"outline":e=`1px 0px 1px rgba(${t}), 0px 1px 1px rgba(${t}), -1px 0px 1px rgba(${t}), 0px -1px 1px rgba(${t})`;break;case"raised":e=`rgba(${t}) 1px 1px, rgba(${t}) 1.5px 1.5px`;break;case"depressed":e=`rgba(${t}) -1px -1px, rgba(${t}) -1.5px -1.5px`;break;default:e="none"}return{textShadow:e}})()),p),b=J({},{backgroundColor:m(l,u)}),y=J({},{background:m(d,c)});return Tk("div",{className:kf(tf.VP_CAPTIONS,"CaptionsRenderer_module_captions__f2659eec",i),"aria-live":"assertive",lang:e,dir:n,style:_,children:Tk("span",{className:"CaptionsRenderer_module_captionsWindow__f2659eec",style:b,children:(()=>{let e=[];return t.forEach((t=>{const n=t.html.split(/<br\s?\/?>/i).filter(Boolean);e=e.concat(n)})),e})().map((t=>Tk("span",{className:"CaptionsRenderer_module_captionsLine__f2659eec",style:y,dangerouslySetInnerHTML:{lf:t}},t)))})})};const MN=gC((({children:t,className:e,style:n,role:i="dialog",ariaLabelledby:r},o)=>Tk("div",{role:i,"aria-labelledby":r,className:`ToastBase_module_toast__fb6cbe17 ${e||""}`,ref:o,style:n,children:t})));const ON=()=>Tk("div",{className:"ToastDivider_module_divider__b81b458b"});const IN=["tooltipLabel","icon","onClick","containerRef","fullToast","className","onMouseEnter","onMouseLeave"],RN=t=>{let{tooltipLabel:e,icon:n,onClick:i,containerRef:r,fullToast:o,className:s,onMouseEnter:a,onMouseLeave:u}=t,l=Q(t,IN);const c=EA((t=>t.appearance.playerBreakpoint)),d=["xl","xxl"].includes(c)?16:8,h=kf("ToastButton_module_toastButton__a3f96132",o&&"ToastButton_module_fullToast__a3f96132",s);return e?Tk(oN,{tooltipContent:e,position:iN.BOTTOM,containerEl:r,margin:d,children:Tk(wN,J({color:o?jv.PRIMARY:jv.ALTERNATIVE,icon:n,onClick:i,onMouseEnter:a,onMouseLeave:u,className:h},l))}):Tk(wN,J({color:o?jv.PRIMARY:jv.ALTERNATIVE,icon:n,onClick:i,onMouseEnter:a,onMouseLeave:u,className:h},l))},LN={[Bv.XXS]:Hv.MD,[Bv.LG]:Hv.LG,[Bv.XXL]:Hv.XL},xN=({onClick:t,onMouseEnter:e,onMouseLeave:n,label:i})=>Tk(RN,{fullToast:!0,onClick:t,onMouseEnter:e,onMouseLeave:n,children:Tk(dN,{sizeMap:LN,children:i})});const DN=({transitionTime:t,delay:e=400,ariaLabelledby:n})=>{const i=`width ${t-e}ms linear`,[r,o]=UT({});return XT((()=>{const t=setTimeout((()=>{o({transition:i,width:"100%"})}),e);return()=>{clearTimeout(t)}}),[o,i,e]),Tk("div",{className:"ToastProgress_module_progressWrapper__c722ee37",role:"progressbar","aria-labelledby":n,children:Tk("div",{className:"ToastProgress_module_progress__c722ee37",style:r})})};const PN=({id:t,children:e,className:n})=>{const i=kf("ToastMessage_module_label__bad39dc9",n);return Tk(dN,{id:t,weight:Uv.NORMAL,className:i,color:zv.WHITE,sizeMap:{[Bv.XXS]:Hv.SM,[Bv.SM]:Hv.MD,[Bv.XL]:Hv.LG,[Bv.XXL]:Hv.XL},children:e})};const BN=({onClick:t,describedBy:e,selected:n})=>Tk(RN,{className:"CloseToastButton_module_close__cfcb6e11 "+(n?"CloseToastButton_module_selected__cfcb6e11":""),icon:Tk(PA,{name:bk.DISMISS_X}),onClick:t,"aria-label":"Close","aria-describedby":e}),$N=({children:t,targetContent:e,onContentChange:n=Zf,delay:i=250,styleOverrides:r,fadeIn:o=!0,fadeOut:s=!0})=>{const a=WT(null),[u,l]=UT(e),c=e!==u,d=c&&!u,h=!c&&!!e;return clearTimeout(a.current),d?(l(e),n(e)):c&&(a.current=setTimeout((function(){l(e),n(e)}),i)),Tk(NA,{fadeIn:o,fadeOut:s,visible:h,duration:i,styleOverrides:r,children:null==t?void 0:t(u)})};let jN=function(t){return t.LOAD_TIMEOUT="Load timeout",t}({});const VN=1e3,FN=100*Math.random()<=100,HN=[xh.PLAYER_LOGIN_SUCCESSFUL,xh.PLAYER_LOGIN_FAILED,xh.COMPONENT_VISIBILITY_CHANGE,xh.APP_BREAKPOINT_CHANGE],UN=t=>{const{id:e,url:n,title:i,visible:r,userLoggedIn:o,appBreakpoint:s,config:a,onIframeLoad:u=Zf,onError:l=Zf,onRemoteComponentReady:c=Zf,waitForReady:d=!1,isAnimating:h=!1,timeout:f=VN,className:p}=t,v=WT(!1),[m,_]=UT(!1),[b,y]=UT(!1),g=WT(ag()),w=WT(null),T=WT(null),C=kf("RemoteComponent_module_remoteComponent__c2722e03",b&&"RemoteComponent_module_loaded__c2722e03",p),E=WT(Date.now()),k=YT((t=>{v.current=!1,_(!0),l(t)}),[l]),S=YT((()=>{d&&y(!0),clearTimeout(T.current),c()}),[d,c]);XT((function(){w.current&&function(t,e,n){const{url:i,onPlay:r=Zf,onPause:o=Zf,onSeek:s=Zf,onClose:a=Zf,onRemoteComponentReady:u=Zf,onError:l=Zf}=t,c=Qd(i);e.configureClient(n.contentWindow,c),e.extendMethods({play:r,pause:o,set currentTime(t){s(t)},closeRemoteComponent:a,remoteComponentReady:u,reportRemoteComponentError:l}),HN.forEach((function(t){e.listeners[t]=!0}))}(J(J({},t),{},{onRemoteComponentReady:S}),g.current,w.current)}),[]),XT((function(){clearTimeout(T.current),T.current=setTimeout((()=>{b||(k({message:jN.LOAD_TIMEOUT,code:408}),n_(im.REMOTE_COMPONENT_TIMEOUT,a,{component_url:n,component_timeout:f}))}),f)}),[b,f,a,n,k]),XT((function(){o&&g.current.emit(xh.PLAYER_LOGIN_SUCCESSFUL)}),[o]),XT((function(){r||document.activeElement!==w.current||w.current.blur(),h||g.current.emit(xh.COMPONENT_VISIBILITY_CHANGE,r)}),[r,h]),XT((function(){g.current.emit(xh.APP_BREAKPOINT_CHANGE,s)}),[s]),XT((function(){E.current=Date.now()}),[n]);const A=kf("RemoteComponent_module_spinner__c2722e03",!b&&!m&&"RemoteComponent_module_visible__c2722e03");return Tk(uT,{children:[Tk(SN,{className:A}),Tk("iframe",{id:e,ref:w,onLoad:()=>{m||(v.current=!0,u(),FN&&n_(im.REMOTE_COMPONENT_LOADED,a,{component_url:n,component_load_time:Date.now()-E.current}),d||(clearTimeout(T.current),y(!0)))},title:i,src:n,className:C})]})},zN=["onPlay","onPause","onSeek","url","visible"],XN=t=>{const{onPlay:e,onPause:n,onSeek:i,url:r,visible:o}=t,s=Q(t,zN),a=EA((t=>t.setPlayback)),u=EA((t=>t.config)),l=EA((t=>t.user.loggedIn)),c=EA((t=>t.appearance.appBreakpoint)),d=Ek((t=>t.colors.colorOne)),h=Ek((t=>t.colors.colorTwo)),f=Ek((t=>t.colors.colorThree)),p=Ek((t=>t.colors.colorFour)),[v,m]=UT(GN(r,_()));function _(){return{loggedIn:l,appBreakpoint:c,visible:o,colorOne:d,colorTwo:h,colorThree:f,colorFour:p}}return XT((function(){m(GN(r,_()))}),[r]),Tk(UN,J({userLoggedIn:l,onPlay:()=>{a("paused",!1),null==e||e()},onPause:()=>{a("paused",!0),null==n||n()},onSeek:t=>{a("currentTime",t),null==i||i(t)},appBreakpoint:c,url:v,visible:o,config:u},s))};function GN(t,e){const n=Object.keys(e).filter((t=>void 0!==e[t])),i=ow(e,n);return Nt(t,i)}const WN=({playerBreakpoint:t})=>{const e=[Bv.XS,Bv.XXS].includes(t),n=e?bk.VIMEO_SMALL:bk.VIMEO,i=e?"data-vimeo-small-icon":"data-vimeo-icon";return Tk(PA,{name:n,"aria-hidden":!0,[i]:!0})};const qN=({url:t,className:e})=>{const n={backgroundImage:`url(${t})`};return Tk("div",{className:kf("Image_module_image__2d6414b2",e),style:n})};var YN="shared_module_shareTitle__b1d5c277",KN="shared_module_shareFootnote__b1d5c277";const ZN=["embedCode","onClick"],JN=t=>{let{embedCode:e,onClick:n}=t,i=Q(t,ZN);const[r,o]=UT(!1),s=WT(null);return Tk(wN,J(J({onClick:()=>{o(!0),yf(e),n(),clearTimeout(s.current),s.current=setTimeout((function(){o(!1)}),2e3)},className:"CopyEmbedCodeButton_module_copyEmbedCodeButton__ac44b4e7"},i),{},{children:r?"Copied!":"Copy"}))},QN=({visible:t})=>{const e=EA((t=>t.embed.allowEmbedShare)),n=EA((t=>t.embed.embedCode)),i=EA((t=>t.embed.videoUrl)),r=EA((t=>t.displayList.outro)),o=EA((t=>t.embed.embedOnlyShare)),s=WT(null),a=ek(),u={title:"Embed",subtitle:"Add this video to your site with the embed code below.",customize:`<a href="${i}#embed" target="_blank" rel="noopener" aria-describedby="${rf.NEW_WINDOW_DESCRIPTION}">Customize this embed</a> on Vimeo`},l=kf("EmbedShare_module_embedShareContainer__fb691e4b",o&&"EmbedShare_module_embedOnlyShare__fb691e4b",!t&&"EmbedShare_module_hidden__fb691e4b"),c=YT((t=>{const e=r?"end_screen":"share_overlay";a(im.COPY_VIDEO_EMBED_CODE,{location:`player_embed_${e}_${t}`,path:window.location.pathname})}),[r,a]);return XT((()=>{s.current&&s.current.setSelectionRange(0,n.length)}),[n]),e&&Tk(pC,{duration:200,alwaysMounted:!0,in:t,styles:tM(),children:Tk("section",{className:l,children:Tk("div",{children:[Tk(dN,{element:"h1",color:zv.WHITE,size:Hv.XL,className:YN,children:u.title}),Tk(dN,{element:"p",color:zv.WHITE,className:"EmbedShare_module_embedShareSubtitle__fb691e4b",size:Hv.MD,containsMarkup:!0,children:u.subtitle}),Tk("div",{className:"EmbedShare_module_embedShareEmbedCode__fb691e4b",children:[Tk("div",{children:Tk("input",{onClick:t=>{t.currentTarget.select()},onCut:()=>c("keyboard"),onCopy:()=>c("keyboard"),className:"EmbedShare_module_embedInput__fb691e4b",readOnly:!0,"aria-readonly":"true",value:n,ref:s})}),Tk(JN,{embedCode:n,onClick:()=>c("button")})]}),Tk(dN,{element:"p",size:Hv.MD,className:`${KN} EmbedShare_module_shareFootnote__fb691e4b`,containsMarkup:!0,children:u.customize})]})})})};function tM(){const t={transform:"translateX(125%)",opacity:0},e={transform:"translateX(-17%)",opacity:1};return{enter:J({visibility:"hidden"},t),enterActive:J({transition:"200ms",visibility:"visible"},e),enterDone:{transform:"translateX(-17%)"},exit:J({},e),exitActive:J(J({},t),{},{transition:"200ms"}),exitDone:{visibility:"hidden"}}}const eM={facebook:bk.FACEBOOK,twitter:bk.TWITTER,tumblr:bk.TUMBLR,email:bk.EMAIL,embed:bk.EMBED},nM={facebook:Nh.vl,twitter:Nh.ml,tumblr:Nh._l,email:Nh.bl,embed:Nh.ll},iM={facebook:"Share on Facebook",twitter:"Share on Twitter",tumblr:"Share on Tumblr",email:"Share via Email",embed:"Get embed code"},rM=gC((({destination:t,onClick:e},n)=>{const i=EA((t=>t.title.title)),r=EA((t=>t.title.ownerName)),o=EA((t=>t.embed.shareUrl)),s=EA((t=>t.embed.videoUrl)),a=EA((t=>t.embed.playerShareUrl)),u=EA((t=>t.embed.videoUnlistedHash)),l=EA((t=>t.events)),c={emailSubject:"Check out "+i+" from "+r+" on Vimeo",emailBody:"Check out "+i+" from "+r+" on Vimeo.\n\nThe video is available for your viewing pleasure at "+o+"\n\nIf you like this video, make sure you share it, too!\n\nVimeo is filled with lots of amazing videos. See more at https://vimeo.com."},d=YT((t=>"email"===t?`mailto:?subject=${encodeURIComponent(c.emailSubject)}&body=${encodeURIComponent(c.emailBody)}`:"embed"===t?`${s}#share`:Nt(`${a}/${t}`,u?{h:u}:{})),[a,u,s,c.emailBody,c.emailSubject]),h=YT((n=>{n.preventDefault(),l.fire(nM[t],d(t)),e(t,n.currentTarget.href)}),[l,e]);return Tk(IA,{ref:n,className:"SocialShareLink_module_shareButton__5552a811",role:"button",href:d(t),onClick:h,ariaLabel:iM[t],children:Tk(PA,{name:eM[t]})})}));var oM="SocialShare_module_shareButtonItem__8480906e";const sM=({visible:t,onEmbedClick:e})=>{const n=EA((t=>t.embed.allowEmbedShare)),i=EA((t=>t.embed.shareUrl)),r=WT(null),o=WT(null),s=kf("SocialShare_module_shareButtons__8480906e"),a=kf("SocialShare_module_socialShareContainer__8480906e",!t&&"SocialShare_module_hidden__8480906e"),u=(t,n)=>{"embed"!==t?"email"!==t?nh(n,t,{width:600,height:600}):window.top.location=n:null==e||e()};return Tk(pC,{duration:200,alwaysMounted:!0,in:t,styles:aM(),children:Tk("section",{className:a,children:[Tk(dN,{element:"h1",color:zv.WHITE,size:Hv.XL,className:YN,children:"Share"}),Tk("ul",{className:s,children:[Tk("li",{className:oM,children:Tk(rM,{destination:"facebook",onClick:u,ref:r})}),Tk("li",{className:oM,children:Tk(rM,{destination:"twitter",onClick:u})}),Tk("li",{className:oM,children:Tk(rM,{destination:"tumblr",onClick:u})}),i&&Tk("li",{className:oM,children:Tk(rM,{destination:"email",onClick:u})})]}),n&&Tk("ul",{className:s,children:Tk("li",{className:oM,children:Tk(rM,{onClick:u,destination:"embed",ref:o})})}),i&&Tk("p",{className:KN,children:Tk(IA,{className:"SocialShare_module_clipUrl__8480906e",href:i,children:i})})]})})};function aM(){const t={transform:"translateX(-125%)",opacity:0},e={transform:"translateX(0)",opacity:1};return{enter:J({visibility:"hidden"},t),enterActive:J({transition:"200ms",visibility:"visible"},e),exit:J({},e),exitActive:J(J({},t),{},{transition:"200ms"}),exitDone:{visibility:"hidden"}}}const uM=({onEmbedShareVisibilityChange:t})=>{const e=EA((t=>t.embed.embedOnlyShare)),[n,i]=UT(e),r=kf("Share_module_backButton__248d76cb",n&&"Share_module_visible__248d76cb");return XT((function(){e!==n&&i(e)}),[e]),XT((function(){null==t||t()}),[n]),Tk(uT,{children:[Tk("div",{className:"Share_module_shareWrapper__248d76cb",children:[Tk(sM,{visible:!n,onEmbedClick:()=>i(!0)}),Tk(QN,{visible:n})]}),!e&&Tk(wN,J(J({className:r,onClick:()=>i(!1),"aria-label":"Back",tabIndex:n?0:-1},rN),{},{children:Tk(PA,{className:"Share_module_backButtonIcon__248d76cb",name:bk.PREVIOUS})}))]})};const lM={enter:{opacity:0,animation:"wiggle 300ms linear 1"},enterActive:{opacity:1,transition:"opacity 300ms",animation:"wiggle 300ms linear 1"},enterDone:{opacity:1},exit:{opacity:1},exitActive:{opacity:0,transition:"opacity 300ms"},exitDone:{display:"none"}},cM=({message:t,visible:e,wrapperEl:n})=>{const[i,r]=UT(e),o=n&&Jd(n);return XT((()=>{let t;return clearTimeout(t),e?(r(!0),t=setTimeout((()=>{r(!1)}),5e3)):r(!1),()=>clearTimeout(t)}),[e]),Tk(pC,{in:i,styles:lM,children:Tk("div",{className:"ValidationBubble_module_validationBubble__74475ac4",style:{top:(null==o?void 0:o.height)+4+"px"},children:Tk(dN,{weight:Uv.BOLD,className:"ValidationBubble_module_message__74475ac4",children:t})})})};const dM=()=>{const t=Ek((t=>t.error.title)),e=Ek((t=>t.error.message));return Tk("div",{className:"Error_module_error__b5478ed7","aria-live":"assertive",role:"alert","data-error":!0,children:[t&&Tk(dN,{element:"h1",className:"Error_module_header__b5478ed7",weight:Uv.BOLD,children:t}),e&&Tk(dN,{className:"Error_module_description__b5478ed7",weight:Uv.NORMAL,containsMarkup:!0,children:e})]})};const hM=gC(((t,e)=>{const n=EA((t=>t.setOverlay)),i=bf((t=>{t.preventDefault(),n("purpose",Pf.EMPTY)}));return Tk("button",J(J(J({ref:e,className:`CloseOverlayButton_module_closeOverlayButton__bc0b3ddc ${pN}`,"aria-label":"Close overlay"},rN),i),{},{"data-close-overlay":!0,children:Tk(PA,{name:bk.CLOSE})}))}));const fM=({children:t,visible:e,style:n})=>{const i=WT(null),r=WT(null),o=EA((t=>t.setOverlay)),s=EA((t=>t.overlay.purpose)),a=EA((t=>t.overlay.overlayElementsUpdatedCount)),u=mT(t).length>0,{onFocus:l,focusFirstItem:c}=pk({parentRef:r,isActive:e&&u,onEscape:()=>o("purpose",Pf.EMPTY)}),d=kf("OverlayBase_module_overlay__b0cfa26d",e&&"OverlayBase_module_visible__b0cfa26d");return XT((function(){c()}),[a]),XT((function(){!Bf(s)&&e&&c()}),[s,e]),Tk("div",{ref:r,onFocus:l,className:"OverlayBase_module_overlayWrapper__b0cfa26d "+(e?"":"OverlayBase_module_hidden__b0cfa26d"),role:"dialog","aria-modal":"true","aria-labelledby":rf.VP_OVERLAY_LABELLEDBY,"data-content-area-sibling-eligible":!0,style:n,"data-overlay":!0,children:[Tk("div",{className:"OverlayBase_module_overlayCell__b0cfa26d",children:Tk("div",{className:d,children:t})}),Tk("nav",{className:"OverlayBase_module_overlayNav__b0cfa26d",children:Tk(hM,{ref:i})})]})},pM=["label","icon","onClick","className","children"],vM=gC(((t,e)=>{let{label:n,icon:i,onClick:r,className:o="",children:s}=t,a=Q(t,pM);const u=EA((t=>t.displayList.sideDock));return Tk(wN,J(J({tabIndex:u?0:-1,ref:e,size:$v.SM,color:jv.PRIMARY,icon:i,iconSize:$v.SM,"aria-label":n,onClick:r,className:o},a),{},{children:s}))})),mM=()=>{const{enabled:t,icon:e,label:n,onSelect:i}=gk();return t&&Tk(MA,{text:n,children:Tk(vM,{label:n,onClick:i,icon:Tk(PA,{name:e,focusable:"false"})})})},_M=()=>{const t=EA((t=>t.user.liked)),{label:e,ariaLabel:n,enabled:i,icon:r,onSelect:o}=Xk();return i&&Tk(MA,{text:e,children:Tk(vM,{label:n,className:ef.LIKE_BUTTON,on:t,icon:Tk(PA,{name:r,className:tf.LIKE_ICON,focusable:"false"}),"data-like-button":!0,onClick:o})})};const bM=()=>{const{label:t,icon:e,onSelect:n,enabled:i}=Gk();return i&&Tk(MA,{text:t,children:Tk(vM,{label:t,"data-share-button":!0,onClick:n,icon:Tk(PA,{name:e,className:"share-icon ShareButton_module_shareIcon__e4957da4",focusable:"false"})})})};const yM=()=>{const t=EA((t=>t.vod.purchased)),e=EA((t=>t.vod.isExpiring)),{onSelect:n,enabled:i,icon:r,label:o}=Wk(),s=bf(n);return i&&Tk("div",J(J({},s),{},{className:"VODButton_module_vodButtonContainer__33b65469 "+(e?"VODButton_module_expiring__33b65469":""),"data-vod-expiring":e,"data-vod-purchased":t,"data-vod-button":!0,children:Tk(wN,{size:$v.SM,color:jv.PRIMARY,iconPosition:Vv.RIGHT,className:kf(ef.VOD_BUTTON,"VODButton_module_vodButton__33b65469"),"data-vod-button":!0,icon:Tk(PA,{name:r,className:kf("VODButton_module_icon__33b65469"),"data-vod-icon":!0}),iconSize:$v.SM,children:Tk("span",{"data-vod-button-label":!0,children:o})})}))},gM=()=>{const t=EA((t=>t.user.watchLater)),{enabled:e,label:n,ariaLabel:i,onSelect:r,icon:o}=Yk();return e&&Tk(MA,{text:n,children:Tk(vM,{label:i,className:ef.WATCH_LATER_BUTTON,on:t,onClick:r,icon:Tk(PA,{name:o,className:tf.WATCH_LATER_ICON,focusable:"false"}),"data-watch-later-button":!0})})};var wM="AIButton_module_button__51e5bbdf";const TM=()=>{const[t,e]=UT(!1),[n,i]=UT(!1),r=WT(null),o=EA((t=>t.displayList.aiWidget)),s=WT(null),a=WT(!1),{label:u,onSelect:l,enabled:c,icon:d}=yk(),h=o?[sf.AI_WIDGET_ID,rf.RIGHT_CONTENT_AREA].join(" "):rf.RIGHT_CONTENT_AREA;XT((()=>{function t(){document.activeElement.id===sf.AI_WIDGET_ID&&(a.current=!0)}return window.addEventListener("blur",t),()=>{window.removeEventListener("blur",t)}}),[]),tk("Tab",(t=>{const e=document.activeElement===document.body;var n;a.current&&e&&(t.preventDefault(),a.current=!1,null==(n=s.current)||n.focus())}));const f=()=>{clearTimeout(r.current),e(!1),i(!0)},p=()=>{clearTimeout(r.current),i(!1),e(!0),r.current=setTimeout((function(){e(!1)}),420)},v=kf(wM,n&&"AIButton_module_transitionIn__51e5bbdf",t&&"AIButton_module_transitionOut__51e5bbdf"),m={backgroundColor:"rgb(0,0,0,0.9)",transitionProperty:n||t?"background-position":"none"};return c&&Tk(uT,{children:[Tk("style",{children:`\n                    .${wM} {\n                        --shimmer-speed-in: 450ms;\n                        --shimmer-speed-out: 420ms;\n                    }\n                `}),Tk(MA,{text:u,children:Tk(vM,J({label:u,"data-ai-button":!0,onClick:l,ref:s,className:v,"aria-expanded":o,"aria-controls":h,"aria-haspopup":"true",onFocus:f,onBlur:p,onPointerEnter:t=>{"mouse"===t.pointerType&&f()},onPointerLeave:t=>{"mouse"===t.pointerType&&p()},style:m,icon:Tk(PA,{fill:"#fff",name:d,focusable:"false",className:"AIButton_module_icon__51e5bbdf"})},rN))})]})},CM=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n})=>{const i=Zk(),r="More options",o=Object.keys(i).filter((t=>i[t].enabled)).map((t=>{const e=i[t];return{id:t,label:e.label,icon:e.icon}}));return Tk(FA,{type:WE.SIDEDOCK,ariaLabel:r,isMenuDisplayed:t,setMenuDisplayed:e,panel:qE.SIDEDOCK,panelContent:Tk(JA,{items:o,onSelect:t=>{const e=t.currentTarget.dataset.id;(0,i[e].onSelect)(t)}}),headerContent:Tk(XA,{title:r,onClose:()=>e(!1),forceModalMenu:!0}),forceModalMenu:!0,buttonRef:n})},EM=gC((({onClick:t,isMenuDisplayed:e},n)=>{const i=Zk(),r="More options";return Object.values(i).filter((t=>t.enabled)).length?Tk(MA,{text:r,children:Tk(vM,{ref:n,label:r,onClick:t,icon:Tk(PA,{name:bk.VERTICAL_ELLIPSIS,focusable:"false"}),ariaHaspopup:"modal",ariaExpanded:e})}):null})),kM=()=>{const t=WT(null),e=EA((t=>t.displayList.sideDock)),n=EA((t=>t.appearance.fullscreen)),i=EA((t=>t.displayList.outro)),r=EA((t=>t.vod.purchased)),o=EA((t=>t.displayList.menu)),s=EA((t=>t.setAppearance)),a=EA((t=>t.setDisplayList)),u=Wk(),l=ak(Gv.SIDE_DOCK_MENU),[c,d]=UT(!1),h=t=>{a("menu",t),d(t)};o||d(!1);const f={className:kf(tf.VP_SIDEDOCK,"SideDock_module_root__0918b45a",e&&"SideDock_module_visible__0918b45a",i&&"SideDock_module_outroVisible__0918b45a",n&&"SideDock_module_fullscreen__0918b45a"),onPointerEnter:()=>s("mousedOverSidedock",!0),onMouseEnter:()=>s("mousedOverSidedock",!0),onPointerLeave:()=>s("mousedOverSidedock",!1),onMouseLeave:()=>s("mousedOverSidedock",!1)};return Tk(UA,{children:[Tk("div",J(J({},f),{},{"data-sidedock":!0,children:[u.enabled&&!r&&Tk(yM,{}),Tk(NA,{visible:e,children:Tk("div",{className:"SideDock_module_sidedockInner__0918b45a","data-sidedock-inner":!0,children:l?Tk(EM,{ref:t,onClick:()=>h(!0),isMenuDisplayed:c}):Tk(uT,{children:[u.enabled&&r&&Tk(yM,{}),Tk(_M,{}),Tk(gM,{}),Tk(mM,{}),Tk(bM,{}),Tk(TM,{})]})})})]})),l&&Tk(CM,{isMenuDisplayed:c,setMenuDisplayed:h,buttonRef:t})]})};let SM=function(t){return t.MARKER_SEEKED="seeked",t.MARKER_ENDED="ended",t.MARKER_UPSWITCH="upswitch",t.MARKER_DOWNSWITCH="downswitch",t.MARKER_SWITCH_COMPLETE="switchcomplete",t.MARKER_RESIZE="resize",t.MARKER_SCANNER_CHANGE="scannerchange",t.MARKER_FILE_CHANGE="filechange",t.MARKER_STALLED="stalled",t.MARKER_BUFFER_GAP_JUMP="buffergapjump",t.MARKER_BUFFER_GAP_JUMP_PREVENT="buffergapjumpprevent",t.MARKER_STALL_JUMP="stalljump",t}({}),AM=function(t){return t.MARKER_SEEKED="#0088cc",t.MARKER_ENDED="#503873",t.MARKER_UPSWITCH="#5a9e02",t.MARKER_DOWNSWITCH="#d93636",t.MARKER_RESIZE="#FF8A00",t.MARKER_SCANNER_CHANGE="#e9ff00",t.MARKER_FILE_CHANGE="#b5d3e2",t.MARKER_STALLED="#f44283",t}({});const NM=Object.entries(SM).reduce(((t,[e,n])=>(t[n]=AM[e],t)),{}),MM=({max:t=1,timeSeries:e=[],debugMarkers:n=[]})=>{const i=e.length,r=i<100?0:i-100,o=e[r],s=e[i-1],a=o?o.time:0,u=s?s.time:0,l=e.slice(r).map((e=>{let n=(e.time-a)/(u-a)*250,i=14-14*e.value/t;return isNaN(i)&&(i=0),isNaN(n)&&(n=0),`${n},${function(t){return Math.min(Math.max(t,0),14)}(i)}`})).join(" ");return Tk("svg",{width:250,height:14,viewBox:"0 0 250 14",children:[Tk("g",{children:Tk("polyline",{stroke:"white",fill:"none",points:l})}),Tk("g",{children:!!n.length&&n.filter((t=>t.t>=a&&t.t<=u)).map(((t,e)=>{let n=(t.t-a)/(u-a)*250;return isNaN(n)&&(n=0),Tk("g",{children:Tk("line",{className:"BandwidthSeriesDisplay_module_marker__e795ff85",x1:n,y1:"0",x2:n,y2:14,strokeWidth:"1",stroke:NM[t.type]})},`${t.t}-${e}`)}))})]})};const OM=({title:t="",value:e})=>Tk("div",{children:[Tk("dt",{children:t}),Tk("dd",{children:e})]}),IM=({payloadId:t,showSessionId:e})=>{const n=EA((t=>t.debug.codec)),i=EA((t=>t.debug.isLive)),r=EA((t=>t.debug.isDash)),o=EA((t=>t.debug.delivery)),s=EA((t=>t.debug.resolution)),a=EA((t=>t.debug.embedSize)),u=EA((t=>t.debug.drmEnabled)),l=EA((t=>t.debug.sessionId)),c=EA((t=>t.debug.ecdnVendor)),d=EA((t=>t.debug.p2pSources)),h=EA((t=>t.debug.p2pOffload)),f=EA((t=>t.debug.totalFrames)),p=EA((t=>t.debug.liveLatency)),v=EA((t=>t.debug.currentTime)),m=EA((t=>t.debug.bufferEnd)),_=EA((t=>t.debug.bufferAhead)),b=EA((t=>t.debug.bufferTarget)),y=EA((t=>t.debug.presentationDelay)),g=EA((t=>t.debug.droppedFrames)),w=EA((t=>t.debug.vrHeadsetName)),T=EA((t=>t.debug.liveSessionID)),C=EA((t=>t.debug.bandwidthKbps)),E=EA((t=>t.debug.bandwidthMinKbps)),k=EA((t=>t.debug.bandwidthMaxKbps)),S=EA((t=>t.debug.separateAudioVideo)),A=EA((t=>t.debug.bandwidthSeriesData)),N=EA((t=>t.debug.droppedFramesPercent)),M=EA((t=>t.debug.clipId)),{max:O,debugMarkers:I,timeSeries:R}=A;return Tk("dl",{className:"DebugValues_module_values__54d9bb7b",children:[M&&Tk("div",J(J({},bf((()=>{yf(`${M}`)}))),{},{children:[Tk("dt",{children:"Clip ID:"}),Tk("br",{}),Tk("dd",{className:"DebugValues_module_clipId__54d9bb7b",children:M})]})),!!o&&Tk(OM,{title:"Delivery:",value:o}),!!n&&Tk(OM,{title:"Codec:",value:n}),!!s&&Tk(OM,{title:"Playing:",value:s}),!!a&&Tk(OM,{title:"Embed Size:",value:a}),r&&Tk(OM,{title:"Separate AV:",value:`${S}`}),(r||i)&&Tk(OM,{title:"Dropped Frames:",value:`${g} / ${f} - ${N}`}),!!w&&Tk(OM,{title:"VR Hardware:",value:w}),!!c&&Tk(uT,{children:[Tk(OM,{title:"eCDN Vendor:",value:c}),Tk(OM,{title:"Peers - P2P Delivery:",value:`${d} - ${h}`})]}),u&&Tk(OM,{title:"DRM:",value:u}),i&&Tk(uT,{children:[!!T&&Tk(OM,{title:"Live Session ID:",value:T}),Tk(OM,{title:"Live Latency / Target:",value:`${p} / ${y}`})]}),Tk(OM,{title:"Playhead / Buffer End:",value:`${v} / ${m}`}),!!b&&Tk(OM,{title:"Buffer Ahead / Target:",value:`${_} / ${b}`}),(r||i)&&Tk(uT,{children:[Tk(OM,{title:"Bandwidth:",value:C}),Tk("div",{className:"DebugValues_module_bandwidthMinMax__54d9bb7b",children:["(",Tk("b",{className:"DebugValues_module_bandwidthMin__54d9bb7b",children:E}),Tk("b",{className:"DebugValues_module_bandwidthMax__54d9bb7b",children:k}),")"]}),Tk("div",{className:"DebugValues_module_timeSeries__54d9bb7b",children:Tk(MM,{max:O,debugMarkers:I,timeSeries:R})})]}),l&&e&&Tk("div",{children:[Tk("dt",{children:"Key:"}),Tk("br",{}),Tk("dd",{className:"DebugValues_module_sessionId__54d9bb7b",children:l})]}),t&&Tk("div",{children:[Tk("dt",{children:"Debug Key:"}),Tk("br",{}),Tk("dd",{className:"DebugValues_module_payloadId__54d9bb7b",children:t})]})]})};var RM="DebugPanel_module_button__f18a1b0a";const LM=["bandwidthSeriesData"];function xM(){}let DM;const PM=gC((({onCopyFailed:t,labelResetDelay:e,className:n},i)=>{const[o,s]=UT(!1),a=EA((t=>t.debug)),{bandwidthSeriesData:u}=a,l=Q(a,LM),c=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){const n={version:2,tpl:l,mark:u.debugMarkers};return clearTimeout(DM),function(t){if(t&&t.then)return t.then(xM)}(function(o,a){try{var u=function(){const o=btoa(JSON.stringify(n));return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(yf(o),(function(n){n?(s(!0),DM=setTimeout((()=>{clearTimeout(DM),s(!1)}),e)):t(),i.current.focus()}))}()}catch(t){return a()}return u&&u.then?u.then(void 0,a):u}(0,(function(e){t()})))}));return Tk(wN,{ref:i,className:n,onClick:c,children:o?"Copied":"Copy Debug Payload"})})),BM=["bandwidthSeriesData"];let $M;function jM(){}const VM=({onSendSuccess:t,labelResetDelay:e,className:n})=>{const{player_url:i,request:o}=EA((t=>t.config)),[s,a]=UT(!1),[u,l]=UT(!1),c=EA((t=>t.debug)),{bandwidthSeriesData:d}=c,h=Q(c,BM),{signature:f,expires:p,timestamp:v}=o,m=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){const{clipId:n,payloadId:o}=h,s=`https://${i}/debug_payload/${n}/${o}?s=${f}&expires=${p}&time=${v}`,u={version:2,tpl:h,mark:d.debugMarkers};return clearTimeout($M),function(t){if(t&&t.then)return t.then(jM)}(function(e,n){try{var i=function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(ie({url:s,method:"post",json:u,timeout:1e4}).json(),(function({ID:e}){t(e),a(!0)}))}),(function(){l(!0)}))}catch(t){return n(!0,t)}return i&&i.then?i.then(n.bind(null,!1),n.bind(null,!0)):n(!1,i)}(0,(function(t,n){return $M=setTimeout((()=>{clearTimeout($M),a(!1),l(!1)}),e),function(t,e){if(t)throw e;return e}(t,n)})))}));let _="Send Debug Payload";return s?_="Sent":u&&(_="Something Went Wrong"),Tk(wN,{className:n,onClick:m,children:_})},FM=()=>{const t=EA((t=>t.appearance.playerBreakpoint)),e=EA((t=>t.displayList.debugPanel)),n=EA((t=>t.setDisplayList)),i=EA((t=>t.debug.isDNTEnabled)),r=EA((t=>t.debug.hideCloseButton)),o=EA((t=>t.debug.isCopyDisabled)),[s,a]=UT(void 0),[u,l]=UT(!1),c=WT(null),d=WT(null),h=WT(null),f=t=>n("debugPanel",t),p=!r,v=!o,m=kf("DebugPanel_module_root__f18a1b0a","shared_module_roundedBox__fd03e359",(t===Bv.XS||t===Bv.XXS)&&"DebugPanel_module_smallPlayer__f18a1b0a"),{onFocus:_}=pk({parentRef:c,isActive:e,onEscape:()=>{f(!1)}});return e&&Tk("div",{ref:c,className:m,role:"dialog","aria-label":"Debug log",onFocus:_,children:[Tk(IM,{payloadId:s,showSessionId:u}),v&&Tk("div",{className:"DebugPanel_module_buttonWrapper__f18a1b0a",children:[Tk(PM,{labelResetDelay:1500,onCopyFailed:()=>l(!0),className:RM,ref:h}),Tk(VM,{labelResetDelay:1500,onSendSuccess:t=>a(t),className:RM})]}),p&&Tk("button",J(J({},bf((()=>f(!1)))),{},{className:"DebugPanel_module_closeButton__f18a1b0a","aria-label":"Close stats debug panel",ref:d,children:Tk(PA,{name:bk.DISMISS_X})})),!!i&&"No Debug Key available as Do Not Track is enabled."]})};const HM=()=>{const{link:t,img:e,margin:n,width:i,height:r,name:o,id:s}=EA((t=>t.badge)),a=EA((t=>t.setBadge)),u=EA((t=>t.displayList.badge)),l=o+" Badge",c={};return n&&Object.assign(c,{margin:n}),Tk(NA,{visible:u,children:Tk("div",{className:"Badge_module_badge__7943985c",style:c,"data-badge":!0,children:Tk(IA,{href:t,onClick:()=>a("id",s),targetBlank:!0,className:`Badge_module_badgeLink__7943985c ${fN}`,children:Tk("img",{src:e,width:i,height:r,alt:l})})})})};const UM=({clip:t,is360:e,hasHDRNot10Plus:n,hasHDR10Plus:i,hasDolbyVision:r,hasAIContent:o,hasSurroundSound:s,hasAmbosonic:a,channelLayout:u,className:l})=>{const c=kf("TitleTags_module_tag__68bba8ae",l);return Tk("div",{className:"TitleTags_module_tagWrapper__68bba8ae",children:[t&&Tk("span",{className:c,children:"Clip"}),e&&Tk("span",{className:c,children:a?"360 ambisonic":"360"}),n&&Tk("span",{className:c,children:"HDR"}),i&&Tk("span",{className:c,children:"HDR10+"}),r&&Tk("span",{className:`${c} TitleTags_module_dolbyVisionTag__68bba8ae`,children:Tk(PA,{name:bk.DOLBY_VISION})}),o&&Tk(IA,{href:"https://help.vimeo.com/hc/en-us/articles/25551485186833/",className:`${c} TitleTags_module_aiTag__68bba8ae`,"data-ai-content-tag":"true",children:"Includes AI"}),s&&Tk("span",{className:c,children:u})]})};const zM=()=>{const t=EA((t=>t.title.displayTitle)),e=EA((t=>t.title.displayPortrait)),n=EA((t=>t.title.ownerLinkUrl)),i=EA((t=>t.title.targetBlank)),r=EA((t=>t.title.portraitImg)),o=EA((t=>t.title.titleLinkUrl)),s=EA((t=>t.title.title)),a=EA((t=>t.title.ownerName)),u=EA((t=>t.title.is360)),l=EA((t=>t.title.hasHDR)),c=EA((t=>t.title.hasHDR10Plus)),d=EA((t=>t.title.hasDolbyVision)),h=EA((t=>t.title.channelLayout)),f=EA((t=>t.title.bylineLinkUrl)),p=EA((t=>t.title.displayByline)),v=EA((t=>t.title.hasAIContent)),m="5.1"===h||"7.1"===h,_=h.startsWith("ambisonic"),b=EA((t=>t.displayList.title)),y=EA((t=>t.embed.badge)),g=EA((t=>t.displayList.badge)),[w,T]=UT(e&&!g),C={is360:u,hasHDRNot10Plus:l&&!c,hasHDR10Plus:c,hasDolbyVision:d,hasAIContent:v,hasSurroundSound:m,clip:EA((t=>t.playback.isSegmentedPlaybackEnabled))},E=Object.values(C).some(Boolean);return XT((()=>{let t;return!g&&e?t=setTimeout((()=>T(!0)),aE):T(!1),()=>clearTimeout(t)}),[g,e]),Tk(uT,{children:[y&&Tk(HM,{}),Tk(NA,{visible:b,children:Tk("div",{className:`${tf.VP_TITLE} Title_module_title__c87a7c0c`,role:"presentation",children:Tk("header",{className:"Title_module_header__c87a7c0c",role:"presentation",children:[w&&Tk("div",{className:"Title_module_portrait__c87a7c0c",children:Tk(IA,{href:n,targetBlank:i,variant:"minimal",className:kf("Title_module_portraitLink__c87a7c0c",vN),tabIndex:b?0:-1,children:Tk("img",{src:r,alt:"Link to video owner's profile",width:"60",height:"60","data-trackClick":bh})})}),Tk("div",{className:"Title_module_headers__c87a7c0c",children:[t&&Tk("div",{className:"Title_module_titleWrapper__c87a7c0c",children:[Tk(IA,{href:o,targetBlank:i,"data-track-click":mh,variant:"minimal",className:kf("Title_module_titleLink__c87a7c0c",fN),tabIndex:b?0:-1,"aria-labelledby":uf.TITLE_TEXT}),Tk("div",{className:"Title_module_textAndTagsWrapper__c87a7c0c","data-title-tags":!!E||void 0,children:[Tk(dN,{id:uf.TITLE_TEXT,className:kf("Title_module_titleText__c87a7c0c"),children:s}),Tk(UM,J(J({},C),{},{hasAmbosonic:_,channelLayout:h,className:"Title_module_titleTag__c87a7c0c"}))]})]}),p&&Tk(IA,{href:f,targetBlank:i,variant:"minimal",className:kf("Title_module_subtitle__c87a7c0c",fN),tabIndex:b?0:-1,children:Tk(dN,{children:a})})]})]})})})]})};var XM="Card_module_text__449914f1";const GM=({id:t,timecode:e,className:n,teaser:i,url:r,imageUrl:o,headline:s,inView:a})=>{const u=EA((t=>t.appearance.isVerticalVideo)),l=EA((t=>t.setCards)),c=EA((t=>t.setPlayback)),d=()=>{l("hoveredCard",null),l("cardPressed",t),r&&c("paused",!0)};return Tk("div",{className:kf("Card_module_card__449914f1",n,a&&"Card_module_active__449914f1",o&&"Card_module_hasThumbnail__449914f1",u&&"Card_module_vertical__449914f1"),onMouseEnter:()=>l("hoveredCard",e),onMouseLeave:()=>l("hoveredCard",null),onClick:d,onKeyUp:t=>{"Enter"===t.key&&d()},role:"link",tabIndex:-1,"aria-hidden":!a,children:Tk(IA,{href:r,className:"Card_module_inner__449914f1",tabIndex:a?0:-1,children:[!!o&&Tk("div",{className:"Card_module_imageWrap__449914f1",children:Tk("img",{className:"Card_module_image__449914f1",src:o,alt:""})}),Tk("div",{className:"Card_module_body__449914f1",children:[Tk(dN,{size:Hv.MD,className:kf(XM,"Card_module_title__449914f1"),color:zv.WHITE,children:s}),!!i&&Tk(dN,{weight:Uv.NORMAL,element:"p",className:`${XM} Card_module_detail__449914f1`,color:zv.WHITE,children:i})]}),!!r&&Tk("div",{className:"Card_module_popOutWrapper__449914f1",children:Tk(PA,{name:bk.POP_OUT,className:"Card_module_popOut__449914f1"})})]})})};const WM=()=>{const t=EA((t=>t.cards.cardsMap)),e=EA((t=>t.cards.displayedCard)),n=EA((t=>t.displayList.cards)),i=EA((t=>t.displayList.fullPlayerElement)),r=t=>e===t&&!i;return n&&Tk("div",{className:"Cards_module_cardsWrapper__9492d3ed",children:t.values().map((t=>Tk(GM,{id:t.id,timecode:t.timecode,className:t.className,teaser:t.teaser,url:t.url,imageUrl:t.imageUrl,headline:t.headline,inView:r(t.timecode)},t.id)))})};const qM=({show:t})=>{const{buffering:e,currentTime:n,loadedTime:i,currentFragment:r}=EA((t=>t.playback)),o=Mf(n,r),s=Mf(i,r);return t&&Tk("div",{className:"TinyProgressBar_module_tinyBar__71fa705b",children:Tk("svg",{className:"TinyProgressBar_module_tinyBarSVG__71fa705b",width:"100%",height:"100%",viewBox:"0 0 70 40",focusable:"false",children:[Tk("defs",{children:[Tk("clipPath",{id:"rounded-border",children:Tk("rect",{height:"100%",width:"100%",x:"0",y:"0",rx:"5"})}),Tk("pattern",{id:"tiny-buffer","data-tiny-buffer-pattern":!0,className:"TinyProgressBar_module_bufferPattern__71fa705b",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"10",height:"10",viewBox:"0 0 10 10",children:[Tk("line",{x1:"5",y1:"-1",x2:"-5",y2:"10",strokeWidth:"2",strokeLinecap:"butt"}),Tk("line",{x1:"10",y1:"-1",x2:"0",y2:"10",strokeWidth:"2",strokeLinecap:"butt"}),Tk("line",{x1:"15",y1:"-1",x2:"5",y2:"10",strokeWidth:"2",strokeLinecap:"butt"})]})]}),Tk("g",{clipPath:"url(#rounded-border)",children:e?Tk("rect",{className:"TinyProgressBar_module_buffer__71fa705b",height:"3",width:"110%",x:"0",y:"37",fill:"url(#tiny-buffer)"}):Tk(uT,{children:[Tk("rect",{className:"TinyProgressBar_module_loaded__71fa705b","data-tiny-loaded":!0,height:"3",width:Of(s),x:"0",y:"37"}),Tk("rect",{className:"TinyProgressBar_module_played__71fa705b","data-tiny-played":!0,height:"3",width:Of(o),x:"0",y:"37"})]})})]})})};var YM="PlayButton_module_trailer__d1afd73a",KM="PlayButton_module_progressExpanded__d1afd73a";const ZM=({className:t,controlBarVisibilityHandlers:e})=>{const n=EA((t=>t.displayList.controlBar)),i=EA((t=>t.liveEvent.isLiveEvent)),r=EA((t=>t.liveEvent.isPlayable)),o=EA((t=>t.liveEvent.isArchived)),s=EA((t=>t.liveEvent.isEnded)),a=EA((t=>t.liveEvent.dvrEnabled)),u=EA((t=>t.setPlayback)),l=EA((t=>t.controlBar.trailerButtonText)),c=EA((t=>t.embed.playbar)),d=EA((t=>t.appearance.playerSizeMode)),h=EA((t=>t.controlBar.isExpanded)),{buttonState:f,setButtonState:p}=GE(),v=ik(),m=!i||r||o||a&&s,_=d===tp.TINY||!c,b=f===sp.TRAILER,y={[sp.PLAY]:{icon:bk.PLAY,onClick:()=>{u("paused",!1),p(sp.PAUSE)},label:"Play",className:"PlayButton_module_playIcon__d1afd73a"},[sp.PAUSE]:{icon:bk.PAUSE,onClick:()=>{u("paused",!0),p(sp.PLAY)},label:"Pause",className:"PlayButton_module_pauseIcon__d1afd73a"},[sp.REPLAY]:{icon:bk.REPLAY,onClick:()=>{u("paused",!1),p(sp.PAUSE)},label:"Play",className:"PlayButton_module_replayIcon__d1afd73a"},[sp.TRAILER]:{icon:bk.PLAY,onClick:()=>{u("paused",!1)},label:"Play",className:"PlayButton_module_trailerIcon__d1afd73a"}}[f],g=v===nk.CENTER,w=kf("PlayButton_module_playButtonWrapper__d1afd73a",g&&"PlayButton_module_center__d1afd73a",b&&YM,h&&!g&&KM),T=kf("PlayButton_module_playButton__d1afd73a",b&&YM,fN,h&&!g&&KM,t);return m&&Tk(NA,{visible:n,children:Tk("div",{className:w,children:Tk(oN,{id:"play-button-tooltip",tooltipContent:y.label,className:"Tooltip_module_playTooltip__d9b61844 "+(b?"Tooltip_module_trailerPlayTooltip__d9b61844":""),children:Tk(wN,{className:T,onClick:y.onClick,icon:Tk(PA,{className:y.className,name:y.icon}),onTouchStart:e.onTouchStart,onTouchEnd:e.onTouchEnd,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,"data-play-button":!0,children:[Tk(qM,{show:_}),b&&Tk("span",{className:"PlayButton_module_text__d1afd73a",children:l||"Watch Trailer"})]})})})})};var JM="ControlBarButton_module_controlBarButton__179d9b92";const QM=t=>{const e=EA((t=>t.displayList.menu));return(Se.touch||e)&&Object.assign(t,{visible:!1}),Tk(oN,J({},t))},tO=["className","icon","children","tooltipLabel","hasTooltip","animating","id"],eO=gC(((t,e)=>{let{className:n="",icon:i,children:r,tooltipLabel:o,hasTooltip:s=!0,animating:a=!1,id:u}=t,l=Q(t,tO);const c=EA((t=>t.appearance.playerBreakpoint)),d=EA((t=>t.displayList.controlBarButtons)),h=kf(JM,fN,n),f=["xl","xxl"].includes(c)?16:8,p=d?0:-1;return s?Tk(QM,{id:u?`${u}-tooltip`:null,tooltipContent:o,margin:f,animating:a,children:Tk(wN,J(J({id:u,ref:e,className:h,icon:i,tabIndex:p},l),{},{children:r}))}):Tk(wN,J({ref:e,className:h,icon:i,tabIndex:p},l))}));const nO=({onFocus:t,ariaHidden:e})=>{const n=EA((t=>t.appearance.fullscreen)),i=EA((t=>t.setAppearance)),r=kf(tf.FULLSCREEN,"FullscreenButton_module_fullscreen__81b38f0e"),o=n?"Exit full screen":"Fullscreen",s=n?bk.EXIT_FULLSCREEN:bk.ENTER_FULLSCREEN;return Tk(eO,{id:cf.FULLSCREEN,onClick:()=>i("fullscreen",!n),onFocus:t,className:r,icon:Tk(PA,{name:s}),tooltipLabel:o,"data-fullscreen-button":!0,"aria-hidden":e})};const iO=gC((({isMenuDisplayed:t,setMenuDisplayed:e,onFocus:n,ariaHidden:i},r)=>{const o=EA((t=>t.appearance.isMenuBlockingUI)),{onClick:s,onKeyDown:a,onMouseDown:u}=XE((()=>e(!t)));return Tk(eO,{id:cf.PREFS,ref:r,className:`${ef.VP_PREFS} PrefsButton_module_prefsButton__cdff1984`,"aria-expanded":t,"aria-haspopup":o?"modal":"true","aria-hidden":i,icon:Tk(PA,{name:bk.GEAR,className:"PrefsButton_module_gearIcon__cdff1984"}),onClick:s,onKeyDown:a,onMouseDown:u,onFocus:n,tooltipLabel:"Settings","data-prefs-button":!0})})),rO=({onFocus:t,ariaHidden:e})=>{const n=EA((t=>t.appearance.pictureInPictureActive)),i=EA((t=>t.setAppearance)),r=n?"Exit Picture-in-Picture":"Picture-in-Picture",o=n?bk.EXIT_PICTURE_IN_PICTURE:bk.ENTER_PICTURE_IN_PICTURE;return Tk(eO,{id:cf.PIP,className:ef.PIP,icon:Tk(PA,{name:o}),onClick:()=>i("pictureInPictureActive",!n),onFocus:t,tooltipLabel:r,"data-pip-button":!0,"aria-hidden":e})},oO=gC((({onFocus:t,ariaHidden:e},n)=>{const i=EA((t=>t.playback.volume)),r=EA((t=>t.playback.muted)),o=r?"Unmute":"Mute",{toggleMuted:s}=rk();return Tk(eO,{ref:n,onClick:s,onFocus:t,icon:Tk(PA,!r&&i>0?{name:bk.VOLUME_ON_FILLED,"data-volume-icon":!0}:{name:bk.VOLUME_OFF_FILLED,"data-volume-muted-icon":!0}),"aria-label":o,"aria-hidden":e,"aria-keyshortcuts":"m","data-volume-button":!0,hasTooltip:!1})}));const sO=()=>{const t=EA((t=>t.controlBar.vimeoLogoUrl)),e=EA((t=>t.appearance.playerBreakpoint));return Tk(IA,{className:kf("VimeoLogoLink_module_vimeoLogo__7428a3b3",fN),href:t,"data-vimeo-logo":!0,"aria-label":"Watch on Vimeo",children:Tk(WN,{playerBreakpoint:e})})},aO=({onFocus:t,ariaHidden:e})=>{const n=EA((t=>t.appearance.showAirPlayPicker)),i=EA((t=>t.setAppearance));return Tk(eO,{onClick:()=>i("showAirPlayPicker",!n),onFocus:t,"aria-label":n?"Turn off AirPlay":"Choose an AirPlay device","aria-hidden":e,tooltipLabel:"AirPlay","data-airplay-button":!0,icon:Tk(PA,{name:bk.AIRPLAY})})},uO=gC((({isMenuDisplayed:t,setMenuDisplayed:e,onFocus:n,ariaHidden:i},r)=>{const o=EA((t=>t.appearance.isMenuBlockingUI)),{onClick:s,onKeyDown:a,onMouseDown:u}=XE((()=>e(!t)));return Tk(eO,{ref:r,onClick:s,onKeyDown:a,onMouseDown:u,onFocus:n,"aria-expanded":t,"aria-haspopup":o?"modal":"true","aria-hidden":i,icon:Tk(PA,{name:bk.CHAPTERS}),tooltipLabel:"Chapters","data-chapter-button":!0,id:cf.CHAPTERS})})),lO=gC((({isMenuDisplayed:t,setMenuDisplayed:e,onFocus:n,ariaHidden:i},r)=>{const o=EA((t=>t.captions.activeTextTrackId)),s=EA((t=>t.appearance.isMenuBlockingUI)),{onClick:a,onKeyDown:u,onMouseDown:l}=XE((()=>e(!t))),c=o&&"off"!==o?bk.CC_FILLED:bk.CC;return Tk(eO,{id:cf.CC,ref:r,className:tf.CC,"aria-haspopup":s?"modal":"true","aria-expanded":t,"aria-hidden":i,icon:Tk(PA,{name:c}),onClick:a,onKeyDown:u,onMouseDown:l,onFocus:n,tooltipLabel:"CC/Subtitles","data-cc-button":!0})})),cO=({onFocus:t,ariaHidden:e})=>{const n=EA((t=>t.setAppearance)),i=EA((t=>t.appearance.stereoscopicEnabled)),r=i?"Disable stereoscopic playback":"Enable stereoscopic playback";return Tk(eO,{className:tf.STEREOSCOPIC,onClick:()=>n("stereoscopicEnabled",!i),onFocus:t,"aria-label":r,"aria-hidden":e,icon:Tk(PA,{name:bk.STEREOSCOPIC}),tooltipLabel:"Stereoscopic","data-stereoscopic-button":!0})};const dO=({onFocus:t,ariaHidden:e})=>{const n=kf(nf.EXCLUDE_GLOBAL_BUTTON_STYLES,"ChromecastButton_module_chromecastButton__a2d33bfd",JM,fN,tf.VP_CAST_BUTTON);return(()=>{const[t,e]=UT(!1);XT((()=>{setTimeout((()=>e(!0)),500)}),[])})(),Tk(oN,{id:"chromecast-control-bar-button-tooltip",tooltipContent:"GoogleCast",children:Tk("button",{className:n,is:"google-cast-button","data-chromecast-button":!0,onFocus:t,"aria-hidden":e})})},hO=({onFocus:t,ariaHidden:e})=>{const n=ek(),i=EA((t=>t.displayList.transcript)),r=EA((t=>t.toggleDisplayList)),o="Transcript",{onClick:s,onKeyDown:a}=XE((()=>{r("transcript"),n(im.EMBEDDED_TRANSCRIPT_CLICK,{name:i?"exit_embed_transcript":"open_embed_transcript",copy:o,location:"control_bar",element:"transcript_button",current_transcript_language:""})})),u=Tk(PA,{name:i?bk.TRANSCRIPT_ON:bk.TRANSCRIPT_OFF}),l=i?[of.TRANSCRIPT_VIEWER,rf.RIGHT_CONTENT_AREA].join(" "):rf.RIGHT_CONTENT_AREA;return Tk(eO,{id:cf.TRANSCRIPT,onClick:s,onKeyDown:a,onFocus:t,icon:u,tooltipLabel:o,"aria-controls":l,"aria-expanded":i,"aria-hidden":e})};const fO=()=>{const t=EA((t=>t.displayList.controlBarButtons)),e=EA((t=>t.setDisplayList)),n=WT(t),[i,r]=UT(!1),o=EA((t=>t.setControlBar));XT((()=>{t!==n.current&&r(!0),n.current=t}),[t]);const s=t?"Hide controls":"Show controls",a=kf("CollapseButton_module_collapseButton__4f243c31",t&&"CollapseButton_module_expanded__4f243c31");return Tk(eO,{id:cf.COLLAPSE,onClick:()=>{const n=!t;o("shouldRestoreButtonsDisplayed",n),e("controlBarButtons",n)},onTransitionEnd:t=>{"transform"===t.propertyName&&r(!1)},tooltipLabel:s,animating:i,tabIndex:0,icon:Tk(PA,{"data-collapse-icon":!0,name:bk.CHEVRON_RIGHT,className:a,"aria-hidden":"true"})})};var pO="CustomLogo_module_progressExpanded__a7229b47";const vO=({className:t})=>{const e=EA((t=>t.displayList.controlBar)),n=EA((t=>t.displayList.accessGate)),i=EA((t=>t.appearance.playerSizeMode))===tp.TINY,r=EA((t=>t.embed.customLogo)),o=EA((t=>t.displayList.ad)),{customLogoUrl:s,customLogoImg:a,customLogoSticky:u}=EA((t=>t.embed.customLogoFields)),l=EA((t=>t.user.ownerName)),c=EA((t=>t.controlBar.isExpanded)),d=r&&!i&&!o,h=!n&&(u||e),f=kf("CustomLogo_module_customLogo__a7229b47",s?"CustomLogo_module_link__a7229b47":"",fN,t,c&&pO),p=kf("CustomLogo_module_customLogoImg__a7229b47",c&&pO);return d&&Tk(NA,{visible:!!h,children:Tk(hN,{classNames:f,imgClassNames:p,url:s,img:a,imgAlt:l})})},mO=({className:t,marker:e})=>{const n=EA((t=>t.setPlayback)),i=EA((t=>t.playback.currentFragment)),r=(e.startTime-i.startTime)/i.duration*100,o=()=>n("currentTime",e.startTime),s="Seek to "+Math.round(100*e.startTime)/100+" seconds.";return Tk("div",{id:`cuepoint-${e.id}`,className:t,style:{left:`${r}%`},"data-time":e.startTime,role:"button","aria-label":s,tabIndex:0,onClick:o,onKeyUp:t=>{["Space","Enter"].includes(t.code)&&o()},"data-cue-point-marker":!0})};const _O=()=>{const t=EA((t=>t.playback.currentFragment)),e=EA((t=>t.cuePoints.cuePoints)),n=EA((t=>t.displayList.progressBar)),i=oS(),r=kf("CuePointMarkers_module_cuePoints__cc046812",mN),o=e.filter((e=>{const n=t.startTime<=e.time&&e.time<=t.endTime,r=i(e.time);return n&&r})).map((t=>({id:t.id,startTime:t.time})));return Tk(uT,{children:!!o.length&&n&&o.map((t=>Tk(mO,{className:r,marker:t},t.startTime)))})};const bO=()=>{const t=EA((t=>t.playback.currentTime)),e=EA((t=>t.playback.currentFragment)),n=EA((t=>t.liveEvent.isLiveEvent)),i=EA((t=>t.liveEvent.isArchived)),r=EA((t=>t.playback.liveEdgeTime)),o=EA((t=>t.playback.liveTailTime)),s=EA((t=>t.playback.atLiveEdge)),a=EA((t=>t.displayList.progressBar)),u=Nf(t,e),l={progressBar:"Progress Bar",ariaTextVOD:Hf(u)+" of "+Hf(e.duration),ariaTextLiveEdge:"Live time at "+Hf(r),ariaTextLiveDVR:Hf(Math.abs(r-u))+" behind Live"};let c=l.ariaTextVOD,d=0,h=e.duration;return n&&!i&&(c=s?l.ariaTextLiveEdge:l.ariaTextLiveDVR,d=Math.round(o),h=Math.round(r)),Tk("div",{className:`FocusTarget_module_focusTarget__00a969cc ${fN}`,role:"slider","aria-label":l.progressBar,"aria-valuemin":d,"aria-valuemax":h,"aria-valuenow":Math.round(u),"aria-valuetext":c,tabIndex:a?0:-1,"data-progress-bar-focus-target":!0})};const yO=({marker:t,setTabFocused:e,setHoverFocused:n})=>{const i=EA((t=>t.setPlayback)),r=EA((t=>t.playback.currentFragment)),o=(t.start-r.startTime)/r.duration,s={visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,id:t.id,start:t.start,left:o};function a(e){i("currentTime",t.start,{action:e.type,seekType:"interactive-marker"})}return Tk("div",{className:kf("InteractiveMarker_module_interactiveMarker__2cec5fab",mN),role:"button",style:{left:Of(o,!1)},"aria-label":t.ariaLabel,"data-time":t.start,tabIndex:0,onClick:a,onKeyUp:t=>{["Space","Enter"].includes(t.code)&&a(t)},onMouseEnter:()=>n(s),onMouseLeave:()=>n(null),onFocus:()=>e(s),onBlur:()=>e(null),"data-hotspot-marker":!0})},gO=({width:t,setHoverFocused:e,setTabFocused:n})=>{const i=EA((t=>t.playback.currentFragment)),r=EA((t=>t.interactive.hotspots)),o=EA((t=>t.interactive.polls)),s=EA((t=>t.interactive.showMarkers)),a=EA((t=>t.displayList.progressBar)),u=oS(),l=function({hotspots:t=[],polls:e=[],fragment:n,progressBarWidth:i}){const r=function(t,e){return[].concat(et(t.map((t=>({id:t.hotspotId,label:Iv,start:t.start,visibleLabel:t.name,ariaLabel:t.name,name:t.name})))),et(e.map((t=>({id:t.pollId,label:Rv,name:t.questionText,visibleLabel:t.questionText,ariaLabel:t.questionText,start:t.start})))))}(t,e);let o,s=1,a=[],u=[];return r.sort(((t,e)=>t.start-e.start)).reduce(((t,e)=>{let{label:r}=e,l=Q(e,Ov);if(!(n.startTime<=l.start&&l.start<=n.endTime))return t;if(r===Iv?l.visibleLabel="Hotspot: "+l.name:r===Rv&&(l.visibleLabel="Poll: "+l.name),l.ariaLabel=l.visibleLabel,l.leftPositionInProgressBar=function(t){return(t-n.startTime)/n.duration*100}(l.start),r===Rv?a.push(l.name):r===Iv&&u.push(l.name),!t.length)return function(t,e,n){return t.push(e),o=n,t}(t,l,r);const c=t.length-1,d=function(t,e,n,i){const r=Lv(t,n,i),o=Lv(e,n,i);return Math.floor(o-r)}(t[c].start-n.startTime,l.start-n.startTime,n.duration,i);return!isNaN(d)&&d<=5?(s+=1,r!==o?function(t,e){o="Hotspots & Polls",t[e].visibleLabel="Hotspots & Polls",t[e].name="Hotspots & Polls",t[e].ariaLabel=u.length+" hotspots: "+u.join(", ")+"; "+a.length+" polls: "+a.join(", ")}(t,c):r===Iv?function(t,e,n){t[e].visibleLabel=s+" hotspots",t[e].name+=`, ${n.name}`,t[e].ariaLabel=s+" hotspots: "+t[e].name}(t,c,l):r===Rv&&function(t,e,n){t[e].visibleLabel=s+" polls",t[e].name+=`, ${n.name}`,t[e].ariaLabel=s+" polls: "+t[e].name}(t,c,l)):isNaN(d)||function(t,e,n){s=1,t.push(e),o=n,a=[],u=[]}(t,l,r),t}),[])}({hotspots:r,polls:o,fragment:i,progressBarWidth:t}).filter((t=>u(t.start)));return!!l.length&&s&&Tk(uT,{children:a&&l.map((t=>Tk(yO,{marker:t,setTabFocused:n,setHoverFocused:e},t.start)))})};const wO=({time:t,left:e,visible:n=!0,disabled:i=!1})=>Tk(NA,{visible:n,children:Tk("div",{className:"Timecode_module_timecodeContainer__66300889",role:"presentation",style:{left:e},"aria-hidden":"true","data-progress-bar-timecode-container":!0,children:Tk("div",{className:"Timecode_module_timecode__66300889 "+(i?"Timecode_module_disabled__66300889":""),"data-progress-bar-timecode":!0,children:Hf(t)})})}),TO=()=>{const t=EA((t=>t.playback.currentTime)),e=EA((t=>t.playback.liveEdgeTime)),n=EA((t=>t.playback.liveTailTime)),i=EA((t=>t.playback.atLiveEdge)),r=EA((t=>t.playback.currentFragment)),o=EA((t=>t.playback.playInitiated)),s=EA((t=>t.playback.paused)),a=EA((t=>t.playback.buffering)),u=EA((t=>t.displayList.progressBar)),l=EA((t=>t.liveEvent.isLiveEvent)),c=EA((t=>t.liveEvent.dvrEnabled)),d=EA((t=>t.liveEvent.isEnded)),h=EA((t=>t.liveEvent.isArchived)),f=l?e:r.duration,p=l&&!h?1:0;let v=f,m=p;const _=Nf(t,r);if(l)if(c){if(c){const s=d&&!o&&0===t,a=h&&0!==r.duration;s?(v=r.duration,m=0):a?(v=t,m=t/r.duration):i?(m=1,v=t):(m=xf(t,n,e),v=t-e)}}else h&&(o||0!==t)?(m=Mf(t,r),v=_):h?(v=r.duration,m=p):(m=1,v=t);else o||0!==_?(m=Mf(t,r),v=_):(v=f,m=p);const b=(!l||h||c&&0!==e||!s&&!a&&0!==e)&&!isNaN(v)&&u;return Tk(wO,{time:v,left:Of(m,!1),disabled:l&&!c,visible:b})};var CO="ThumbnailPreview_module_text__11395132";const EO={xs:120,md:160,xl:200},kO=({visible:t=!1,mousePercent:e=0,progressBarWidth:n,isMousedOverProgress:i=!1,tabOrHoverFocusedMarker:r=null})=>{const o=EA((t=>t.displayList.menu)),s=EA((t=>t.playback.currentFragment)),a=EA((t=>t.playback.duration)),u=EA((t=>t.playback.liveEdgeTime)),l=EA((t=>t.playback.liveTailTime)),c=EA((t=>t.liveEvent.isLiveEvent)),d=EA((t=>t.liveEvent.dvrEnabled)),h=EA((t=>t.liveEvent.isArchived)),f=EA((t=>t.appearance.boundingClientRect)),p=EA((t=>t.appearance.isVerticalVideo)),v=EA((t=>t.appearance.playerBreakpoint)),m=EA((t=>t.verifyConfig)),_=EA((t=>t.chapters.chapters)),b=EA((t=>t.embed.chapters)),y=EA((t=>t.controlBar.thumbnailPreview)),g=EA((t=>t.playback.isSegmentedPlaybackEnabled)),[w,T]=UT({width:0,height:0,backgroundImage:"",backgroundSize:"",backgroundPosition:""}),[C,E]=UT(!1),k=f.height>300&&n>=185,S=0!==u&&!isNaN(u);let A=k&&!o&&(!c||d&&S)&&t;const[N,M]=UT(0);i?M(e):r?M(r.left):A=!1;const O=If(N,s);let I;I=d?h&&0!==s.duration?Rf(N,s):((t,e,n)=>Lf(t,e,n)-n)(N,l,u):Rf(N,s),isNaN(I)&&(A=!1);const R=oS()(O);let L="";if(_.length&&b&&!g){const t=_.find((t=>t.startTime<=O&&t.endTime>=O));L=(null==t?void 0:t.text)||""}const x=(null==r?void 0:r.visibleLabel)||"",D=(t=>{switch(t){case Bv.XL:case Bv.XXL:return"xl";case Bv.SM:case Bv.MD:case Bv.LG:return"md";default:return"xs"}})(v),P=((t,e)=>EO[t]*(e?9/16:1))(D,p),B=P/(null==y?void 0:y.frame_width);return XT((()=>{!C&&k&&t&&y&&m().then((()=>Vk(y.url).then((()=>{E(!0),T({width:y.frame_width*B,height:y.frame_height*B,backgroundImage:`url(${y.url})`,backgroundSize:`${y.width*B}px ${y.height*B}px`,backgroundPosition:""})})))).catch((()=>{}))}),[t,C,k,y,B,m]),XT((()=>{E(!1)}),[y]),XT((()=>{y&&T((t=>J(J({},t),{},{width:y.frame_width*B,height:y.frame_height*B,backgroundSize:`${y.width*B}px ${y.height*B}px`})))}),[v]),XT((()=>{if(y&&k){let t=0,e=0;if(y){const n=a/y.frames,i=Math.min(y.frames-1,Math.ceil(O/n)),r=i%y.columns,o=Math.floor(i/y.columns);t=-r*y.frame_width*B,e=-o*y.frame_height*B}T((n=>J(J({},n),{},{backgroundPosition:`${t}px ${e}px`})))}}),[N,f,y,k,a,B,O]),Tk(NA,{visible:A,children:Tk("div",{className:"ThumbnailPreview_module_thumbnailPreview__11395132",role:"presentation","aria-hidden":"true",style:{left:Of(N,!1),maxWidth:P},children:[!!w.backgroundImage&&C&&R&&Tk("div",{className:`${tf.THUMB} ThumbnailPreview_module_thumbnailPreviewImage__11395132`,style:{width:`${w.width}px`,height:`${w.height}px`,backgroundImage:w.backgroundImage,backgroundSize:w.backgroundSize,backgroundPosition:w.backgroundPosition}}),Tk("div",{className:"ThumbnailPreview_module_thumbnailPreviewText__11395132",children:[x&&Tk("span",{className:CO,children:x}),x&&L&&Tk("span",{className:"ThumbnailPreview_module_separator__11395132"}),L&&Tk("span",{className:CO,children:L}),Tk("span",{className:"ThumbnailPreview_module_time__11395132",children:Hf(I)})]})]})})};var SO="ChapterSegment_module_segmentBar__611ea95b",AO="ChapterSegment_module_seekingDisabled__611ea95b";const NO=({segment:t,className:e})=>{const n=EA((t=>t.embed.seekingForward)),i=EA((t=>t.playback.maxPlayedTime)),r=EA((t=>t.playback.currentFragment)),o=EA((t=>t.playback.loadedTime)),s=aS(t,n?o:i),a=Of(s);return Tk("div",{className:kf("LoadedBar_module_loaded__9af6b4fa",r.duration<60&&"LoadedBar_module_shortVideo__9af6b4fa",e),style:{width:a},"data-progress-bar-loaded":!0})};const MO=({segment:t,className:e})=>{const n=EA((t=>t.playback.currentTime)),i=EA((t=>t.liveEvent.isLiveEvent)),r=EA((t=>t.liveEvent.dvrEnabled)),o=EA((t=>t.liveEvent.isArchived)),s=i&&!r&&!o,a=aS(t,n),u=Of(s?0:a,!1);return Tk("div",{className:kf("PlayedBar_module_played__a3ef1250",e),style:{width:u},"data-progress-bar-played":!0})},OO=({segment:t,isExpanded:e})=>{const n=EA((t=>t.embed.seekingForward)),i=EA((t=>t.playback.currentFragment)),r=EA((t=>t.playback.liveEdgeTime)),o=EA((t=>t.liveEvent.isLiveEvent)),s=EA((t=>t.liveEvent.dvrEnabled)),a=EA((t=>t.liveEvent.isArchived)),u=o&&!a,l=0!==r&&!isNaN(r),c=o?1:((t,e)=>(t.endTime-t.startTime)/e.duration)(t,i),d=Of(c,!1),h=u&&(!s||!l),f=oS()(t.startTime),p=kf("ChapterSegment_module_chapterWrapper__611ea95b",h&&"ChapterSegment_module_liveDisabled__611ea95b",!n&&AO,e&&"ChapterSegment_module_expanded__611ea95b",(h||!f)&&"ChapterSegment_module_hoverDisabled__611ea95b"),v=kf("ChapterSegment_module_chapter__611ea95b",!n&&AO);return Tk("div",{className:p,style:{width:`calc(${d} - ${t.startTime===i.startTime?0:2}px)`},children:Tk("div",{className:v,children:[Tk(NO,{segment:t,className:SO}),Tk(MO,{segment:t,className:SO})]})})};const IO=({hoveredChapterId:t})=>{const e=EA((t=>t.playback.currentFragment)),n=EA((t=>t.chapters.chapters)),i=EA((t=>t.embed.chapters)),r=EA((t=>t.appearance.playerBreakpoint)),o=EA((t=>t.playback.isSegmentedPlaybackEnabled)),s=EA((t=>t.controlBar.isExpanded));let a;return a=r===Bv.XXS||!i||o?[{startTime:e.startTime,endTime:e.endTime}]:((t,e)=>{const n=Df(t,e);let i=[];return 0===n.length?i.push({startTime:e.startTime,endTime:e.endTime}):n.forEach(((t,r)=>{let o=t.startTime,s=t.endTime;0===r&&t.startTime>e.startTime&&i.push({startTime:e.startTime,endTime:t.startTime}),0===r&&t.startTime<e.startTime&&(o=e.startTime),r===n.length-1&&t.endTime>e.endTime&&(s=e.endTime),i.push({startTime:o,endTime:s,chapterId:t.startTime})})),i})(n,e),Tk("div",{className:"ChapterSegments_module_chapterSegmentsWrapper__e2d21102",children:a.map((e=>Tk(OO,{segment:e,isExpanded:s||e.chapterId===t},e.startTime)))})};const RO=({hoveredChapterId:t})=>{const e=kA(),n=EA((t=>t.playback.liveEdgeTime)),i=EA((t=>t.liveEvent.isLiveEvent)),r=EA((t=>t.liveEvent.isArchived)),o=EA((t=>t.liveEvent.dvrEnabled)),s=EA((t=>t.controlBar.isExpanded)),a=EA((t=>t.displayList.progressBar)),[u,l]=UT(!1),[c,d]=UT(!1),[h,f]=UT(0),[p,v]=UT(null),[m,_]=UT(null),[b,y]=UT(null),g=WT(null),w=WT(null),T=WT(Af(null==g?void 0:g.current)),[C,E]=UT(T.current.rightOffsetValue-T.current.leftOffsetValue);function k(){const t=Af(null==g?void 0:g.current);T.current=t,E(T.current.rightOffsetValue-T.current.leftOffsetValue)}_k(g,k);const{startExpandingProgressBar:S,endExpandingProgressBar:A,onExpandTransitionEnd:N}=(()=>{const t=WT(null),e=WT(null),n=kA(),i=EA((t=>t.setControlBar));return{startExpandingProgressBar:function(){clearTimeout(t.current),clearTimeout(e.current),t.current=setTimeout((()=>{"expanded"!==n.getState().controlBar.expandedState&&i("expandedState","expanding")}),aE)},endExpandingProgressBar:function(){clearTimeout(t.current),clearTimeout(e.current);const r=n.getState().controlBar.expandedState;"collapsed"!==r&&("expanded"===r?e.current=setTimeout((()=>{i("expandedState","collapsing")}),aE):i("expandedState","collapsing"))},onExpandTransitionEnd:function(){const t=n.getState().controlBar.expandedState;"expanding"===t?i("expandedState","expanded"):"collapsing"===t&&i("expandedState","collapsed")}}})(),{startScrub:M,continueScrub:O,endScrub:I}=sS(),R=(t,e=3)=>sh(eh((t-T.current.leftOffsetValue)/(T.current.rightOffsetValue-T.current.leftOffsetValue),0,1),e);function L(t){const{clientX:e}=t,n=R(e);f(n)}function x(t){const n=(t=>{let{clientX:e}=t;return t.targetTouches&&t.targetTouches.length>0&&(e=t.targetTouches[0].clientX,t.preventDefault()),e})(t),i=R(n),{liveEvent:r,playback:o}=e.getState();return!r.dvrEnabled||r.isArchived&&0!==o.currentFragment.duration?If(i,o.currentFragment):Lf(i,o.liveTailTime,o.liveEdgeTime)}function D(t){if(2===(null==t?void 0:t.button)||null!=t&&t.ctrlKey)return;const e=x(t);if(M(e),"pointerdown"===t.type||"MSPointerDown"===t.type){v(t.pointerId);try{t.target.msSetPointerCapture?t.target.msSetPointerCapture(p):t.target.setPointerCapture(p)}catch(t){}document.addEventListener("pointermove",P),document.addEventListener("pointerup",B)}else"touchstart"===t.type?(document.addEventListener("touchmove",P),document.addEventListener("touchend",B),S()):(document.addEventListener("mousemove",P),document.addEventListener("mouseup",B))}function P(t){if(p&&p!==t.pointerId||!1===t.isPrimary)return;const e=x(t);O(e)}function B(t){const e=t.type;"pointerup"===e||"MSPointerUp"===e?(document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",B),v(null)):"touchend"===e?(document.removeEventListener("touchmove",P),document.removeEventListener("touchend",B),A()):(document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",B)),I()}XT((()=>()=>{document.removeEventListener("touchmove",P),document.removeEventListener("touchend",B),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",B),document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",B)}),[]);let $={};(!i||o&&n||r)&&($=Se.pointerEvents?{onPointerDown:D}:{onTouchStart:D,onMouseDown:D});const j=kf("ProgressBar_module_progressBarContainer__8f93bbb9",!a&&"ProgressBar_module_progressHidden__8f93bbb9",s&&"ProgressBar_module_progressExpanded__8f93bbb9"),V=kf(ef.VP_PROGRESS,"ProgressBar_module_progressBar__8f93bbb9");return Tk("div",{className:j,ref:w,onTransitionEnd:function(t){t.target===(null==w?void 0:w.current)&&"flex-shrink"===t.propertyName&&N()},children:Tk("div",J(J({className:V,"data-progress-bar":!0,ref:g,onMouseEnter:t=>{k(),L(t),d(!0)},onMouseMove:t=>{L(t),l(!1),_(null)},onMouseLeave:()=>d(!1),onFocus:()=>l(!0),onBlur:()=>l(!1),role:"presentation"},$),{},{children:[Tk(bO,{}),Tk(IO,{hoveredChapterId:t}),Tk(_O,{}),Tk(gO,{width:C,setTabFocused:_,setHoverFocused:y}),Tk(kO,{visible:c||u,mousePercent:h,isMousedOverProgress:c,progressBarWidth:C,tabOrHoverFocusedMarker:m||b}),Tk(TO,{})]}))})};const LO=({setMenuDisplayed:t})=>{const e=EA((t=>t.setDisplayList));return Tk(wN,{className:"DebugPanelButton_module_debugPanelButton__9c678770",onClick:()=>{t(!1),e("debugPanel",!0)},icon:Tk(PA,{className:"DebugPanelButton_module_debugPanelButtonIcon__9c678770",name:bk.INFO_CIRCLE}),color:jv.ALTERNATIVE,iconSize:$v.XS,"aria-haspopup":"dialog",children:Tk(dN,{size:Hv.SM,weight:Uv.NORMAL,children:"Debug log"})})},xO={[qE.EMPTY]:()=>Tk(uT,{}),[qE.PREFS]:({setPanel:t,setMenuDisplayed:e})=>{const n=EA((t=>t.embed.speedChangeEnabled)),i=EA((t=>t.embed.multipleAudioTracks)),r=EA((t=>t.embed.quality)),o=EA((t=>t.playback.qualities)),s=EA((t=>t.playback.currentQuality)),a=EA((t=>t.playback.playbackRates)),u=EA((t=>t.playback.audioTracks)),l=r&&(null==o?void 0:o.length)>0,c=i&&(null==u?void 0:u.length)>1,d=(t=[])=>{var e;return null==(e=t.find((t=>t.active)))?void 0:e.label},h=d(a),f={quality:{label:"Quality",value:"Auto"===s?"Auto":s,onSelect:()=>t(qE.QUALITY),hasPopup:!0},speed:{label:"Speed",value:"Normal"===h?"Normal":h,onSelect:()=>t(qE.SPEED),hasPopup:!0},audio:{label:"Audio",value:d(u),onSelect:()=>t(qE.AUDIO),hasPopup:!0}};return Tk(uT,{children:[l&&Tk(qA,J({},f.quality)),n&&Tk(qA,J({},f.speed)),c&&Tk(qA,J({},f.audio)),Se.touch&&Tk(uT,{children:[Tk(zA,{buffer:!0}),Tk(LO,{setMenuDisplayed:e})]})]})},[qE.QUALITY]:()=>{const{qualities:t}=EA((t=>t.playback)),e=EA((t=>t.setPlayback)),n=t.map((t=>J(J({},t),{},{label:"Auto"===t.label?"Auto":t.label})));return Tk(JA,{items:n,onSelect:t=>e("qualities",t.currentTarget.dataset.id)})},[qE.SPEED]:()=>{const{playbackRates:t}=EA((t=>t.playback)),e=EA((t=>t.setPlayback)),n=t.map((t=>J(J({},t),{},{label:"Normal"===t.label?"Normal":t.label})));return Tk(JA,{items:n,onSelect:t=>e("playbackRates",t.currentTarget.dataset.id)})},[qE.AUDIO]:()=>{const t=EA((t=>t.playback.audioTracks)),e=EA((t=>t.setPlayback)),n=ek(),i=WT(!1),r=WT(t.find((t=>!!t.enabled)));return XT((()=>{const t=r.current.label,e=cm[r.current.provenance];return n(im.MULTI_AUDIO_TRACK_CLICK,{event_name:"audio_menu_opened",has_selected_track:i.current,initial_track:t,initial_track_provenance:e}),()=>{n(im.MULTI_AUDIO_TRACK_CLICK,{event_name:"audio_menu_closed",has_selected_track:i.current,initial_track:t,initial_track_provenance:e})}}),[n]),Tk(JA,{items:t,onSelect:o=>{e("audioTracks",o.currentTarget.dataset.id),i.current=!0;const s=t.find((t=>t.id===o.currentTarget.dataset.id));n(im.MULTI_AUDIO_TRACK_CLICK,{event_name:"select_audio_track",track_selected:s.label,track_selected_provenance:cm[s.provenance],has_selected_track:i.current,initial_track:r.current.label,initial_track_provenance:cm[r.current.provenance]})}})}},DO={[qE.EMPTY]:()=>Tk(uT,{}),[qE.QUALITY]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Quality",onBack:t,setMenuDisplayed:e}),[qE.SPEED]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Speed",onBack:t,setMenuDisplayed:e}),[qE.PREFS]:({setMenuDisplayed:t})=>EA((t=>t.appearance.isMenuBlockingUI))&&Tk(XA,{title:"Settings",setMenuDisplayed:t}),[qE.AUDIO]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Audio",onBack:t,setMenuDisplayed:e})},PO=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n,progressBarAndButtonsRef:i})=>{const r=qE.PREFS,{panel:o,setPanel:s,goToPreviousPanel:a}=rS(r,t),u=EA((t=>t.playback.playbackRates)),l=(t=>xO[t]||xO[qE.EMPTY])(o),c=(t=>DO[t]||DO[qE.EMPTY])(o),d=o===qE.SPEED?u.length:null;return Tk(FA,{ariaLabel:"Settings",type:WE.PREFS,isMenuDisplayed:t,setMenuDisplayed:e,panel:o,buttonRef:n,progressBarAndButtonsRef:i,toggleKey:up.PrefsMenu,panelContent:Tk(l,{setPanel:s,setMenuDisplayed:e}),headerContent:Tk(c,{setPanel:s,setMenuDisplayed:e,onBack:a}),resizeDependencies:d,onBack:a})},BO=({setMenuDisplayed:t})=>EA((t=>t.appearance.isMenuBlockingUI))&&Tk(XA,{title:"Chapters",setMenuDisplayed:t});const $O=({linkUrl:t,hoverStyles:e,chapterId:n,ariaDescribedBy:i})=>{const o=WT(null),s=WT(null),[a,u]=UT(!1),l=kf(Se.touch&&"CopyLinkButton_module_touchDevice__b24b40c0","CopyLinkButton_module_copyLinkButton__b24b40c0",e),c=()=>{clearTimeout(o.current),clearTimeout(s.current)},d=ek(),h=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(e){return e.preventDefault(),e.stopPropagation(),function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(yf(t),(function(){d(im.SHARE_CHAPTER,{chapter_id:n}),u(!0),c(),o.current=setTimeout((()=>u(!1)),2e3)}))}));return Tk(oN,{id:"copy-link-button-tooltip",tooltipContent:a||Se.touch?Tk("span",{className:"CopyLinkButton_module_linkCopied__b24b40c0",children:[Tk(PA,{name:bk.CHECKMARK,className:"CopyLinkButton_module_linkCopiedIcon__b24b40c0"}),"Link copied"]}):"Copy link",visible:a,position:iN.LEFT,margin:4,preventFocusOnClick:!0,children:Tk(wN,{icon:Tk("div",{className:"CopyLinkButton_module_shareIconContainer__b24b40c0",children:Tk(PA,{name:bk.LINK})}),iconSize:$v.MD,className:l,onMouseLeave:()=>{c(),s.current=setTimeout((()=>u(!1)),150)},onClick:h,role:"menuitem","aria-describedby":i})})};var jO="ChaptersPanelMenuOption_module_active__aad1c14d";const VO=({startTime:t,id:e,chapterId:n,active:i,label:r,onMouseEnter:o,onMouseLeave:s,onSelect:a})=>{const u=EA((t=>t.embed.seekingForward)),l=EA((t=>t.embed.parentUrl)),c=EA((t=>t.chapters.chapterShareBaseUrl)),d=EA((t=>t.debug.clipId)),h=oS()(t),{onClick:f,onKeyDown:p}=XE(a),v=kf("ChaptersPanelMenuOption_module_chapterListItem__aad1c14d",i&&jO,!h&&"ChaptersPanelMenuOption_module_disabled__aad1c14d"),m=kf(i&&jO,"ChaptersPanelMenuOption_module_chapterListButton__aad1c14d",nf.EXCLUDE_GLOBAL_BUTTON_STYLES),_=l?function(t,e,n){const[i]=n.split("#");return`${i}#vimeo_chapter_${t}=${e}`}(d,n,l):function(t,e){if(!e)return"";const[n]=e.split("#");return`${n}#chapter=${t}`}(n,c);return Tk("div",{className:v,children:[Tk("button",J(J({id:e,role:"menuitem","data-id":e,disabled:!h||null,"data-testid":"chapter-list-item-button",tabIndex:0,className:m,onClick:f,onKeyDown:p,onMouseEnter:o,onMouseLeave:s},rN),{},{children:Tk("div",{className:"ChaptersPanelMenuOption_module_chapterInfoContainer__aad1c14d",children:[Tk("div",{className:"ChaptersPanelMenuOption_module_chapterTitleText__aad1c14d",children:r}),Tk("div",{className:"ChaptersPanelMenuOption_module_chapterStartTime__aad1c14d",children:Hf(t)})]})})),_&&u&&Tk($O,{linkUrl:_,chapterId:n,hoverStyles:"ChaptersPanelMenuOption_module_copyLinkButton__aad1c14d",ariaDescribedBy:e})]},e)},FO=({setMenuDisplayed:t,onMenuOptionMouseEnter:e,onMenuOptionMouseLeave:n})=>{const i=EA((t=>t.events)),r=EA((t=>t.chapters.chapters)),o=EA((t=>t.chapters.activeCueId)),s=ek(),a=r.map((t=>({label:t.text,id:t.cueId,active:t.cueId===o,startTime:t.startTime,chapterId:t.chapterId})));return Tk(JA,{items:a,onSelect:e=>{const n=e.currentTarget.dataset.id;"string"==typeof n&&(i.fire(Nh.xu,parseFloat(n)+.001,"menu"),s(im.CHAPTER_SELECTED,{chapter_id:parseInt(n),provenance:null})),t(!1)},onMenuOptionMouseEnter:e,onMenuOptionMouseLeave:n,itemComponent:VO})},HO=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n,progressBarAndButtonsRef:i,onMenuOptionMouseEnter:r,onMenuOptionMouseLeave:o})=>Tk(FA,{ariaLabel:"Chapters",type:WE.CHAPTERS,isMenuDisplayed:t,setMenuDisplayed:e,panel:qE.CHAPTERS,buttonRef:n,progressBarAndButtonsRef:i,panelContent:Tk(FO,{setMenuDisplayed:e,onMenuOptionMouseEnter:r,onMenuOptionMouseLeave:o}),headerContent:Tk(BO,{setMenuDisplayed:e})});const UO=({updateMetricsPayload:t})=>{const e=EA((t=>t.resetCaptionsStyles));return Tk(wN,J(J({className:`${nf.EXCLUDE_GLOBAL_BUTTON_STYLES} ResetButton_module_resetButton__33762fc2 ${fN}`,withActive:!1,styled:!1,role:"menuitem"},bf((()=>{e(),t({has_reset_all:!0,final_action_reset_all:!0})}))),{},{children:Tk("span",{children:"Reset all"})}))};const zO=()=>{const t=EA((t=>t.captions.fontSize)),e=EA((t=>t.captions.fontFamily)),n=EA((t=>t.captions.fontOpacity)),i=EA((t=>t.captions.color)),r=EA((t=>t.captions.bgColor)),o=EA((t=>t.captions.bgOpacity)),s=EA((t=>t.captions.windowOpacity)),a=EA((t=>t.captions.windowColor)),u=EA((t=>t.captions.edgeStyle)),l=EA((t=>t.appearance.videoHeight));return Tk("div",{className:"PreviewWindow_module_previewWindow__13200e2c",role:"menuitem",children:Tk("div",{className:"PreviewWindow_module_checkeredBackground__13200e2c",children:Tk(NN,{cues:[{html:"This is a preview\n of a caption"}],fontSize:t,fontFamily:e,fontOpacity:n,color:i,bgColor:r,bgOpacity:o,windowOpacity:s,windowColor:a,edgeStyle:u,height:l})})})},XO=({setPanel:t})=>{const e=EA((t=>t.appearance.isMenuBlockingUI)),n=EA((t=>t.appearance.isMenuVerticalVideoMode));return(e||n)&&Tk(uT,{children:[Tk(zA,{}),Tk(qA,{label:"Preview",onSelect:()=>t(qE.PREVIEW),hasPopup:!0})]})},GO={[qE.EMPTY]:()=>Tk(uT,{}),[qE.LANGUAGES]:({setPanel:t,updateMetricsPayload:e})=>{const n=EA((t=>t.captions.textTracks)),i=EA((t=>t.setCaptions)),r={customize:{label:"Customize",onSelect:()=>{t(qE.CUSTOMIZE),e({has_clicked_customize:!0})},hasPopup:!0}};return Tk(uT,{children:[Tk(JA,{items:n,onSelect:t=>{const r=t.currentTarget.dataset.id,o=n.find((t=>t.id===r));i("activeTextTrackId",r),e({language_selected:null==o?void 0:o.language,language_provenance:(null==o?void 0:o.provenance)||null,has_updated_language:!0})}}),Tk(zA,{buffer:!0}),Tk(qA,J({},r.customize)),Tk(XO,{setPanel:t})]})},[qE.CUSTOMIZE]:({setPanel:t,updateMetricsPayload:e})=>{const n={font:{label:"Font",onSelect:()=>{t(qE.FONT),e({has_clicked_font:!0})},size:YE.SMALL,hasPopup:!0},background:{label:"Background",onSelect:()=>{t(qE.BACKGROUND),e({has_clicked_background:!0})},size:YE.SMALL,hasPopup:!0},window:{label:"Window",onSelect:()=>{t(qE.WINDOW),e({has_clicked_window:!0})},size:YE.SMALL,hasPopup:!0}};return Tk(uT,{children:[Tk(qA,J({},n.font)),Tk(qA,J({},n.background)),Tk(qA,J({},n.window)),Tk(UO,{updateMetricsPayload:e}),Tk(XO,{setPanel:t})]})},[qE.FONT]:({setPanel:t,updateMetricsPayload:e})=>{const n=EA((t=>t.setCaptions)),i=EA((t=>t.captions.fontSize)),r=EA((t=>t.captions.fontFamily)),o=EA((t=>t.captions.fontOpacity)),s=EA((t=>t.captions.color)),a=EA((t=>t.captions.edgeStyle)),u=sb(),l=()=>e({has_changed_font:!0,final_action_reset_all:!1}),c={fontFamily:{label:u.fontFamily.title,items:Sf(u.fontFamily.items,r),onSelect:t=>{n("fontFamily",t.currentTarget.dataset.id),l()},id:df.FONT_FAMILY_ACCORDION},color:{label:u.color.title,labelId:df.VP_CC_FONT_COLOR_LABEL,items:Sf(u.color.items,s),onSelect:t=>{n("color",t.currentTarget.dataset.id),l()}},fontSize:{label:u.fontSize.title,labelId:df.VP_CC_FONT_SIZE_LABEL,items:Sf(u.fontSize.items,`${i}`),onSelect:t=>{n("fontSize",t.currentTarget.dataset.id),l()}},fontOpacity:{label:u.fontOpacity.title,labelId:df.VP_CC_FONT_OPACITY_LABEL,items:Sf(u.fontOpacity.items,o),onSelect:t=>{n("fontOpacity",t.currentTarget.dataset.id),l()}},edgeStyle:{label:u.edgeStyle.title,labelId:df.VP_CC_FONT_EDGE_STYLE_LABEL,items:Sf(u.edgeStyle.items,a),onSelect:t=>{n("edgeStyle",t.currentTarget.dataset.id),l()},id:df.EDGE_STYLE_ACCORDION}};return Tk(uT,{children:[Tk(QA,J({},c.fontFamily)),Tk(nN,J({},c.color)),Tk(eN,J({},c.fontSize)),Tk(eN,J({},c.fontOpacity)),Tk(QA,J({},c.edgeStyle)),Tk(UO,{updateMetricsPayload:e}),Tk(XO,{setPanel:t})]})},[qE.BACKGROUND]:({setPanel:t,updateMetricsPayload:e})=>{const n=EA((t=>t.setCaptions)),i=EA((t=>t.captions.bgColor)),r=EA((t=>t.captions.bgOpacity)),o=sb(),s=()=>e({has_changed_background:!0,final_action_reset_all:!1}),a={bgColor:{label:o.bgColor.title,labelId:df.VP_CC_BACKGROUND_COLOR_LABEL,items:Sf(o.bgColor.items,i),onSelect:t=>{n("bgColor",t.currentTarget.dataset.id),s()}},bgOpacity:{label:o.bgOpacity.title,labelId:df.VP_CC_BACKGROUND_OPACITY_LABEL,items:Sf(o.bgOpacity.items,r),onSelect:t=>{n("bgOpacity",t.currentTarget.dataset.id),s()}}};return Tk(uT,{children:[Tk(nN,J({},a.bgColor)),Tk(eN,J({},a.bgOpacity)),Tk(UO,{updateMetricsPayload:e}),Tk(XO,{setPanel:t})]})},[qE.WINDOW]:({setPanel:t,updateMetricsPayload:e})=>{const n=EA((t=>t.setCaptions)),i=EA((t=>t.captions.windowOpacity)),r=EA((t=>t.captions.windowColor)),o=sb(),s=()=>e({has_changed_window:!0,final_action_reset_all:!1}),a={windowColor:{label:o.windowColor.title,labelId:df.VP_CC_WINDOW_COLOR_LABEL,items:Sf(o.windowColor.items,r),onSelect:t=>{n("windowColor",t.currentTarget.dataset.id),s()}},windowOpacity:{label:o.windowOpacity.title,labelId:df.VP_CC_WINDOW_OPACITY_LABEL,items:Sf(o.windowOpacity.items,i),onSelect:t=>{n("windowOpacity",t.currentTarget.dataset.id),s()}}};return Tk(uT,{children:[Tk(nN,J({},a.windowColor)),Tk(eN,J({},a.windowOpacity)),Tk(UO,{updateMetricsPayload:e}),Tk(XO,{setPanel:t})]})},[qE.PREVIEW]:({updateMetricsPayload:t})=>Tk(uT,{children:[Tk(zO,{}),Tk(UO,{updateMetricsPayload:t})]})},WO={[qE.EMPTY]:()=>Tk(uT,{}),[qE.LANGUAGES]:({setMenuDisplayed:t})=>EA((t=>t.appearance.isMenuBlockingUI))&&Tk(XA,{title:"CC/Subtitles",setMenuDisplayed:t}),[qE.CUSTOMIZE]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Customize",onBack:t,setMenuDisplayed:e}),[qE.FONT]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Font",onBack:t,setMenuDisplayed:e}),[qE.BACKGROUND]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Background",onBack:t,setMenuDisplayed:e}),[qE.WINDOW]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Window",onBack:t,setMenuDisplayed:e}),[qE.PREVIEW]:({onBack:t,setMenuDisplayed:e})=>Tk(XA,{title:"Preview",onBack:t,setMenuDisplayed:e})},qO=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n,progressBarAndButtonsRef:i})=>{const r=qE.LANGUAGES,{panel:o,setPanel:s,goToPreviousPanel:a}=rS(r,t),u=(t=>GO[t]||GO[qE.EMPTY])(o),l=(t=>WO[t]||WO[qE.EMPTY])(o),{sendBPClosedCaptionsClickEvent:c,updateCCMetricsPayload:d}=((t=n_)=>{const e=EA((t=>t.config)),n=EA((t=>t.captions.language)),i=EA((t=>t.captions.provenance)),r=EA((t=>t.captions.fontSize)),o=EA((t=>t.captions.fontOpacity)),s=EA((t=>t.captions.fontFamily)),a=EA((t=>t.captions.color)),u=EA((t=>t.captions.edgeStyle)),l=EA((t=>t.captions.bgColor)),c=EA((t=>t.captions.bgOpacity)),d=EA((t=>t.captions.windowColor)),h=EA((t=>t.captions.windowOpacity)),f=WT({fontSize:r,fontOpacity:o,fontColor:a,fontFamily:s,edgeStyle:u,bgColor:l,bgOpacity:c,windowColor:d,windowOpacity:h}),p=WT({language_selected:n||"off",has_updated_language:!1,prev_selected_language:n||"off",language_provenance:i||null,prev_language_provenance:i||null,has_clicked_customize:!1,has_customized:!1,has_clicked_font:!1,has_changed_font:!1,has_clicked_background:!1,has_changed_background:!1,has_clicked_window:!1,has_changed_window:!1,has_reset_all:!1,final_action_reset_all:!1}),v=YT((t=>{p.current=J(J({},p.current),t)}),[]);return XT((function(){const t=r!==f.current.fontSize||a!==f.current.fontColor||s!==f.current.fontFamily||o!==f.current.fontOpacity||u!==f.current.edgeStyle||l!==f.current.bgColor||c!==f.current.bgOpacity||d!==f.current.windowColor||h!==f.current.windowOpacity;v({has_customized:t})}),[r,o,a,s,u,l,c,d,h,v]),{sendBPClosedCaptionsClickEvent:()=>{t(im.CLOSED_CAPTIONS_CLICK,e,p.current),p.current=J(J({},p.current),{},{prev_language_provenance:p.current.language_provenance||null,prev_selected_language:p.current.language_selected,has_updated_language:!1,has_clicked_customize:!1,has_customized:!1,has_clicked_font:!1,has_changed_font:!1,has_clicked_background:!1,has_changed_background:!1,has_clicked_window:!1,has_changed_window:!1,has_reset_all:!1,final_action_reset_all:!1}),f.current={fontSize:r,fontOpacity:o,fontColor:a,fontFamily:s,edgeStyle:u,bgColor:l,bgOpacity:c,windowColor:d,windowOpacity:h}},updateCCMetricsPayload:v}})(),h=WT(t);return XT((()=>{h.current&&!t&&c(),h.current=t}),[t,c]),Tk(FA,{type:WE.CC,ariaLabel:"CC/Subtitles",isMenuDisplayed:t,setMenuDisplayed:e,panel:o,buttonRef:n,progressBarAndButtonsRef:i,toggleKey:up.CCMenu,onBack:a,panelContent:Tk(u,{setPanel:s,setMenuDisplayed:e,onBack:a,updateMetricsPayload:d}),headerContent:Tk(l,{setPanel:s,setMenuDisplayed:e,onBack:a})})};const YO=({buttonProperties:t={}})=>{const e=WT(null),n=WT(null),i=EA((t=>t.setPlayback)),r=EA((t=>t.setDisplayList)),o=EA((t=>t.playback.volume)),s=EA((t=>t.playback.muted))?0:o,a=EA((t=>t.playback.supportsSettingVolume)),u=EA((t=>t.displayList.controlBar)),[l,c]=UT(!1),d=100*s,[h,f]=UT(!1),[p,v]=UT(!1),m=ak(Gv.VOLUME_SLIDER)&&a,_=l&&m,b=Math.round(100*s)+"% volume";XT((()=>{u||c(!1)}),[u]);const y=t=>{S(t)},g=()=>{c(!0),r("menu",!1)},w=t=>{Ef(e.current,t)||Ef(null==n?void 0:n.current,t)||c(!1),f(!1),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",y),document.removeEventListener("pointerup",w),document.removeEventListener("pointermove",y)},T=t=>{f(!0),S(t),Se.pointerEvents?(document.addEventListener("pointerup",w),document.addEventListener("pointermove",y)):(document.addEventListener("mouseup",w),document.addEventListener("mousemove",y))},C=()=>{h||c(!1)},E=()=>v(!0),k=()=>v(!1);function S(t){let n=t.clientY;t.targetTouches&&t.targetTouches.length&&(n=t.targetTouches[0].clientY,t.preventDefault());const r=function(t){const n=Jd(e.current).top,i=Jd(e.current).bottom;return eh((i-t)/(i-n),0,100)}(n);i("volume",r)}const A=kf("VolumeControl_module_volumeControl__a0c94891",ef.VOLUME,fN),N=kf("VolumeControl_module_volumeBar__a0c94891",p||h?"VolumeControl_module_mouseEnteredSlider__a0c94891":""),M=!m||t.ariaHidden||void 0,O=Se.pointerEvents?{onPointerEnter:g,onPointerLeave:C}:{onMouseEnter:g,onMouseLeave:C},I=Se.pointerEvents?{onPointerDown:T,onPointerEnter:E,onPointerLeave:k}:{onMouseDown:T,onMouseEnter:E,onMouseLeave:k};return Tk("div",J(J({className:"VolumeControl_module_volumeControlContainer__a0c94891"},O),{},{"data-volume-control-container":!0,children:[Tk(oO,J({ref:n},t)),Tk(NA,{visible:_,children:Tk("div",J(J({role:"slider",className:A,ref:e,tabIndex:m?0:-1,"aria-label":"Volume (use up/down arrow keys to change)","aria-valuenow":100*s,"aria-valuetext":b,"aria-valuemin":0,"aria-valuemax":100,"aria-hidden":M,onBlur:()=>{h||c(!1)},onFocus:()=>{c(!0),r("menu",!1)},onTouchMove:S},I),{},{"data-volume-control":!0,children:Tk("div",{className:N,children:[Tk("div",{className:"VolumeControl_module_volumeBarFill__a0c94891",style:{height:`${d}%`}}),Tk("div",{className:"VolumeControl_module_sliderHandle__a0c94891",style:{bottom:`${d}%`}})]})}))})]}))};var KO="ControlBarButtonsAndMenus_module_progressHidden__83ef5043",ZO="ControlBarButtonsAndMenus_module_buttonsHidden__83ef5043",JO="ControlBarButtonsAndMenus_module_collapsingEnabled__83ef5043",QO="ControlBarButtonsAndMenus_module_canScroll__83ef5043";const tI=[sk.VIMEO_LOGO],eI=({menuProps:t})=>{const e=kA(),n=EA((t=>t.appearance.isMenuBlockingUI)),i=EA((t=>t.appearance.isMenuVerticalVideoMode)),r=EA((t=>t.controlBar.showAllControls)),o=EA((t=>t.displayList.controlBarButtons)),s=EA((t=>t.displayList.progressBar)),u=EA((t=>t.controlBar.isExpanded)),l=KE(),c=(()=>{const t=EA((t=>t.playback.canPlayPictureInPicture)),e=EA((t=>t.embed.fullscreen)),n=EA((t=>t.embed.showVimeoLogo)),i=EA((t=>t.embed.volume)),r=EA((t=>t.appearance.fullscreen)),o=EA((t=>t.embed.airplay)),s=EA((t=>t.playback.supportsAirPlay)),a=EA((t=>t.embed.chromecast)),u=EA((t=>t.chromecast.supportsChromecast)),l=EA((t=>t.chromecast.isChromecastReady)),c=EA((t=>t.appearance.stereoscopicEnabled)),d=EA((t=>t.playback.supportsStereoscopic)),h=EA((t=>t.displayList.ad)),f=EA((t=>t.playback.loadedMetadata)),p=EA((t=>{var e;return null==(e=t.interactive.hotspots)?void 0:e.length})),v=EA((t=>t.interactive.enabled)),m=EA((t=>t.interactive.ready)),_=EA((t=>t.liveEvent.isLiveEvent)),b=EA((t=>t.liveEvent.isArchived)),y=!!v&&(!m||p),g=s&&f&&!h&&!y&&o,w=a&&u&&l&&!h&&!y&&(!_||b),T=c&&d&&!h,C=t&&!h,E=(e||r)&&!(Se.iOS&&p),k=n&&!h;return{[sk.AIRPLAY]:g,[sk.CHROMECAST]:w,[sk.FULLSCREEN]:E,[sk.PIP]:C,[sk.STEREOSCOPIC]:T,[sk.VIMEO_LOGO]:k,[sk.VOLUME]:i}})(),d=WT(),h=WT(),f=Object.keys(c).filter((t=>c[t])),p=Object.keys(l).filter((t=>l[t])),v=!!f.length||!!p.length,m=f.concat(p).filter((t=>!tI.includes(t))),_=m.length>0,b=m.length>1,[y,g]=UT(!1),w=()=>{if(e.getState().controlBar.showAllControls)return void g(!1);const t=d.current,n=h.current,i=null==t?void 0:t.children;if(!n||null==i||!i.length||!e.getState().displayList.controlBarButtons)return;const r=n.clientWidth,o=a(i).reduce(((t,e)=>t+e.clientWidth+4),4);g(r<o)};_k(d,w,100),XT((()=>{w()}),[f.length,p.length]);const T=!n&&!i,C=!r&&b&&y,E=!r&&b,k=!o&&b,S=!s&&!k&&_,A=c[sk.VIMEO_LOGO],N=kf("ControlBarButtonsAndMenus_module_wrapper__83ef5043",k&&ZO,!s&&KO,u&&"ControlBarButtonsAndMenus_module_progressExpanded__83ef5043"),M=kf("ControlBarButtonsAndMenus_module_collapsibleWrapper__83ef5043",k&&ZO,!s&&KO,E&&JO,C&&QO,S&&"ControlBarButtonsAndMenus_module_buttonsOnly__83ef5043",A&&"ControlBarButtonsAndMenus_module_vimeoLogoEnabled__83ef5043"),O=kf("ControlBarButtonsAndMenus_module_collapsibleContent__83ef5043",k&&ZO,E&&JO,C&&QO);if(!v)return null;const I={onFocus:t=>{const e=null==t?void 0:t.target;if(!e||!o||r||!d.current||!h.current||!y)return;const n=Jd(e),i=Jd(h.current);if(n.left>i.left&&n.right<i.right)return;const s=n.right-i.width;d.current.scrollTo({top:0,left:s,behavior:"smooth"})}};return k&&(I.ariaHidden=!0),Tk("div",{className:N,children:[E&&Tk(fO,{}),Tk("div",{className:M,ref:h,onKeyDown:t=>{"ArrowLeft"!==t.code&&"ArrowRight"!==t.code||t.preventDefault()},role:"none",children:Tk("div",{className:O,ref:d,role:"none",children:[c[sk.VOLUME]&&Tk(YO,{buttonProperties:I}),l[WE.CC]&&Tk(lO,J(J({},t[WE.CC]),{},{ref:t[WE.CC].buttonRef},I)),T&&l[WE.CC]&&Tk(qO,J({},t[WE.CC])),l[WE.TRANSCRIPT]&&Tk(hO,J({},I)),l[WE.PREFS]&&Tk(iO,J(J({},t[WE.PREFS]),{},{ref:t[WE.PREFS].buttonRef},I)),T&&l[WE.PREFS]&&Tk(PO,J({},t[WE.PREFS])),l[WE.CHAPTERS]&&Tk(uO,J(J({},t[WE.CHAPTERS]),{},{ref:t[WE.CHAPTERS].buttonRef},I)),T&&l[WE.CHAPTERS]&&Tk(HO,J({},t[WE.CHAPTERS])),c[sk.CHROMECAST]&&Tk(dO,J({},I)),c[sk.AIRPLAY]&&Tk(aO,J({},I)),c[sk.STEREOSCOPIC]&&Tk(cO,J({},I)),c[sk.PIP]&&Tk(rO,J({},I)),c[sk.FULLSCREEN]&&Tk(nO,J({},I))]})}),A&&Tk(sO,{})]})},nI=({menuProps:t})=>{const e=KE(),n=EA((t=>t.appearance.isMenuBlockingUI)),i=EA((t=>t.appearance.isMenuVerticalVideoMode));return(n||i)&&Tk(uT,{children:[e[WE.CC]&&Tk(qO,J({},t[WE.CC])),e[WE.PREFS]&&Tk(PO,J({},t[WE.PREFS])),e[WE.CHAPTERS]&&Tk(HO,J({},t[WE.CHAPTERS]))]})},iI=()=>{const t=WT(null),e=EA((t=>t.displayList.controlBar)),n=EA((t=>t.displayList.outro)),i=EA((t=>t.playback.playInitiated)),r=EA((t=>t.embed.isTrailer)),o=EA((t=>t.displayList.controlBarButtons)),s=EA((t=>t.controlBar.showAllControls)),a=EA((t=>t.embed.playbar)),u=(()=>{const t=EA((t=>t.setAppearance)),[e,n]=UT(!1);return{onMouseEnter:()=>{e||t("mousedOverControlBar",!0),n(!1)},onMouseLeave:()=>{e||t("mousedOverControlBar",!1),n(!1)},onTouchStart:()=>{t("mousedOverControlBar",!0),n(!0)},onTouchEnd:()=>{t("mousedOverControlBar",!1),n(!0)}}})(),l=ik()===nk.CENTER,c=r&&!i,d=ak(Gv.PROGRESS_BAR)&&a,[h,f]=UT(null),p=(({setHoveredChapterId:t,progressBarAndButtonsRef:e})=>{const n=EA((t=>t.displayList.menu)),i=EA((t=>t.setDisplayList)),r=WT(null),o=WT(null),s=WT(null),[a,u]=UT(!1),[l,c]=UT(!1),[d,h]=UT(!1),f=t=>e=>{t(e),i("menu",e),t!==u&&u(!1),t!==c&&c(!1),t!==h&&h(!1)};n||(u(!1),c(!1),h(!1));const p=f(u),v=f(h),m=f(c),_={[WE.CC]:{isMenuDisplayed:l,setMenuDisplayed:m,buttonRef:s,progressBarAndButtonsRef:e},[WE.PREFS]:{isMenuDisplayed:a,setMenuDisplayed:p,buttonRef:r,progressBarAndButtonsRef:e},[WE.CHAPTERS]:{isMenuDisplayed:d,setMenuDisplayed:v,buttonRef:o,progressBarAndButtonsRef:e,onMenuOptionMouseEnter:e=>{var n;return t(parseInt(null==e||null==(n=e.currentTarget)||null==(n=n.dataset)?void 0:n.id,10))},onMenuOptionMouseLeave:()=>t(null)}};return _})({setHoveredChapterId:f,progressBarAndButtonsRef:t}),v=kf("ControlBar_module_controlBarWrapper__293a16b4",l&&"ControlBar_module_centerPlayButton__293a16b4"),m=kf(tf.VP_CONTROLS,"ControlBar_module_controls__293a16b4",c&&"ControlBar_module_trailer__293a16b4"),_=kf("ControlBar_module_progressBarAndButtons__293a16b4",!d&&"ControlBar_module_progressBarDisabled__293a16b4",s&&"ControlBar_module_showAllControls__293a16b4",o&&!s&&"ControlBar_module_buttonsExpanded__293a16b4");return Tk(UA,{children:[Tk("div",{className:v,children:[Tk(ZM,{controlBarVisibilityHandlers:u}),Tk(NA,{visible:e,children:Tk("div",J(J({className:m},u),{},{"data-control-bar":!0,children:!n&&!c&&Tk("div",{className:_,ref:t,children:[d&&Tk(RO,{hoveredChapterId:h}),Tk(eI,{menuProps:p})]})}))}),Tk(vO,{})]}),Tk(nI,{menuProps:p})]})},rI=({styles:t})=>Tk(PA,{name:bk.HEART_WIDER_FILLED,style:t}),oI=({styles:t})=>Tk(PA,{name:bk.HEART_WIDER_BROKEN_FILLED,style:t});var sI="AnimatedClock_module_hands__167fcd36",aI="AnimatedClock_module_reverse__167fcd36";const uI=({style:t,animateDirection:e="forward"})=>{const n=kf(sI,"AnimatedClock_module_hour__167fcd36","reverse"===e&&aI),i=kf(sI,"AnimatedClock_module_minute__167fcd36","reverse"===e&&aI);return Tk("svg",{viewBox:"0 0 20 20",style:t,children:[Tk("polyline",{className:n,points:"9.64,4.68 10.56,4.68 11.28,11.21 8.93,11.21 9.64,4.68"}),Tk("polyline",{className:i,points:"14.19,13.65 13.7,14.14 8.58,10.4 10.44,8.5 14.19,13.65"}),Tk("circle",{className:"AnimatedClock_module_circle__167fcd36",cx:"10",cy:"10",r:"8",strokeWidth:"2"})]})},lI=({styles:t})=>Tk(uI,{style:t}),cI=({styles:t})=>Tk(uI,{animateDirection:"reverse",style:t});const dI=()=>{const t=WT(null),e=EA((t=>t.displayList.menu)),n=EA((t=>t.notification.currentNotification)),i=EA((t=>t.setNotification)),{width:r,height:o}=EA((t=>t.appearance.boundingClientRect)),s=ak(Gv.SIDE_DOCK_MENU);return Tk($N,{fadeIn:!1,onContentChange:function(e){null!==e&&(clearTimeout(t.current),t.current=setTimeout((()=>{i("currentNotification",null)}),750))},targetContent:n,children:t=>{const n=kf("Notification_module_root__c083c238",null!==t&&"Notification_module_active__c083c238",s&&e&&"Notification_module_behindSideDock__c083c238"),i=function(t,e,n){const i=t===gA.WatchLaterAdded||t===gA.WatchLaterRemoved?.5:.4,r=n>e?e:n;return{width:`${Math.round(r*i*1.6)}px`,height:`${Math.round(r*i)}px`}}(t,r,o);return Tk("div",{className:n,children:[t===gA.LikedAdded&&Tk(rI,{styles:i}),t===gA.LikeRemoved&&Tk(oI,{styles:i}),t===gA.WatchLaterAdded&&Tk(lI,{styles:i}),t===gA.WatchLaterRemoved&&Tk(cI,{styles:i})]})}})};let hI=function(t){return t.Backward="backward",t.Forward="forward",t}({});const fI=()=>{const t=EA((t=>t.displayList.nudgeNotification)),e=EA((t=>t.nudge.direction)),n=EA((t=>t.nudge.time));return Tk(NA,{visible:t,children:Tk("div",{"aria-hidden":"true",className:`NudgeNotification_module_nudge__24f10a71 ${e===hI.Backward&&"NudgeNotification_module_nudgeBackward__24f10a71"}`,children:Tk("div",{className:"NudgeNotification_module_nudgeInfo__24f10a71",children:[Tk("div",{className:"NudgeNotification_module_nudgeIcon__24f10a71",children:Tk(PA,{name:bk.FAST_FORWARD})}),Tk("div",{className:"NudgeNotification_module_nudgeTime__24f10a71",children:n?n+" seconds":""})]})})})};var pI="NudgeArea_module_nudgeArea__7d84d7de";let vI;const mI=()=>{const t=kA(),e=EA((t=>t.displayList.fullPlayerElement)),n=EA((t=>t.displayList.ad)),i=EA((t=>t.liveEvent.isLiveEvent)),r=EA((t=>t.liveEvent.dvrEnabled)),o=EA((t=>t.liveEvent.isArchived)),s=i&&!o&&!r,a=EA((t=>t.embed.background)),u=EA((t=>t.embed.controls)),l=EA((t=>t.displayList.outro)),c=EA((t=>t.config.video.spatial)),d=EA((t=>t.seekingController)),h=EA((t=>t.playback.playInitiated)),f=!(!Se.spatialPlayback||!c),p=Se.touch&&!e&&!n&&!s&&!a&&u&&!l&&!f,v=EA((t=>t.setPlayback)),m=EA((t=>t.setNudgeProperties)),_=EA((t=>t.startNudgeHideTimeout)),[b,y]=UT({left:0,right:0}),g=e=>n=>{let r;n.preventDefault(),e===hI.Forward?(r=b.left+1,y({left:r,right:0})):(r=b.right+1,y({left:0,right:r})),clearTimeout(vI),vI=setTimeout(w,250),r>=2&&function(e,n){let r,o;const{liveTailTime:s,liveEdgeTime:a,currentFragment:u,currentTime:l}=t.getState().playback;i?(r=s,o=a):({startTime:r,endTime:o}=u);let c=0;c=e===hI.Forward?l+10:l-10;let f=d.getAllowedSeekTime(c);f<r&&(f=r),f>=o&&(f=o-.001),e===hI.Forward&&!d.canSeekNow&&h||(f===c&&m({direction:e,time:10+10*(n-2)}),_(),v("currentTime",f,{seekType:"nudge"}))}(e,r)};function w(){y({left:0,right:0})}return p&&Tk(uT,{children:[Tk("div",{className:`${pI} NudgeArea_module_nudgeBackwardArea__7d84d7de`,onTouchEnd:g(hI.Backward)}),Tk("div",{className:`${pI} NudgeArea_module_nudgeForwardArea__7d84d7de`,onTouchEnd:g(hI.Forward)})]})},_I=({element:t,children:e})=>IC(Tk(uT,{children:e}),t);var bI="HelpOverlay_module_hideOnSmall__079276a9",yI="HelpOverlay_module_arrow__079276a9";const gI=()=>{const t=Ek((t=>t.embed.onsite)),e=EA((t=>t.embed.like)),n=EA((t=>t.embed.watchLater)),i=EA((t=>t.embed.share)),r=EA((t=>t.embed.transcript)),o=EA((t=>t.embed.aiWidget)),s=[{key:"",text:"Volume up",className:`${yI} ${bI}`},{key:"",text:"Volume down",className:`${yI} ${bI}`},{key:"",text:"Scrub forward",className:`${yI} ${bI}`},{key:"",text:"Scrub backwards",className:`${yI} ${bI}`},{key:"X",text:"Like",ignore:!e},{key:"S",text:"Share",ignore:!i},{key:"W",text:"Watch Later",ignore:!n},{key:"C",text:"Toggle Captions"},{key:"H",text:"Toggle Preferences Menu"},{key:"F",text:"Toggle fullscreen"},{key:"T",text:"Toggle Transcript",ignore:!r},{key:"A",text:"Toggle Vimeo AI",ignore:!o},{key:"V",text:"View on Vimeo",ignore:t},{key:"J",text:"Scrub backwards"},{key:"K",text:"Play/Pause"},{key:"L",text:"Scrub forward"},{key:"M",text:"Toggle Mute"}];return Tk(uT,{children:[Tk("h1",{id:rf.VP_OVERLAY_LABELLEDBY,children:"Keyboard Shortcuts"}),Tk("div",{className:"HelpOverlay_module_keysWrapper__079276a9","data-help-keys":!0,children:s.map((t=>!t.ignore&&Tk("div",{className:`HelpOverlay_module_keyWrapper__079276a9 ${t.className||""}`,children:[Tk("div",{className:"HelpOverlay_module_keySymbol__079276a9",children:t.key}),Tk("div",{className:"HelpOverlay_module_keyText__079276a9",children:t.text})]})))})]})},wI=()=>{const t=EA((t=>t.overlay.incrementOverlayElementsUpdatedCount));return Tk(uM,{onEmbedShareVisibilityChange:t})};const TI=[Ch,kh],CI=()=>{const t=Ek((t=>t.embed.onsite)),e=Ek((t=>t.embed.videoId)),n=EA((t=>t.overlay.spatialRedirectContext)),i={title:"headset"===n?"Headset viewing isnt currently supported in your mobile browser.":null,buttonText:"Watch in the Vimeo app",lowerText:"browser-support"===n?"360 not supported in this browser":null},r=EA((t=>t.embed.doNotTrack)),o=EA((t=>!TI.includes(t.embed.privacy))),s=EA((t=>t.embed.shareUrl));return Tk(uT,{children:[Tk(NA,{visible:!0,children:Tk("div",{className:"SpatialRedirectOverlay_module_background__43dc92f8"})}),"headset"===n&&Tk("div",{className:"SpatialRedirectOverlay_module_title__43dc92f8",children:i.title}),o&&Tk(wN,{className:"SpatialRedirectOverlay_module_button__43dc92f8",onClick:()=>{const n=r?s:function(t){return`https://vimeo.page.link/?link=https%3A%2F%2Fvimeo.com%2F${t}%3Futm_source%3Dvimeo%26utm_campaign%3Dmobileweb%26utm_content%3Dplayer-button-360video&apn=com.vimeo.android.videoapp&ibi=com.vimeo&isi=425194759&utm_source=vimeo&utm_campaign=mobileweb&utm_content=player-button&ct=360video&pt=417731&efr=1`}(e);window.open(n,t&&"_blank",t?"noopener":"")},children:i.buttonText}),"browser-support"===n&&Tk("div",{className:"SpatialRedirectOverlay_module_lowerText__43dc92f8",children:i.lowerText})]})},EI=()=>{const t=EA((t=>t.overlay.purpose)),e=EA((t=>t.displayList.overlay)),n=EA((t=>t.setDisplayList)),i=Bf(t)?null:t;return Tk($N,{onContentChange:t=>{n("overlay",!(null===t||t===Pf.EMPTY))},styleOverrides:{exitDone:{display:"block",visibility:"hidden"}},targetContent:i,children:n=>Tk(fM,{visible:n===t&&e,children:[n===Pf.ERROR&&Tk(dM,{}),n===Pf.HELP&&Tk(gI,{}),n===Pf.SHARE&&Tk(wI,{}),n===Pf.SPATIAL_REDIRECT&&Tk(CI,{})]})})};const kI=()=>{const{pipOverlay:t}=EA((t=>t.displayList));return Tk(NA,{visible:t,children:Tk("div",{className:"PipOverlay_module_overlay__8ff12d1a","aria-hidden":"true",children:[Tk(PA,{name:bk.PIP}),Tk("div",{className:"PipOverlay_module_title__8ff12d1a",children:"Playing in picture-in-picture"})]})})};let SI=function(t){return t.PLAYER_UI="player_ui",t.TITLE="title",t}({});const AI=()=>{const t=EA((t=>t.liveEvent.isLiveEvent)),e=EA((t=>t.liveEvent.isPlayable)),n=EA((t=>t.playback.paused)),i=EA((t=>t.liveEvent.isEnded)),r=t&&!i,o=EA((t=>t.displayList.controlBar)),s=EA((t=>t.displayList.topCenterActionItem)),a=EA((t=>t.displayList.title)),u=EA((t=>t.displayList.toast)),l=EA((t=>t.playback.atLiveEdge));return!!r&&Tk(NA,{visible:(o||s)&&!(a||u)&&e&&!n&&l,children:Tk("div",{className:"LiveStatusLabelAndViewerCounter_module_liveStatusLabelAndViewerCounter__62de121d","aria-hidden":"true",children:[Tk(II,{context:SI.PLAYER_UI}),Tk(PI,{context:SI.PLAYER_UI})]})})};var NI="LiveStatusLabel_module_offline__103db393",MI="LiveStatusLabel_module_live__103db393";const OI={[SI.PLAYER_UI]:"LiveStatusLabel_module_playerUI__103db393",[SI.TITLE]:"LiveStatusLabel_module_title__103db393"},II=({className:t,context:e})=>{const n=EA((t=>t.embed.hideLiveLabel)),i=EA((t=>t.liveEvent.isLiveEvent)),r=EA((t=>t.liveEvent.isPlayable)),o=EA((t=>t.liveEvent.isArchived)),s=kf("LiveStatusLabel_module_liveStatusLabel__103db393",OI[e],t),a=kf("LiveStatusLabel_module_liveStatusCircle__103db393",r?MI:NI),u=kf("LiveStatusLabel_module_liveStatusText__103db393",r?MI:NI);return i&&!o&&!n&&Tk("div",{className:s,"data-live-status-label":!0,children:[Tk("div",{className:a}),Tk("span",{className:u,children:"LIVE"})]})};function RI(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}const LI={[SI.PLAYER_UI]:"LiveViewerCounter_module_playerUI__ac542125",[SI.TITLE]:"LiveViewerCounter_module_title__ac542125"};function xI(){}function DI(t){if(t&&t.then)return t.then(xI)}const PI=({className:t="",context:e})=>{const n=Ek((t=>t.embed.videoId)),i=Ek((t=>t.config.vimeo_api_url)),o=EA((t=>t.events)),s=EA((t=>t.updatePhpTokens)),a=EA((t=>t.liveEvent.isPlayable)),u=EA((t=>t.embed.showViewerCount)),l=EA((t=>t.liveEvent.viewerCount)),c=EA((t=>t.liveEvent.liveStatsRequestSucceeded)),d=EA((t=>t.liveEvent.isStarted)),h=EA((t=>t.liveEvent.isOnline)),f=EA((t=>t.embed.privacy)),p=EA((t=>t.embed.videoUnlistedHash)),v=EA((t=>t.user.vimeoBucketedLiveClientToken)),m=d&&u&&h,_=kf("LiveViewerCounter_module_liveViewerCounter__ac542125",LI[e],t),b=YT(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){let t=`${n}`;f===rp.PRIVACY_UNLISTED&&p&&(t+=`:${p}`);const e=`https://${i}/videos/${t}/stats/live`,a={jwt_token:v};return DI(RI((function(){return function(t,e){try{var n=r.resolve(t());return e?n.then(e):n}catch(t){return r.reject(t)}}(s,(function(){return DI(RI((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(Qt({url:e,searchParams:a}).json(),(function(t){t.viewers&&o.fire(Lc.LIVE_STATS_SUCCESS,{viewerCount:t.viewers.current})}))}),(function(){o.fire(Lc.LIVE_STATS_FAILURE)})))}))}),(function(t){o.fire(Lc.LIVE_STATS_FAILURE)})))})),[o,s,n,i,v,f,p]);return XT((()=>{if(m){b();const t=setInterval(b,3e4);return()=>clearInterval(t)}return()=>{}}),[m,b]),a&&u&&c&&Tk("div",{className:_,"data-live-viewer-counter":!0,children:[Tk(PA,{className:"LiveViewerCounter_module_liveViewerCounterIcon__ac542125",name:bk.PERSON_FILLED}),Tk("span",{className:"LiveViewerCounter_module_liveViewerCountValue__ac542125","data-live-viewer-count":!0,children:l})]})},BI={[Wf.LIGHT]:Gf.EIGHTY,[Wf.DARK]:Gf.TWENTY},$I="transparent !important",jI=()=>{const t=Ek((t=>t.uuid)),e=Ek((t=>t.view)),n=Ek((t=>t.embed.transparent)),i=Ek((t=>t.colors.colorOne)),r=Ek((t=>t.colors.colorTwo)),o=Ek((t=>t.colors.colorThree)),s=Ek((t=>t.colors.colorFour)),a=[[Xf.ONE,Yf(i,Gf.ONE_HUNDRED)],[Xf.TWO,Yf(r,Gf.ONE_HUNDRED)],[Xf.THREE,Yf(o,Gf.ONE_HUNDRED)],[Xf.FOUR,Yf(s,Gf.ONE_HUNDRED,!1,!0)],[Xf.ONE_MONOCHROME,Yf(i,Gf.ONE_HUNDRED,!0)],[Xf.TWO_MONOCHROME,Yf(r,Gf.ONE_HUNDRED,!0)],[Xf.ONE_OPACITY_NINETY,Yf(i,Gf.NINETY,!1,!0)],[Xf.TWO_OPACITY_NINETY,Yf(r,Gf.NINETY,!1,!0)],[Xf.THREE_OPACITY_TWENTY,Yf(o,Gf.TWENTY)],[Xf.ONE_MONOCHROME_OPACITY_TWENTY,Yf(i,Gf.TWENTY,!0)],[Xf.TWO_MONOCHROME_OPACITY_TWENTY,Yf(r,Gf.TWENTY,!0)],[Xf.ONE_MONOCHROME_OPACITY_SIXTY,Yf(i,Gf.SIXTY,!0)],[Xf.ONE_MONOCHROME_OPACITY_TWENTY_EIGHTY,Yf(i,BI,!0)],[Xf.TWO_MONOCHROME_OPACITY_TWENTY_EIGHTY,Yf(r,BI,!0)]];let u,l;return[Lh.privateLocked,Lh.privatePassword,Lh.geoBlocked].includes(e)?(u="#000 !important",l=$I):n?(u=$I,l=$I):(u=`var(${Xf.FOUR})`,l=`var(${Xf.FOUR})`),Tk("style",{type:"text/css","data-player-colors":t,children:[`.player-${t} {\n                ${Kf(a)}\n            }`,`.player-${t} {\n                background-color: ${u};\n            }`,`.player-${t} .${tf.VP_VIDEO_WRAPPER} {\n                background-color: ${l};\n            }`]})};const VI=()=>{const t=EA((t=>t.embed.rightContentAreaEnabled)),e=EA((t=>t.displayList.rightContentArea)),n=EA((t=>t.appearance.rightContentAreaAnimating));let i=EA((t=>t.element));const r={transcript:{component:QI,displayed:EA((t=>t.displayList.transcript))},aiWidget:{component:bR,displayed:EA((t=>t.displayList.aiWidget))}},o=Se.isGoogleBot&&r.transcript.displayed;var s;o&&(i=null==(s=i)?void 0:s.parentElement);const a=kf("RightContentArea_module_rightContentArea__98a162b1",e&&"RightContentArea_module_visible__98a162b1",hv&&"RightContentArea_module_iframeEmbed__98a162b1",o&&"RightContentArea_module_googleBot__98a162b1"),u=Object.keys(r).some((t=>{var e;return null==(e=r[t])?void 0:e.displayed})),l=!e&&n,c=l?400:void 0,d=l||u&&e&&!n?void 0:0,h={exitDone:{visibility:"hidden",display:"block"}};return t&&IC(Tk("div",{id:rf.RIGHT_CONTENT_AREA,className:a,"aria-hidden":!e,children:Object.keys(r).map((function(t){var e,n;const i=null==(e=r[t])?void 0:e.component,o=null==(n=r[t])?void 0:n.displayed;return i?Tk(NA,{duration:d,visible:o,delay:c,styleOverrides:h,children:Tk(i,{})},t):null}))}),i)};const FI=()=>{const[t,e]=UT(!1),n=EA((t=>t.appearance.placeholderThumbnail)),i=EA((t=>t.appearance.appSizeMode)),r=EA((t=>t.appearance.appBreakpoint)),o=EA((t=>t.embed.rightContentAreaEnabled)),s=EA((t=>t.displayList.rightContentArea)),a=EA((t=>t.appearance.rightContentAreaAnimating)),u=EA((t=>t.element)),l=o&&(s||a),c=r===Bv.XS||r===Bv.XXS||i===tp.MINI||i===tp.TINY,d=kf("ContentAreaBackground_module_img__5e37c38e",t&&"ContentAreaBackground_module_loaded__5e37c38e"),h=c?{visible:s,duration:400}:{visible:l,duration:0};return Se.isGoogleBot?null:IC(Tk(NA,J(J({},h),{},{children:Tk("div",{className:"ContentAreaBackground_module_imgContainer__5e37c38e",children:Tk("img",{onLoad:()=>e(!0),alt:"video thumbnail",className:d,src:n})})})),null==u?void 0:u.querySelector(`.${nf.CONTENT_AREA_BACKGROUND_CONTAINER}`))};var HI=[],UI=[];function zI(t,e){if(t&&"undefined"!=typeof document){var n,i=!0===e.prepend?"prepend":"append",r=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(r){var s=HI.indexOf(o);-1===s&&(s=HI.push(o)-1,UI[s]={}),n=UI[s]&&UI[s][i]?UI[s][i]:UI[s][i]=a()}else n=a();65279===t.charCodeAt(0)&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function a(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var n=Object.keys(e.attributes),r=0;r<n.length;r++)t.setAttribute(n[r],e.attributes[n[r]]);var s="prepend"===i?"afterbegin":"beforeend";return o.insertAdjacentElement(s,t),t}}zI(".TranscriptError_lazy_module_refresh__eeacf550{border:none;padding:4px 12px;gap:4px;height:32px;background:hsla(0,0%,100%,.1);border-radius:4px}.TranscriptError_lazy_module_icon__eeacf550{width:40px;height:40px}",{});const{Provider:XI,useStore:GI}=YC(),WI={timecodeDisplayed:!0,selectedSettingsMenu:SE.MAIN,settingsDisplayed:!1,currentSearchResultIndex:0,searchTerms:{terms:"",timestamp:null},searchResults:[],transcriptDisabled:!1,autofollowEnabled:!0},qI=({children:t})=>{const e=EA((t=>t.subscribe)),n=EA((t=>t.captions.textTrackEls)),i=EA((t=>t.captions.rtlTracks)),r=EA((t=>t.config)),o=EA((t=>t.events)),s=EA((t=>t.displayList.transcript)),a=EA((t=>t.displayList.fullPlayerElement)),u=EA((t=>t.appearance.appBreakpoint)),l=EA((t=>t.appearance.appSizeMode)),c=ek(),d=((t,e)=>t.map((t=>{const n=t.id.replace(lf.TEXT_TRACK_ID_PREFIX,""),i=e.includes(n);return{id:t.id,label:t.label,language:t.srclang,rtl:i}})))(n,i),h=RE(r,d),f=WT(null==h?void 0:h.language);return Tk(XI,{createStore:()=>qC(((t,n)=>{const i=(e,n)=>t((t=>J(J({},t),{},{[e]:n}))),r=WI.selectedSettingsMenu,p=t=>i("selectedSettingsMenu",t),v=WI.settingsDisplayed,m=e=>{var i,r;const s={};if(e!==(null==(i=n())?void 0:i.settingsDisplayed)){var a;s.settingsDisplayed=e;const t=null==(a=n())||null==(a=a.selectedTrack)?void 0:a.language;e?c(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"open_embed_transcript_setting",copy:"settings",location:"player_embedded_transcript",element:"embedded_transcript_settings_menu",current_transcript_language:t}):e||t===f.current||(c(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"change_language_settings",copy:t,location:"player_embedded_transcript_settings",element:"language_select_panel",current_transcript_language:t}),f.current=t)}(null==(r=n())?void 0:r.settingsDisplayed)&&!e&&(s.selectedSettingsMenu=WI.selectedSettingsMenu),Object.keys(s).length&&t((t=>J(J({},t),s)));const u=e?Uh:"";o.fire(Nh.Gu,u)},_=WI.timecodeDisplayed,b=WI.currentSearchResultIndex,y=t=>i("currentSearchResultIndex",t),g=WI.searchResults,w=t=>{0===t.length&&i("currentSearchResultIndex",0),i("searchResults",t)},T=WI.searchTerms,C=t=>i("searchTerms",t),E=!s||a,k=YI(u,l),S=WI.autofollowEnabled;function A(){C(WI.searchTerms),w(WI.searchResults),y(WI.currentSearchResultIndex)}return e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>{t||(m(WI.settingsDisplayed),p(WI.selectedSettingsMenu))})),e((t=>{var e,n;return{transcriptVisible:null==t||null==(e=t.displayList)?void 0:e.transcript,overlayVisible:null==t||null==(n=t.displayList)?void 0:n.fullPlayerElement}}),(({transcriptVisible:t,fullPlayerElement:e})=>{i("transcriptDisabled",!(t&&!e))})),e((t=>{var e,n;return{breakpoint:null==t||null==(e=t.appearance)?void 0:e.appBreakpoint,sizeMode:null==t||null==(n=t.appearance)?void 0:n.appSizeMode}}),(({breakpoint:e,sizeMode:i})=>{const r=YI(e,i);r!==n().transcriptSizeMode&&t((t=>J(J({},t),{},{transcriptSizeMode:r})))})),e((t=>{var e,n;return{outroDisplayed:null==t||null==(e=t.displayList)?void 0:e.outro,animationActive:null==t||null==(n=t.appearance)?void 0:n.rightContentAreaAnimating}}),(({outroDisplayed:t,animationActive:e})=>{t&&!e&&A()})),{timecodeDisplayed:_,searchTerms:T,setSearchTerms:C,resetSearchTerms:()=>C(WI.searchTerms),currentSearchResultIndex:b,setCurrentSearchResultIndex:y,settingsDisplayed:v,setSettingsDisplayed:m,selectedTrack:h,availableTracks:d,setSelectedTrack:t=>{const e=d.find((e=>e.id===t));i("selectedTrack",e),A(),o.fire(Nh.Wc,e)},selectedSettingsMenu:r,setSelectedSettingsMenu:p,searchResults:g,setSearchResults:w,toggleTimecodeDisplayed:()=>{var t;return i("timecodeDisplayed",!(null!=(t=n())&&t.timecodeDisplayed))},toggleSettingsDisplayed:()=>{var t;return m(!(null!=(t=n())&&t.settingsDisplayed))},transcriptDisabled:E,transcriptSizeMode:k,autoFollowEnabled:S,setAutoFollowEnabled:t=>i("autoFollowEnabled",t)}})),children:t})};function YI(t,e){const n=t===Bv.XS||t===Bv.XXS,i=e===tp.MINI||e===tp.TINY;return n||i?AE.SMALL:t===Bv.XL||t===Bv.XXL?AE.LARGE:AE.MEDIUM}const KI=({onClose:t})=>{const e=kf(nf.EXCLUDE_GLOBAL_BUTTON_STYLES,"ContentAreaCloseButton_module_closeContentAreaButton__22a1987e",pN),n="Close";let i=$v.MD;const r=EA((t=>t.appearance.appBreakpoint)),o=EA((t=>t.displayList.rightContentArea));r!==Bv.XL&&r!==Bv.XXL||(i=$v.CUSTOM);const{onClick:s,onKeyDown:a}=bf(t),u=Tk(wN,{onClick:s,onKeyDown:a,size:i,icon:Tk(PA,{name:bk.CLOSE,focusable:"false"}),"aria-label":n,disabled:!o,color:jv.CUSTOM,className:e});return Se.touch?u:Tk(oN,{tooltipContent:n,className:"ContentAreaCloseButton_module_tooltip__22a1987e",children:u})};const ZI=({message:t,icon:e,componentType:n,children:i,onClose:r})=>Tk("div",{className:"ContentAreaMessage_module_container__7df41131","data-component-type":n,children:[Tk(KI,{onClose:r}),e||Tk(PA,{name:bk.INFO_CIRCLE,className:"ContentAreaMessage_module_icon__7df41131"}),Tk(dN,{size:Hv.MD,weight:Uv.NORMAL,className:"ContentAreaMessage_module_messageText__7df41131",children:t}),i]}),JI=({onRetry:t})=>{const e=ek(),n=GI((t=>t.selectedTrack)),i=EA((t=>t.setDisplayList)),r="Refresh",o=Tk(PA,{name:bk.WARN_CIRCLE,className:"TranscriptError_lazy_module_icon__eeacf550"});return Tk(ZI,{message:"There was a problem loading the transcript.",onClose:()=>i("transcript",!1),componentType:"transcript-error",icon:o,children:Tk(wN,{className:"TranscriptError_lazy_module_refresh__eeacf550",color:jv.PRIMARY,onClick:()=>{t(),e(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"click_refresh_error",copy:r,location:"player_embedded_transcript_error",element:"refresh_transcript_button",current_transcript_language:null==n?void 0:n.language})},"data-component-type":"retry-request",children:Tk(dN,{size:Hv.MD,weight:Uv.BOLD,color:zv.WHITE,children:r})})})};const QI=({style:t={}})=>{const e=WT(!0),n=EA((t=>t.displayList.transcript)),{module:i,load:o,readyState:s}=QE(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return r.resolve().then((function(){return $x}))}))),a=null==i?void 0:i.Transcript,u=EA((t=>t.embed.transcript));return n&&e.current&&(o(),e.current=!1),!u||s!==ZE.LOADED&&!n?null:Tk("div",{style:t,className:kf(!n&&"TranscriptLoader_module_hidden__48b2f57a"),children:[s===ZE.LOADING&&Tk(SN,{}),s===ZE.ERROR&&Tk(JI,{onRetry:o}),s===ZE.LOADED&&Tk(a,{})]})};let tR;const eR=()=>{const t=EA((t=>t.playback.buffering)),e=EA((t=>t.chromecast.isChromecastBuffering)),n=EA((t=>t.chromecast.isChromecastConnected)),i=EA((t=>t.displayList.progressBar)),[r,o]=UT(!1);return t||e?tR=setTimeout((()=>{o(!0)}),600):(clearTimeout(tR),o(!1)),i&&Tk(uT,{children:[Tk(NA,{visible:n||r,styleOverrides:{enterActive:{opacity:.4},exit:{opacity:.4},exitDone:{display:"none"}},children:Tk("div",{className:"BufferHandler_module_shade__a4e303c9","data-shade":!0})}),Tk(NA,{visible:r,styleOverrides:{exitDone:{display:"none"}},children:Tk(SN,{size:Xv.LG})})]})};const nR=()=>{const t=EA((t=>t.captions.activeCues)),e=EA((t=>t.captions.language)),n=EA((t=>t.captions.direction)),i=EA((t=>t.displayList.captions)),r=EA((t=>t.displayList.controlBar)),o=EA((t=>t.displayList.progressBar)),s=EA((t=>t.appearance.fullscreen)),a=EA((t=>t.embed.rightContentAreaEnabled)),u=EA((t=>t.captions.fontSize)),l=EA((t=>t.captions.fontFamily)),c=EA((t=>t.captions.fontOpacity)),d=EA((t=>t.captions.color)),h=EA((t=>t.captions.bgColor)),f=EA((t=>t.captions.bgOpacity)),p=EA((t=>t.captions.windowOpacity)),v=EA((t=>t.captions.windowColor)),m=EA((t=>t.captions.edgeStyle)),_=EA((t=>t.appearance.videoHeight)),b=EA((t=>t.appearance.containerHeight)),y=Ek((t=>t.embed.transparent));let g=null,w={};!s&&y||_<b-58&&(g=`translateY(-${(b-_)/2}px)`,w.transform=g);const T=kf("Captions_module_captions__0d35c569",!i&&"Captions_module_hide__0d35c569",r&&!g&&"Captions_module_withControls__0d35c569",!o&&"Captions_module_noPlaybar__0d35c569",s&&"Captions_module_fullscreen__0d35c569",a&&"Captions_module_contentAreaSibling__0d35c569");return Tk(NN,{cues:t,language:e,direction:n,className:T,fontSize:u,fontFamily:l,fontOpacity:c,color:d,bgColor:h,bgOpacity:f,windowOpacity:p,windowColor:v,edgeStyle:m,height:_,style:w})};var iR="QoESurvey_module_selected__32b208ff";let rR;const oR=({containerRef:t})=>{const e=EA((t=>t.closeToast)),[n,i]=UT(!1),[r,o]=UT(!1),[s,a]=UT(!1),u=ek();XT((()=>{u(im.VIEW_PLAYER_CSAT_V1),rR=setTimeout(e,1e4)}),[u,e]);const l="Good",c="Poor";return Tk(uT,{children:[Tk(DN,{transitionTime:1e4,ariaLabelledby:af.QOE_SURVEY_TEXT}),Tk(PN,{id:af.QOE_SURVEY_TEXT,children:"How's the viewing experience?"}),Tk(RN,{className:`QoESurvey_module_thumbsUp__32b208ff ${n?iR:""}`,tooltipLabel:l,"aria-label":l,"aria-describedby":af.QOE_SURVEY_TEXT,icon:Tk(PA,{name:n?bk.THUMBS_UP_FILLED:bk.THUMBS_UP}),onClick:()=>{n||r||s||(u(im.SELECT_THUMBS_UP_PLAYER_CSAT_V1),i(!0),clearTimeout(rR),setTimeout(e,200))},containerRef:t}),Tk(RN,{className:`QoESurvey_module_thumbsDown__32b208ff ${r?iR:""}`,tooltipLabel:c,"aria-label":c,"aria-describedby":af.QOE_SURVEY_TEXT,icon:Tk(PA,{name:r?bk.THUMBS_DOWN_FILLED:bk.THUMBS_DOWN}),onClick:()=>{n||r||s||(u(im.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1),o(!0),clearTimeout(rR),setTimeout(e,200))},containerRef:t}),Tk(ON,{}),Tk(BN,{onClick:()=>{n||r||s||(u(im.DISMISS_PLAYER_CSAT_V1),a(!0),clearTimeout(rR),e())},describedBy:af.QOE_SURVEY_TEXT,selected:s})]})},sR=()=>{const t=EA((t=>t.playback.liveEdgeTime)),e=EA((t=>t.setPlayback)),n=ek();return Tk(xN,{onClick:()=>{e("atLiveEdge",!0),e("currentTime",t),n(im.SKIP_TO_LIVE_CLICK)},label:"Skip to live"})},aR=()=>{const t=EA((t=>t.closeToast));return Tk(uT,{children:[Tk(PN,{id:af.BROADCAST_OVER,children:"The live broadcast is over"}),Tk(ON,{}),Tk(BN,{onClick:t,describedBy:af.BROADCAST_OVER})]})};const uR={[hA.QOE_SURVEY]:af.QOE_SURVEY_TEXT,[hA.BROADCAST_OVER]:af.BROADCAST_OVER},lR=()=>{const t=WT(null),e=EA((t=>t.toast.purpose)),n=EA((t=>t.appearance.fullscreen)),i=EA((t=>t.setDisplayList)),r=uR[e],o="translateY("+(n&&Se.iPadOS?"calc(36px + 16px)":"0")+")",s="translateY(calc(-100% - 16px))",a="transform 400 ease-in-out",u={enter:{transform:s,opacity:1},enterActive:{transition:a,transform:o},enterDone:{transform:o},exit:{transform:o},exitActive:{transition:a,transform:s,opacity:1},exitDone:{transform:s,display:"none"}};return Tk($N,{targetContent:e!==hA.EMPTY?e:null,onContentChange:t=>{i("toast",!!t)},delay:400,styleOverrides:u,children:e=>Tk(MN,{className:"Toasts_module_toasts__25d07d44",ref:t,ariaLabelledby:r,children:[e===hA.QOE_SURVEY&&Tk(oR,{containerRef:t}),e===hA.SKIP_TO_LIVE&&Tk(sR,{}),e===hA.BROADCAST_OVER&&Tk(aR,{})]})})};const cR=({text:t})=>Tk("div",{className:"SpatialInstructions_module_instructions__4867d5d0",children:Tk(dN,{size:Hv.MD,weight:Uv.NORMAL,children:t})}),dR=()=>{const t=EA((t=>t.liveEvent.isLiveEvent))?"Unmute broadcast":"Unmute",{unmute:e}=rk();return Tk(xN,{onClick:e,label:t})},hR=()=>{const t=EA((t=>t.setAppearance)),e=EA((t=>t.clearSegment)),n=EA((t=>t.playback.startTime)),i=EA((t=>t.playback.endTime)),r=ek();return Tk(xN,{onMouseEnter:()=>t("mousedOverControlBar",!0),onMouseLeave:()=>t("mousedOverControlBar",!1),onClick:()=>{r(im.WATCH_FULL_VIDEO,{start_time:n,end_time:i}),e()},label:"Watch full video"})};const fR=Se.android?"Look around":"Click and drag to look around",pR=Se.android?"Look around":"Use arrow keys to see more",vR=()=>{const t=EA((t=>t.topCenterActionItem.purpose)),e=EA((t=>t.setDisplayList));return Tk($N,{targetContent:t!==cE.EMPTY?t:null,onContentChange:t=>{e("topCenterActionItem",!!t)},styleOverrides:{exitDone:{display:"none"}},children:t=>Tk(MN,{className:"TopCenterActionItems_module_topCenterActionItems__2bfde47f",children:[t===cE.UNMUTE&&Tk(dR,{}),t===cE.WATCH_FULL_VIDEO&&Tk(hR,{}),t===cE.SPATIAL_INSTRUCTIONS_CLICK&&Tk(cR,{text:fR}),t===cE.SPATIAL_INSTRUCTIONS_ARROWS&&Tk(cR,{text:pR})]})})};const mR=({onReload:t})=>{const e=EA((t=>t.setDisplayList)),n=kf(nf.EXCLUDE_GLOBAL_BUTTON_STYLES,"AIWidgetError_module_reload__12d5a300");return Tk(ZI,{message:"Unable to load Vimeo AI",componentType:"ai-error",onClose:()=>e("aiWidget",!1),children:Tk(wN,{className:n,size:$v.CUSTOM,onClick:t,"data-component-type":"reload-ai",children:Tk(dN,{size:Hv.MD,weight:Uv.BOLD,children:"Try again"})})})};const _R="Ask Vimeo AI",bR=({style:t={}})=>{const e=EA((t=>t.displayList.aiWidget)),n=Ek((t=>t.embed.vimeoUrl)),i=Ek((t=>t.embed.videoId)),r=Ek((t=>t.embed.onsite)),o=EA((t=>t.embed.videoUnlistedHash)),s=EA((t=>t.setDisplayList)),a=EA((t=>t.appearance.rightContentAreaAnimating)),u=EA((t=>t.embed.aiWidgetSignature)),l=ek(),c=mk(e),[d,h]=UT(!1),f=kf("AIWidget_module_aiWidget__9bd9d0b8",!e&&"AIWidget_module_hidden__9bd9d0b8"),p={transparentBackground:!r};u&&(p.guestSignature=u);const v=Nt(`https://${n}/ai-player/${i}${o?`/${o}`:""}`,p),{componentVersion:m,hasError:_,componentTimeout:b,onError:y,onReload:g}=ok(),w=YT((()=>{const t={[rm.WEB]:{page_name:"player"},[rm.PRODUCT_ANALYTICS]:{copy:_R,feature:"ai",product:"ai",element:"icon"}};l(im.OPEN_AI_OPTIONS,{},t)}),[l]);return XT((()=>{e&&(w(),d||h(!0))}),[e]),Tk("div",J(J({className:f,style:t,"aria-label":"Ask Vimeo AI"},c),{},{children:[_&&Tk(mR,{onReload:g}),!_&&d&&Tk(XN,{id:sf.AI_WIDGET_ID,url:v,title:_R,onError:y,timeout:b,visible:e,onClose:()=>{s("aiWidget",!1)},isAnimating:a,waitForReady:!0},m)]}))},yR=()=>{const t=WT(!0),{module:e,load:n,readyState:i}=QE(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return r.resolve().then((function(){return Vx}))}))),o=null==e?void 0:e.Compass,s=EA((t=>t.playback.playInitiated)),a=EA((t=>t.embed.compass));return a&&s&&t.current&&(n(),t.current=!1),!a||i!==ZE.LOADED&&!s?null:Tk(o,{})};const gR=()=>{const t=EA((t=>t.embed.persistentLogo)),e=EA((t=>t.appearance.playerBreakpoint));return t&&Tk("div",{className:"PersistentLogo_module_persistentLogo__e4ddb428",tabIndex:-1,"aria-hidden":"true","data-persistent-logo":!0,children:Tk(WN,{playerBreakpoint:e})})};const wR=({children:t,shade:e,hideOnTiny:n})=>{const i=EA((t=>t.appearance.playerSizeMode));return Tk("div",{className:kf("OutroContentWrapper_module_outroContent__1c499014",e&&"OutroContentWrapper_module_outroShade__1c499014",i===tp.TINY&&n&&"OutroContentWrapper_module_hidden__1c499014"),children:t})};const TR=()=>{const t=EA((t=>t.outro.outroData));return Tk(wR,{hideOnTiny:!0,shade:!0,children:Tk("div",{className:"TextOutro_module_textWrapper__eb1c7bb7",children:t&&Tk("div",{className:"TextOutro_module_text__eb1c7bb7",dangerouslySetInnerHTML:{lf:t.text}})})})};const CR=({url:t})=>{const e={};return t&&(e.backgroundImage=`url(${t})`),Tk("div",{className:"OutroContentBackground_module_background__fad7b858",style:e})},ER=()=>{const t=EA((t=>t.outro.outroData));return t&&Tk(uT,{children:[Tk(CR,{url:null==t?void 0:t.imageUrl}),Tk(wR,{shade:!0,hideOnTiny:!0,children:Tk(uM,{})})]})};const kR=()=>{const t=EA((t=>t.events)),e=EA((t=>t.outro.outroData)),n={};return null!=e&&e.imageUrl&&(n.backgroundImage=`url(${e.imageUrl})`),Tk(uT,{children:[Tk(NA,{visible:!0,children:Tk("div",{className:"LinkOutro_module_linkBackground__1d6e5c98",style:n})}),Tk(wR,{shade:!0,children:Tk("div",{className:"LinkOutro_module_linkWrapper__1d6e5c98",children:e&&Tk(uT,{children:[e.title&&Tk("h1",{className:"LinkOutro_module_title__1d6e5c98",children:e.title}),e.description&&Tk("p",{className:"LinkOutro_module_description__1d6e5c98",children:e.description}),e.text&&e.url&&Tk("div",{className:"LinkOutro_module_buttonWrap__1d6e5c98",children:Tk(IA,{href:e.url,className:"LinkOutro_module_button__1d6e5c98",onClick:()=>t.fire(Nh.hc,null==e?void 0:e.url),children:Tk("span",{children:e.text})})}),e.text2&&e.url2&&Tk(IA,{href:e.url2,className:"LinkOutro_module_link__1d6e5c98",onClick:()=>t.fire(Nh.ac,null==e?void 0:e.url2),children:Tk("span",{children:e.text2})})]})})})]})};const SR=()=>{const t=EA((t=>t.outro.outroData)),e=function(t){const e=EA((t=>t.events));return YT((function(){e.fire(Nh.dc,t)}),[t,e])}(null==t?void 0:t.url);return t&&Tk(wR,{children:null!=t&&t.url?Tk(IA,{href:t.url,className:"ImageOutro_module_imageOutroLink__7a84ec40",onClick:e,targetBlank:!0,children:Tk(AR,{url:t.imageUrl,altText:null==t?void 0:t.alt_text})}):Tk(AR,{url:t.imageUrl,altText:null==t?void 0:t.alt_text})})};function AR({url:t,altText:e}){return Tk("div",J({role:"img",className:"ImageOutro_module_imageOutro__7a84ec40",style:{backgroundImage:`url(${t})`}},e?{ariaLabel:e}:{}))}const NR=()=>Tk(uT,{children:[Tk(CR,{}),Tk(wR,{shade:!0}),";"]});const MR=({videos:t})=>{const e=Ek((t=>t.loadVideoViaIframe)),n=Ek((t=>t.embed.onsite)),i=EA((t=>t.events)),r=EA((t=>t.user.isPayingOwner)),o=EA((t=>t.embed.svvContext)),s=t=>n=>{i.fire(Nh.ec,t.id),r&&!o&&(n.preventDefault(),e(t.id,{autoplay:!0}))},a=kf("VideosList_module_videoLink__e7886b41",fN);return t.length&&Tk("ul",{className:"VideosList_module_videosList__e7886b41","data-num-videos":t.length,children:t.map((t=>Tk("li",{children:Tk(IA,J(J({className:a,targetBlank:!n,href:t.url,onClick:s(t)},rN),{},{children:[Tk(qN,{url:t.thumbnail,className:"VideosList_module_videoThumbnail__e7886b41"}),Tk("header",{className:"VideosList_module_videoHeader__e7886b41",children:[Tk(dN,{className:"VideosList_module_videoTitle__e7886b41",weight:Uv.BOLD,element:"h1",size:Hv.MD,color:zv.WHITE,children:t.title}),t.byline&&Tk(dN,{className:"VideosList_module_videoByline__e7886b41",element:"h2",children:t.byline})]})]}))},t.id)))})};var OR="FollowButton_module_icon__9a75dd35";const IR=()=>{const[t,e]=UT(!1),n=EA((t=>t.events)),i=EA((t=>t.user.following)),r=EA((t=>t.user.loggedIn)),o=EA((t=>t.user.isClipOwner)),s=EA((t=>t.user.persistUserAction));let a="Follow";const u=i&&t,l=i&&!t;u&&(a="Unfollow"),l&&(a="Following");const c=kf(OR,"FollowButton_module_check__9a75dd35"),d=kf(OR,"FollowButton_module_close__9a75dd35"),h=kf("FollowButton_module_followButton__9a75dd35",l&&"FollowButton_module_following__9a75dd35");return Tk("div",{onMouseEnter:()=>i&&e(!0),onMouseLeave:()=>e(!1),className:"FollowButton_module_followButtonContainer__9a75dd35",children:Tk(wN,{className:h,onClick:()=>{if(r&&!o){if(n.fire(Nh.hl),i)return s(Uk.FOLLOWING,"DELETE"),void n.fire(Nh.lc);s(Uk.FOLLOWING,"PUT"),n.fire(Nh.uc)}},children:[!i&&Tk(PA,{className:OR,name:bk.PLUS_SYMBOL}),l&&Tk(PA,{className:c,name:bk.CHECKMARK}),u&&Tk(PA,{className:d,name:bk.CLOSE}),Tk("span",{className:"FollowButton_module_followButtonText__9a75dd35",children:a})]})})};const RR=({titleMarkup:t})=>{const e=EA((t=>!t.user.isClipOwner));return Tk("div",{className:"VideosHeader_module_videosHeaderWrapper__82d8877c",children:Tk("header",{className:"VideosHeader_module_videosHeader__82d8877c",children:[Tk(dN,{className:"VideosHeader_module_videosTitle__82d8877c",size:Hv.LG,element:"h1",containsMarkup:!0,children:t}),e&&Tk(IR,{})]})})};const LR=()=>{var t;const e=EA((t=>t.outro.outroData));return(null==e||null==(t=e.videos)?void 0:t.length)>0&&Tk(uT,{children:[Tk(CR,{url:e.imageUrl}),Tk(wR,{shade:!0,children:Tk("div",{className:"VideosOutro_module_videosOutro__aa31a3f4",children:[Tk(RR,{titleMarkup:e.context}),Tk(MR,{videos:e.videos})]})})]})};function xR({children:t,url:e,onClick:n,type:i="purchase-item"}){const r=kf("VODButton_module_VODButton__3dccb3f8","watch"===i&&"VODButton_module_watch__3dccb3f8");return Tk(IA,J(J({className:r,role:"button",href:e},bf(n)),{},{children:t}))}const DR=()=>{const t=EA((t=>t.vod.url)),e=EA((t=>t.setDisplayList)),n=EA((t=>t.vod.isPreorder)),i=(EA((t=>t.vod.releaseDate)),n?"Watch on {releaseDate}":"Watch Now"),r=iS();return Tk(xR,{url:t,type:"watch",onClick:t=>{n||(t.preventDefault(),e("outro",!1),r(t))},children:i})},PR=()=>{const t=EA((t=>t.vod.isComingSoon)),e=EA((t=>t.vod.isPreorder)),n=EA((t=>t.vod.releaseDate));let i="Coming soon to Vimeo On Demand.";return t&&n&&(i="Coming soon to Vimeo On Demand on "+n+"."),e&&(i="Pre-order now. Watch on "+n+"."),Tk("p",{children:i})};const BR=t=>{const e=function({type:t}){switch(t){case"buy":return bk.VOD_DOWNLOAD;case"rent":return bk.VOD_RENT;case"subscribe":return bk.VOD_SUBSCRIBE;default:return bk.VOD}}(t);return Tk("div",{className:"VODIcon_module_VODIconContainer__f6dd6c94",children:Tk(PA,{className:"VODIcon_module_VODIcon__f6dd6c94",name:e})})};const $R=({product_id:t,formattedLabel:e,type:n})=>{const i=EA((t=>t.vod.url)),r=iS(t);return Tk("li",{className:"PurchaseOptionItem_module_purchaseOptionItem__9ee33594",children:Tk(xR,{url:`${i}#buy=${t}`,onClick:t=>{t.preventDefault(),r(t)},children:[Tk(BR,{type:n}),Tk("p",{className:"PurchaseOptionItem_module_label__9ee33594",children:e})]})})};const jR=()=>Tk("ul",{className:"PurchaseOptions_module_purchaseOptions__2aad36ed",children:EA((t=>t.vod.purchaseOptions)).map(((t,e)=>Tk($R,J({},t),`${t.type}-${e}`)))}),VR=()=>{const t=EA((t=>t.vod.isComingSoon)),e=EA((t=>t.vod.isPreorder));return Tk(uT,{children:[!t&&Tk(jR,{}),(e||t)&&Tk(PR,{})]})};const FR=()=>{const t=EA((t=>t.vod.url)),e=EA((t=>t.vod.title)),n=EA((t=>t.vod.isAvailableInCountry)),i=EA((t=>t.vod.purchased)),r=EA((t=>t.outro.outroData));return r&&Tk(uT,{children:[(null==r?void 0:r.imageUrl)&&Tk(CR,{url:null==r?void 0:r.imageUrl}),Tk(wR,{shade:!0,children:Tk("div",{className:"VODOutro_module_VODOutroContainer__e53bfe58",children:[Tk("h1",{"aria-describedby":"new-window",className:"VODOutro_module_VODHeader__e53bfe58",children:Tk(IA,{href:t,children:e})}),n&&Tk(i?DR:VR,{})]})})]})},HR=()=>{const t=EA((t=>t.displayList.outro)),e=EA((t=>t.outro.active)),n=EA((t=>t.outro.purpose)),i=kf("Outro_module_outroWrapper__552ef1cd",ef.VP_OUTRO_WRAPPER,!e&&"Outro_module_inactive__552ef1cd");return Tk(NA,{visible:t,styleOverrides:{exitDone:{display:"none"}},children:Tk("div",{className:i,"data-content-area-sibling-eligible":!0,children:Tk("div",{className:"Outro_module_outro__552ef1cd",role:"dialog",children:[n===yE.TEXT&&Tk(TR,{}),n===yE.SHARE&&Tk(ER,{}),n===yE.VIDEOS&&Tk(LR,{}),n===yE.LINK&&Tk(kR,{}),n===yE.IMAGE&&Tk(SR,{}),n===yE.NOTHING&&Tk(NR,{}),n===yE.VOD&&Tk(FR,{})]})})})};const UR=({text:t})=>Tk("h3",{children:[Tk(PA,{name:bk.WARN_TRIANGLE,className:"Warning_module_warningIcon__d2643ae4"}),Tk("span",{dangerouslySetInnerHTML:{lf:t}})]});function zR(){const t=`See a <a href="https://help.vimeo.com/hc/en-us/articles/12425909164561-Watch-360-videos#h_01FRKB6NKKXE9WTVX8P5C64D69" target="_blank" rel="noopener" aria-describedby="${rf.NEW_WINDOW_DESCRIPTION}">list of browsers</a> that support 360 viewing.`;return Tk(UR,{text:t})}function XR(){const t=`Looking to watch a 360 video? See <a href="https://help.vimeo.com/hc/en-us/articles/12425909164561-Watch-360-videos#h_01FRKB6NKKXE9WTVX8P5C64D69" target="_blank" rel="noopener" aria-describedby="${rf.NEW_WINDOW_DESCRIPTION}">supported browsers and settings</a>.`;return Tk(UR,{text:t})}const GR=({visible:t,children:e,duration:n,onComplete:i})=>Tk(pC,{in:t,duration:n,styles:{enter:{transform:"translateY(-100%)",transition:`transform ${n}ms linear, opacity ${n}ms`,opacity:0},enterActive:{opacity:1,transition:`transform ${n}ms cubic-bezier(0, 1.14, 0.57, 1.21), opacity ${n}ms`,transform:"translateY(0)",animationName:"bounce",animationDelay:n,animationDuration:"0.5s",animationFillMode:"forwards"},enterDone:{opacity:1,transform:"translateY(0)"},exit:{opacity:1,transform:"translateY(0)"},exitActive:{animationFillMode:"none",opacity:0,transform:"translateY(-100%)",transition:`transform ${2*n}ms linear, opacity ${2*n}ms linear`},exitDone:{display:"none"}},onExited:i,children:e}),WR=()=>{const t=EA((t=>t.displayList.alert)),e=WT(null),n=EA((t=>t.setAlert)),i=EA((t=>t.setDisplayList)),r=EA((t=>t.alert.currentAlert)),o=YT((()=>i("alert",!1)),[i]),s=YT((()=>n("currentAlert",CE.EMPTY)),[n]);return XT((function(){t&&(clearTimeout(e.current),e.current=setTimeout(o,1e3))}),[t,r]),Tk(GR,{visible:t,duration:100,onComplete:s,children:Tk("div",{className:"Alert_module_alert__bde6a4f3",role:"alert",hidden:!t,children:[Tk(wN,{onClick:o,icon:Tk(PA,{name:bk.CLOSE,className:"Alert_module_closeIcon__bde6a4f3"}),"aria-label":"Close alert",className:"Alert_module_close__bde6a4f3"}),r===CE.SPATIAL_UNSUPPORTED&&Tk(zR,{}),r===CE.SPATIAL_FAILURE&&Tk(XR,{})]})})};const qR="opacity 250ms ease-out",YR={enter:{opacity:0},enterActive:{opacity:1,transition:qR},enterDone:{opacity:1},exit:{opacity:1},exitActive:{opacity:0,transition:qR},exitDone:{display:"none"}},KR=Object.values(jN),ZR=()=>{const t=Ek((t=>t.element)),e=Ek((t=>t.accessGate.purpose)),n=Ek((t=>t.accessGate.url)),i=Ek((t=>t.accessGate.title)),o=Ek((t=>t.accessGate.accessGateReady)),s=Ek((t=>t.accessGate.accessGateLoaded)),a=Ek((t=>t.accessGate.closeAccessGate)),u=Ek((t=>t.accessGate.setAccessGateReady)),l=Ek((t=>t.accessGate.setAccessGateLoaded)),c=Ek((t=>t.accessGate.sendGateBPEvent)),d=Ek((t=>t.config)),[h,f]=UT(!1),[p,v]=UT(!1),m=e!==yv.EMPTY,_=h&&p&&m,b=h&&m&&!s,y=_&&o,g=kf(nf.REMOTE_ACCESS_GATE,"RemoteAccessGate_module_accessGate__82178468",b&&"RemoteAccessGate_module_waitingToDisplay__82178468",y&&"RemoteAccessGate_module_visible__82178468"),{componentVersion:w,hasError:T,componentTimeout:C,onError:E,onReload:k}=ok();return XT((()=>{f(!0)}),[]),XT((()=>{const e=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(cv(t),(function(){v(!0)}))}));p||e()}),[p,t]),Tk(pC,{in:_,styles:YR,duration:250,children:Tk("div",{className:"RemoteAccessGate_module_accessGateWrapper__82178468",children:[T&&Tk(JR,{onReload:k}),!T&&_&&Tk(UN,{visible:y,id:e,url:n,title:i,className:g,timeout:C,waitForReady:!0,onClose:a,onError:t=>{KR.includes(null==t?void 0:t.message)&&E(),c(wv.ERROR,t)},config:d,onRemoteComponentReady:u,onIframeLoad:l},w)]})})};const JR=({onReload:t})=>{const e=kf(nf.EXCLUDE_GLOBAL_BUTTON_STYLES,"RemoteAccessGateError_module_reload__765f151c");return Tk("div",{className:"RemoteAccessGateError_module_container__765f151c","data-component-type":"access-gate",children:[Tk(PA,{name:bk.INFO_CIRCLE,className:"RemoteAccessGateError_module_icon__765f151c","aria-hidden":"true"}),Tk(dN,{size:Hv.LG,weight:Uv.NORMAL,className:"RemoteAccessGateError_module_messageText__765f151c",role:"alert",children:"Unable to load registration form"}),Tk(wN,{className:e,size:$v.CUSTOM,onClick:t,"data-component-type":"reload-access-gate",children:Tk(dN,{size:Hv.MD,weight:Uv.BOLD,children:"Try again"})})]})};const QR=()=>{const t=Ek((t=>t.login.status)),e=Ek((t=>t.embed.videoId)),n=Ek((t=>t.embed.vimeoUrl)),{loginText:i,buttonTarget:r}=((t=Nv.NOT_LOGGED_IN)=>{const e={loginText:Bp()?{title:"Sign in to Vimeo to watch this video",subtitle:"You may need to allow cookies first. If asked, select <b>Allow</b> to continue.",buttonText:"Sign in"}:{title:"Sign in to Vimeo",subtitle:"This video is private. Sign in to watch.",buttonText:"Sign in"},buttonTarget:Zh.POPUP};switch(t){case Nv.LOGGED_IN_NO_ACCESS:e.loginText={title:"Private Video",subtitle:"Sorry, you dont have permission to watch.",buttonText:null};break;case Nv.LOGGED_IN_STORAGE_ACCESS_REQUIRED:e.loginText={title:"Allow cookies",subtitle:"Your browser will ask if you want to allow cookies. Select <b>Allow</b> to continue.",buttonText:"Continue"};break;case Nv.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED:e.loginText={title:"Continue to sign in",subtitle:"You may now sign in to watch this video.",buttonText:"Continue"};break;case Nv.ALL_ACCESS_ATTEMPTS_FAILED:e.loginText={title:"Video unavailable",subtitle:"Try watching on vimeo.com.",buttonText:"Watch on Vimeo"},e.buttonTarget=Zh.ON_SITE}return e})(t),{loginHandler:o}=(()=>{const t=Ek((t=>t.events)),e=Ek((t=>t.embed.videoId)),n=WT(null),{openLoginPopup:i}=Qk({url:`/video/${e}/login/private`,context:Hk.PRIVATE_LOCKED});return XT((()=>{n.current=function({events:t,dependencies:e=Mv}){const n={onLoginRequested:function(e){l=e,!i()||s?(c(),d()):(a++,r(c).then((e=>e?(s=!0,o||d(),void t.fire(Nh.Bl,"private")):void(v(1)?f(Nv.ALL_ACCESS_ATTEMPTS_FAILED):d()))).catch((t=>{})))}},{storageAccessRequired:i,requestCookieAccess:r}=e;let o=!1,s=!1,a=0,u=0,l=Zf;function c(){o=!0,l()}function d(){t.once(Nh.Vl,h)}function h(){u++;const t=p();v()?f(Nv.ALL_ACCESS_ATTEMPTS_FAILED):f(!t&&o?Nv.LOGGED_IN_STORAGE_ACCESS_REQUIRED:Nv.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED)}function f(e){t.fire(Nh.bd,e)}function p(){return a>=2}function v(t=2){const e=!i()&&o&&u>0,n=u>=t,r=p();return n&&r||e}return n}({events:t})}),[t]),{loginHandler:()=>{n.current&&n.current.onLoginRequested(i)}}})(),s=t===Nv.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED||t===Nv.ALL_ACCESS_ATTEMPTS_FAILED;return Tk("div",{className:"PrivateGate_module_privateGateWrapper__19e4c72e","data-private-gate":!0,children:[Tk(dN,{element:"h1",className:"PrivateGate_module_header__19e4c72e",children:i.title}),Tk(dN,{className:"PrivateGate_module_subtitle__19e4c72e",weight:Uv.NORMAL,containsMarkup:!0,"data-private-text":!0,children:i.subtitle}),t!==Nv.LOGGED_IN_NO_ACCESS&&Tk(wN,{role:s?"link":void 0,color:jv.PRIMARY,className:kf("PrivateGate_module_login__19e4c72e","PrivateGate_module_loginButton__19e4c72e",pN),"aria-describedby":s?rf.NEW_WINDOW_DESCRIPTION:void 0,onClick:()=>{if(r===Zh.POPUP)return void o();const t=`https://${n}/${e}`;window.open(t,"_blank")},children:i.buttonText})]})};function tL(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const eL=rL((function(t,e){const n=new URLSearchParams({password:window.btoa(qd(t))}),i=Nt(e,At(window.location.search));return tL(ie(i,{method:"post",body:n.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include"}),(function(t){return tL(t.json(),(function(e){if(!t.ok||!1===e)throw new Error("Password submission failed");return e}))}))}));function nL(){}function iL(t){var e=t();if(e&&e.then)return e.then(nL)}function rL(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const oL=()=>{const t=Ek((t=>t.events)),e=Ek((t=>t.embed.playerUrl)),n=Ek((t=>t.embed.referrer)),i=Ek((t=>t.embed.videoId)),r=WT(null),o=WT(null),s=WT(null),[a,u]=UT(!1),[l,c]=UT("There is an error with this input."),[d,h]=UT(!1),f=`https://${e}/video/${i}/check-password?referrer=${n}`,p="Enter password",v=kf("PasswordGate_module_submitPassword__34c044bd",d&&"PasswordGate_module_loading__34c044bd"),m=()=>{const t=s.current;t.focus(),h(!1),u(!0),t.value.length?c("The password you entered is incorrect. Please try again."):c("Please enter the password.")},_=rL((function(e){return e.preventDefault(),c(""),u(!1),iL((function(){if(s.current.checkValidity())return h(!0),iL((function(){if(s.current.checkValidity())return function(t){if(t&&t.then)return t.then(nL)}(function(e,n){try{var i=tL(eL(s.current.value,f),(function(e){e&&t.fire(Nh.zl,e)}))}catch(t){return n()}return i&&i.then?i.then(void 0,n):i}(0,(function(){m()})))}));m()}))}));return Tk("div",{className:"PasswordGate_module_passwordGateWrapper__34c044bd","data-password-gate":!0,children:[Tk(dN,{className:"PasswordGate_module_header__34c044bd",element:"h1",children:"Password required"}),Tk(dN,{className:"PasswordGate_module_subtitle__34c044bd",weight:Uv.NORMAL,containsMarkup:!0,"data-private-text":!0,children:"If you have access, enter the password to watch."}),Tk("form",{className:"PasswordGate_module_form__34c044bd",ref:r,noValidate:!0,onSubmit:_,children:[Tk(cM,{message:l,visible:a,wrapperEl:s.current}),Tk("input",{className:"PasswordGate_module_passwordInput__34c044bd",placeholder:p,required:!0,"aria-required":"true","aria-label":p,"aria-invalid":a?"true":"false",ref:s,onInput:()=>u(!1),minLength:1,type:"password"}),Tk(wN,{className:v,onClick:_,ref:o,disabled:a,focusable:!1,"data-submit-password":!0,children:"Submit"})]})]})};const sL=()=>Tk("div",{className:"GeoBlockingGate_module_geoblockingGateWrapper__075a0430","data-geo-blocking-gate":!0,children:Tk(dN,{className:"GeoBlockingGate_module_header__075a0430",element:"h1",weight:Uv.BOLD,children:"This video is not available in your region"})}),aL=()=>{const t=Ek((t=>t.localAccessGate.purpose));return t!==Ok.EMPTY&&Tk("div",{className:"LocalAccessGate_module_localAccessGateWrapper__28aa198a",children:[t===Ok.GEO_BLOCKED&&Tk(sL,{}),t===Ok.PASSWORD&&Tk(oL,{}),t===Ok.PRIVATE_LOCKED&&Tk(QR,{}),t===Ok.ERROR&&Tk(dM,{})]})};function uL(){const t=EA((t=>t.setInteractive)),e=EA((t=>t.interactive.instanceId)),n=EA((t=>t.interactive.active)),i=EA((t=>t.interactive.enabled)),r=kf("VimeoInteractive_module_container__211f1fff",n&&"VimeoInteractive_module_active__211f1fff");return i?e?Tk("div",{children:Tk("div",{id:e,className:r},e)}):(t("instanceId",`vp-vimeo-interactive-instance-${Math.random().toString(36).substring(2)}`),null):null}const lL=()=>{const t=Ek((t=>t.videoThumbnail.isDisplayed)),e=Ek((t=>t.videoThumbnail.thumbnailUrl)),n=Ek((t=>t.videoThumbnail.shouldCoverBackground)),i={backgroundImage:`url(${e})`},r=kf(tf.VP_PREVIEW,"VideoThumbnail_module_videoThumbnail__d1b35579",n&&"VideoThumbnail_module_cover__d1b35579");return t&&e&&Tk("div",{className:r,style:i,"data-thumb":e})},cL=()=>Tk("span",{id:rf.NEW_WINDOW_DESCRIPTION,hidden:!0,children:"(opens a new window)"});var dL="LiveStatusAlerts_module_schedule__cf2b4eb9";const hL=()=>{const t=EA((t=>t.liveEvent.isLiveEvent)),e=EA((t=>t.liveEvent.isOnline)),n=EA((t=>t.liveEvent.liveEventSchedule)),i=EA((t=>t.liveEvent.isPending)),r=EA((t=>t.liveEvent.isActive)),o=EA((t=>t.liveEvent.isEnded)),s=EA((t=>t.liveEvent.isArchived)),a=EA((t=>t.liveEvent.dvrEnabled)),u=EA((t=>t.liveEvent.showEventSchedule)),l=EA((t=>t.playback.currentTime)),c=EA((t=>t.playback.atLiveEdge)),d=EA((t=>t.config.request.lang)),h=EA((t=>t.element)),[f,p]=UT(null),[v,m]=UT(null),[_,b]=UT(new Date),y=WT(null),g=qT((()=>new Date(n)),[n]),w=o&&a&&0!==l||!1===e&&!c,T=null===e,C=o&&!w&&!s,E=!1===e&&!w;return XT((()=>(T&&u?(i||r)&&n?Yv(g,_)>0?(p("time"),m(function(t,e,n=new Date){const i=Yv(e),r=Math.ceil(i/1e3).toFixed(0),o=Math.ceil(i/6e4).toFixed(0),s=Math.ceil(i/36e5).toFixed(0),a=Math.ceil(i/864e5).toFixed(0),u=n.toDateString()===e.toDateString();if(parseInt(a,10)>1||!u)return("This event is scheduled for\n"+new Intl.DateTimeFormat(t,{month:"long",day:"numeric"}).format(e)+"\nat "+new Intl.DateTimeFormat(t,{hour:"2-digit",minute:"2-digit"}).format(e)).split("\n");if(parseInt(s,10)>1&&u)return("This event is scheduled for\nToday\nat "+new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric"}).format(e)).split("\n");let l;const c=parseInt(o,10)>1;return l=c?"minutes":parseInt(r,10)>1?"seconds":"second",("This event will start in\n"+(c?o:r)+" "+l).split("\n")}(d,g,_)),y.current=setInterval((()=>{b(new Date)}),1e3)):(p("text"),m("This event hasn't started yet")):(i||r)&&(p("text"),m("This event hasn't started yet")):C?(p("text"),m("Live event ended")):E?(p("text"),m("Live stream offline")):(p(null),m(null)),()=>{y.current&&(clearInterval(y.current),y.current=null)})),[i,r,o,s,e,w,n,d,g,_,T,u,C,E]),t&&f&&v&&IC(Tk("div",{className:"LiveStatusAlerts_module_eventTextWrapper__cf2b4eb9","data-live-status-alerts":!0,children:["text"===f&&Tk("span",{className:dL,children:v}),"time"===f&&Tk("div",{className:dL,"data-live-event-schedule":!0,children:[Tk("span",{className:"LiveStatusAlerts_module_scheduleTitle__cf2b4eb9",children:v[0]}),Tk("span",{className:"LiveStatusAlerts_module_scheduleBody__cf2b4eb9",children:v[1]}),Tk("span",{className:"LiveStatusAlerts_module_scheduleFooter__cf2b4eb9",children:v[2]})]})]}),h)};const fL=()=>{const t=EA((t=>t.chromecast.isChromecastConnected)),e=EA((t=>t.chromecast.receiverFriendlyName)),n=EA((t=>t.playback.ended));return t&&!n&&Tk("div",{className:"ChromecastText_module_wrapper__5708223b",children:Tk("span",{className:"ChromecastText_module_text__5708223b",children:`Casting on ${e}`})})};function pL(t,e){const n=e.querySelector(`.${tf.VP_PLAYER_UI_CONTAINER}`),i=e.querySelector(`.${tf.VP_PLAYER_UI_OVERLAYS}`),r=e.querySelector(`.${tf.VP_VIDEO_WRAPPER}`);NT(Tk(kk,{player:t,children:[Tk(jI,{}),Tk(ZR,{}),Tk(aL,{}),Tk(_I,{element:r,children:Tk(lL,{})}),Tk(SA,{player:t,children:[Tk(fI,{}),Tk(kI,{}),Tk(_I,{element:i,children:[Tk(vR,{}),Tk(lR,{}),Tk(AI,{}),Tk(zM,{}),Tk(kM,{}),Tk(FM,{}),Tk(WM,{}),Tk(dI,{}),Tk(EI,{}),Tk(iI,{}),Tk(mI,{}),Tk(eR,{}),Tk(nR,{}),Tk(yR,{}),Tk(HR,{}),Tk(WR,{}),Tk(uL,{}),Tk(fL,{})]}),Tk(hL,{}),Tk(gR,{}),Tk(FI,{}),Tk(VI,{})]}),Tk(cL,{})]}),n)}let vL=0;function mL(t="b"){return`${t}${++vL}`}mL(),mL(),mL(),mL(),mL(),mL(),mL(),mL();const _L=mL(),bL=mL(),yL=mL(),gL=mL(),wL=mL(),TL=mL(),CL=mL(),EL=mL(),kL=mL(),SL=mL(),AL=mL(),NL=mL(),ML=mL(),OL=mL();var IL=Object.freeze({__proto__:null,CONFIG_CHANGED:_L,TELECINE_READY:bL,TELECINE_VIDEO_INIT:yL,PLAY_INITIATED:gL,QUALITY_CHANGED:wL,FORCED_QUALITY:TL,CUE_CHANGED:CL,CAPTIONS_CHANGED:EL,SPATIAL_PLAYBACK_TOGGLED:kL,PICTURE_IN_PICTURE_AVAILABLE_SAFARI:SL,HLS_QUALITY_CHANGED:AL,REQUEST_COMPLETE_LIVE_SUBTITLES:NL,COMPLETE_LIVE_SUBTITLES_LOADED:ML,COMPLETE_LIVE_SUBTITLES_ERROR:OL}),RL=Object.freeze({__proto__:null,EVENT_PENDING:"liveeventpending",EVENT_ACTIVE:"liveeventactive",EVENT_STARTING:"liveeventstarting",EVENT_STARTED:"liveeventstarted",EVENT_ENDED:"liveeventended",ARCHIVE_STARTED:"livearchivestarted",ARCHIVE_DONE:"livearchivedone",ARCHIVE_ERROR:"livearchiveerror",SETTINGS_UPDATED:"livesettingsupdated",LOW_LATENCY_FALLBACK:"lowlatencyfallback",LIVE_STATS_SUCCESS:"livestatssuccess",LIVE_STATS_FAILURE:"livestatsfailure"});J(J(J(J(J(J(J(J({},ao),ho),fo),RL),po),lo),vo),IL),J(J({},fo),RL);let LL=function(){function t(){}return t.init=function(t){this.configurePictureInPicture(t.config,t.backbone),t.backbone.on(_L,((e,n)=>{this.getPipSetting(n)!==this.getPipSetting(e)&&this.configurePictureInPicture(e,t.backbone)}))},t.getPipSetting=function(t){var e;return null==(e=t.embed)||null==(e=e.settings)?void 0:e.pip},t.configurePictureInPicture=function(t,e){var n,i;e.disablePictureInPicture=!((null==(n=t.embed)||null==(n=n.settings)?void 0:n.pip)??1),e.autoPictureInPicture=!!((null==(i=t.embed)||null==(i=i.settings)?void 0:i.auto_pip)??1)},t}(),xL=function(t){LL.init(t)};const DL=[],PL=`\n    <div class="${nf.CONTENT_AREA_BACKGROUND_CONTAINER}" aria-hidden="true"></div>\n        <div class="${tf.VP_VIDEO_WRAPPER}" ${ff.CONTENT_AREA_SIBLING_ELIGIBLE} aria-hidden="true">\n            <div class="${tf.VP_VIDEO}">\n                <div class="${tf.VP_TELECINE}"></div>\n            </div>\n        </div>\n        <div class="${tf.VP_TARGET}" ${ff.CONTENT_AREA_SIBLING_ELIGIBLE}></div>\n        <div class="${tf.VP_PLAYER_UI_CONTAINER}" ${ff.CONTENT_AREA_SIBLING_ELIGIBLE}></div>\n        <div class="${tf.VP_PLAYER_UI_OVERLAYS}" ${ff.CONTENT_AREA_SIBLING_ELIGIBLE}></div>\n    </div>\n`;var BL=new Zn,$L=new Zn,jL=new Zn,VL=new Zn;let FL=function(){function t(t){var e;F(this,BL,void 0),F(this,$L,void 0),F(this,jL,void 0),F(this,VL,void 0),H(BL,this,t),H($L,this,{}),H(jL,this,0!==(null==(e=t.config)||null==(e=e.embed)||null==(e=e.settings)?void 0:e.skipping_forward)),H(VL,this,{timeStamp:null,videoTime:null,timeElapsed:0,playbackElapsed:0}),this.Lh=this.Lh.bind(this),this.Hd=this.Hd.bind(this),this.Cf()}var e=t.prototype;return e.Cf=function(){V(BL,this).events.on(ao.TIME_UPDATE,this.Lh),V(BL,this).events.on(Nh.Hl,this.Hd)},e.Lh=function(){this.Ef();const t=V(BL,this).currentTime;if(this.canSeekForward)this.maxPlayedTime=t;else if(!V(BL,this).backbone.seeking){const e=zc(V(VL,this).timeElapsed,0,1)+1;if(ac(t)>ac(this.maxPlayedTime+e))try{gb.isCastConnected&&(gb.chromecastPlayer.currentTime=this.maxPlayedTime),V(BL,this).backbone.currentTime=this.maxPlayedTime}catch(t){}else this.maxPlayedTime=t}},e.Hd=function(t,e){var n;if(t)for(const t in V($L,this))V($L,this).hasOwnProperty(t)&&delete V($L,this)[t];H(jL,this,0!==(null==e||null==(n=e.embed)||null==(n=n.settings)?void 0:n.skipping_forward))},e.Ef=function(){const t=performance.now()/1e3,e=V(BL,this).currentTime,n=t-(V(VL,this).timeStamp??t),i=e-(V(VL,this).videoTime??e);Object.assign(V(VL,this),{timeStamp:t,videoTime:e,timeElapsed:n,playbackElapsed:i})},e.kf=function(t){const e=t.startTime;return void 0===V($L,this)[e]&&(V($L,this)[e]=e),V($L,this)[e]},e.getAllowedSeekTime=function(t){if(!this.canSeekForward){const e=V(BL,this).fragmentsHandler.getFragmentFromTime(t),n=this.kf(e);return Math.min(t,n)}return t},e.canSeekToTime=function(t){return this.getAllowedSeekTime(t)>=t},X(t,[{key:"maxPlayedTime",get:function(){const t=V(BL,this).fragmentsHandler.getFragmentFromTime(V(BL,this).currentTime);return this.kf(t)},set:function(t){const e=V(BL,this).fragmentsHandler.getFragmentFromTime(t),n=this.kf(e);t=Math.max(t,n),V($L,this)[e.startTime]=t}},{key:"canSeekForward",get:function(){return V(jL,this)}},{key:"canSeekNow",get:function(){return!!this.canSeekForward||V(BL,this).currentTime<this.maxPlayedTime}}])}();function HL({element:t,delegate:e={},cssLoadedPromise:n=r.resolve(null),name:i=null}){pd(a_);let o=!1;const s=Wn(Ey,qn((t=>(...e)=>{const n=t.apply(void 0,e),i=Kd();function r(t,e){return(t=[].concat(t)).map((t=>e(n.createGetter(t))))}return J(J({},n),{},{watch:function(t,e){return r(t,(t=>{let r=i.get({selector:t,listener:e});if(!r){const o=function(t,e){let i=t(n.getState());return n.subscribe((function(){let r=t(n.getState());if(i!==r){let t=i;i=r,e(i,t,n.getState())}}))}(t,e);r=i.insert({selector:t,listener:e,unsubscribe:o})}return r.unsubscribe}))},unwatch:function(t,e){return r(t,(t=>{const n=i.get({selector:t,listener:e});return n&&n.unsubscribe()}))}})}),function(t={}){return e=>(...n)=>{const i=e.apply(void 0,n);function r(){return t}const o=bn((t=>{if(qe(t))return t;const e=Mn(r(),t);return qe(e)?e:e=>Mn(e,t)}));return J(J({},i),{},{getSelectors:r,createGetter:o,get:function(t,e){let n=(t=o(t))(i.getState());return void 0!==e&&(n=function(t,e){return null==t||t!=t?e:t}(n,e)),n}})}}(ky),Kn.apply(void 0,[]))),a=new Oe,u=new ti,l=new l_({events:u}),c=Ot();t.classList.add(`player-${c}`),t.classList.add("loading"),t.id||(t.id=`player${c}`),t.innerHTML=PL;const d=t.querySelector(`.${tf.VP_TELECINE}`);if(Se.iOS){const t=document.createElement("video");d.appendChild(t);try{t.setAttribute("muted",""),t.setAttribute("playsinline",""),t.load()}catch(t){a_.captureException(t)}}let h,f,p,v,m,_,b,y=null,g=null,w=null,T=null,C=null,E=null,k=[],S=null,A=null,N=null,M=null,O=null,I=null,R=!1,L=!1,x=null,D=null,P={};const B=new r(((t,e)=>{_=t,b=e,R=!0})).then((()=>(R=!1,u.fire(Nh.be),null)));let $,j;const V=new r(((t,e)=>{$=t,j=e,L=!0})).then((()=>(L=!1,null)));let F=((t,e,n,i=!0)=>new r(((r,o)=>{t.on(e,(t=>{r(t)})),"number"==typeof n&&setTimeout((()=>{i?o():r(null)}),n)})))(u,Nh._d),H={get config(){return l.config},set config(t){l.config=t},get delegate(){return e},set delegate(t){e=t},ready(t){if(!t)return B;B.then((()=>t())).catch((t=>{a_.captureException(t)}))},playbackEngineReady(t){if(!t)return V;V.then((()=>t())).catch((t=>{a_.captureException(t)}))},get sessionId(){return l.config.request.session},get name(){return i},get parentUrl(){return M},set parentUrl(t){M=t},destroy(){(R||L)&&(b("Cancelling ready promise for player initialization."),j("Cancelling playback engine ready promise for player initialization.")),u.fire(Ah.nu)}};function U(t){var e;const{old:n,loaded:i}=t;if(function(t,e){var n;null==(n=e.request)||n.ab_tests}(0,i),(t=>{Se.mse=t})(_t(i.request.flags.disable_mms)),null!=(e=i.request)&&e.urls.js&&function(t){ct=t.substring(0,t.lastIndexOf("/")+1)}(i.request.urls.js),window.parent!==window){var r;let t="Private Video on Vimeo";i.view!==Lh.main&&i.view!==Lh.privateUnlocked||(t=`${i.video.title} from ${i.video.owner.name} on Vimeo`),document.title=t,null!=(r=history)&&r.replaceState&&i.video&&n&&history.replaceState({id:i.video.id},"",`/video/${i.video.id}${window.location.search}`)}if(i.view!==Lh.main&&i.view!==Lh.privateUnlocked)throw new Error(`Config not authorized: ${i.view}`);!function(t,e){null!=t&&t.embed&&null!=e&&e.embed&&[["color",Xh],["color_one",zh],["color_two",Xh],["color_three",Gh],["color_four",Wh]].forEach((([n,i])=>{e.embed[n]&&t.embed[n]!==e.embed[n]&&u.fire(Ah.Pa,e.embed[n],i)}))}(n,i),T&&T.reset();let o=!n||!n.video||n.video.id!==i.video.id||n.video.version.current!==i.video.version.current;return f=null,v=y,u.fire(Ah.Ra),s.dispatch(Sb(i)),u.fire(Nh.Hl,o,i),t}function z(){var e;null==(e=g)||e.hide(),t.classList.remove("loading"),_()}function X(t){return n.then((()=>{if(q(t),u.fire(Ah.lu),"function"!=typeof P.authorizationHandler)throw new Error("Config was not authorized.");return P.authorizationHandler(z)})).then((t=>(l.config=t,f=null,s.dispatch(Sb(l.config)),u.fire(Ah.Ra),u.fire(Nh.Hl,!0,l.config),t)))}function G(){o||(u.on(Nh.Bl,(function(t){l.reload().then((e=>l.config.user.logged_in?(u.fire(Nh.$l,t),"private"===t&&u.fire(Nh.Xl,e.loaded),e):(u.fire(Nh.Vl),e))).catch((t=>{a_.captureException(t)}))})),u.on(Nh.jl,(()=>{l.reload().catch((t=>{a_.captureException(t)}))})),o=!0)}function W(e){!function(t){DL.forEach((e=>{const n=e(t.config);n&&t.addABTest(n)}))}(e),I=new FL(e),O=P_(e),G(),function(e){g=new V_(e),y=new Xd(d,l.config),v=y,S=new gw(e),new Pb(e,s,t.querySelector(`.${tf.VP_VIDEO_WRAPPER}`)),Y(e),e.doNotTrackEnabled||(l.config.request.urls.test_imp&&function(t,e){if(!t.config.request.ab_tests)return;const n=new Vp(e);for(const e in t.config.request.ab_tests){const i=t.config.request.ab_tests[e];if(!i.track)continue;const r={session_id:t.config.request.session,test_id:e,test_group:String(i.group)};n.log(r,!0,!1).catch((t=>{}))}}(e,`${l.config.request.urls.test_imp}?beacon=1`),new Bg(e,s),new Jm(e),new qb(e),new $g(e),new fm(e,n_),function(t){function e(e){return function({value:n}){Ww[e]||(Ww[e]=!0,function(e,n){n_(im.PLAYER_PERFORMANCE_MEASUREMENT,t.config,{measurement_type:e,measurement_value:n})}(e,n))}}Math.random()<=Gw&&(function(t,e){var n,i=xw(),r=Sw("FID"),o=function(t){t.startTime<i.firstHiddenTime&&(r.value=t.processingStart-t.startTime,r.entries.push(t),n(!0))},s=Aw("first-input",o);n=Ow(t,r,e),s&&Nw((function(){s.takeRecords().map(o),s.disconnect()}),!0),s&&Mw((function(){var i;r=Sw("FID"),n=Ow(t,r,e),kw=[],Cw=-1,Tw=null,Uw(addEventListener),i=o,kw.push(i),Fw()}))}(e(Xw.FIRST_INPUT_DELAY)),function(t,e){Pw||(Dw((function(t){Bw=t.value})),Pw=!0);var n,i=function(e){Bw>-1&&t(e)},r=Sw("CLS",0),o=0,s=[],a=function(t){if(!t.hadRecentInput){var e=s[0],i=s[s.length-1];o&&t.startTime-i.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,s.push(t)):(o=t.value,s=[t]),o>r.value&&(r.value=o,r.entries=s,n())}},u=Aw("layout-shift",a);u&&(n=Ow(i,r,e),Nw((function(){u.takeRecords().map(a),n(!0)})),Mw((function(){o=0,Bw=-1,r=Sw("CLS",0),n=Ow(i,r,e)})))}(e(Xw.CUMULATIVE_LAYOUT_SHIFT)),function(t,e){var n,i=xw(),r=Sw("LCP"),o=function(t){var e=t.startTime;e<i.firstHiddenTime&&(r.value=e,r.entries.push(t),n())},s=Aw("largest-contentful-paint",o);if(s){n=Ow(t,r,e);var a=function(){zw[r.id]||(s.takeRecords().map(o),s.disconnect(),zw[r.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,a,{once:!0,capture:!0})})),Nw(a,!0),Mw((function(i){r=Sw("LCP"),n=Ow(t,r,e),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,zw[r.id]=!0,n(!0)}))}))}))}}(e(Xw.LARGEST_CONTENTFUL_PAINT)))}(e)),T=new cb(e),function(t){if(!Dp(t.config)||!t.config.embed.settings.chromecast)return;const e=new mb({core:t});gb.init({chromecastPlayer:e}),gb.on([vb.error,vb.mediaLoadedFailed],(t=>{a_.captureException(t)}))}(e),q(e)}(e),new xL(e)}function q(t){w||(w=new Og(t),Sy(H,w),og(a_))}function Y(e){const n=l.config.request.ads;n&&(n.adcode&&n.adunit||n.adurl)&&(C=new Zg(e,t.querySelector(`.${tf.VP_VIDEO_WRAPPER}`)),u.on(Nh.vu,(()=>{v=C,u.fire(Nh._c)})),u.on(Nh.mu,(()=>{v=y,u.fire(Nh._c)})),gb&&(gb.on(vb.connected,(()=>{C.toggleCastingState(!0)})),gb.on(vb.disconnected,(()=>{C.toggleCastingState(!1)}))))}function K(t,e){let n=t;return isNaN(t)&&"string"!=typeof t||(n=rh(ih(t),t,e)),n}const Z={get store(){return s},get config(){return l.config},get element(){return t},get events(){return u},get uuid(){return c},get expose(){return H},get backbone(){return y},get adHandler(){return C},get displayContext(){return v},get doNotTrackEnabled(){var t;return l.config.embed.dnt||(null==(t=l.config.request.flags)?void 0:t.dnt)},get playLoggingEnabled(){var t;return l.config.embed.log_plays&&(null==(t=l.config.request.flags)?void 0:t.plays)},get canPlayPictureInPicture(){var t;const e=!1!==Se.pictureInPictureSupportType,n=Se.spatialPlayback&&(null==(t=l.config.video)?void 0:t.spatial),i=(Se.iOS>=17||Se.browser.safari)&&y.readyState<2;i&&y.once(ao.LOADED_DATA,(()=>u.fire(Sc)));const r=1===l.config.embed.settings.pip;return e&&!i&&!n&&r},get currentTime(){return gb.isCastConnected?gb.chromecastPlayer.currentTime:y.currentTime},get debugCollector(){return S},overrideFragmentsHandler(t,e){var n;null==(n=A)||n.hibernate(),h=l.config.embed.interactive,N=A,A=t,l.config.embed.interactive=l.config.embed.interactive||{markers:0},l.config.embed.interactive.fragments=e,u.fire(Nh.Nu)},restoreLastFragmentsHandler(){var t;A=N,null==(t=A)||t.wake(),l.config.embed.interactive&&(l.config.embed.interactive=h),u.fire(Nh.Nu)},get fragmentsHandler(){return A},get seekingController(){return I},get ottVideoMetadata(){return E},set ottVideoMetadata(t){E=t},get startTime(){return x},set startTime(t){var e;null!==x&&null===t&&null===D&&(null==(e=O)||e.clearSegmentedPlayback()),x=t,u.fire(Nh.od,x)},get endTime(){return D},set endTime(t){var e;null!==D&&null===t&&null===x&&(null==(e=O)||e.clearSegmentedPlayback()),D=t,u.fire(Nh.sd,D)},get segmentedPlaybackEnabled(){return null!==x&&null!==D},get abTests(){return k},inView:()=>cv(t),addABTest(t){vt("A/B Test","color: white; background-color: blue")(`Test: ${t.test}, Group: ${t.group}`),k.push(t)},init:(e,o)=>p||(A=new ww(Z),new Jy(Z,s,t),P=o,p=l.load(e).then((e=>(new pL(Z,t),e))).then(U).catch((t=>(G(),X(Z)))).then((()=>"function"==typeof P.initializationHandler?r.resolve(o.initializationHandler()):null)).then((()=>(W(Z),$(),"function"==typeof P.postInitializationHandler?r.resolve(o.postInitializationHandler()):null))).then((()=>r.all([F,n]))).then(z).then((()=>(a_.setUp(Z.config,i||Qf.VimeoPlayer),null))).catch((t=>{a_.captureException(t)})),p),loadVideoViaIframe(t,e={},n={}){let i=[],r=e;for(const t in n)!0===n[t]&&i.push(t);i.length&&(r.listeners=i.join(",")),r.fromLoadVideo=1,r.referrer=l.config.request.referrer;const o=At(window.location.search),s=At(`${t}`.split("?")[1]);r=Object.assign(o,s,r);const a=St(r),u=oh(t);window.location.replace(`https://${l.config.player_url}/video/${u}?${a}`)},loadVideoViaConfig(e,n){if(m===e&&f)return f;if(u.fire(Ah.lu),null!=n&&n.video_version){let t=l.config.video.version.available;if(!t||!Array.isArray(t))return r.reject("No available video versions");if(t=t.map((t=>t.id)),-1===t.indexOf(n.video_version))return r.reject("Invalid version id specified")}u.fire(Nh._loadVideo),m=e,t.classList.add("loading");const i=K(e,n),o=a.get(i);return e=o?o.xd.loaded:e,f=l.load(e,n).then((t=>{if(o){const t=y.element;y=o._backbone,y.element.style.visibility="visible",t.parentNode.replaceChild(y.element,t),u.fire(Nh.sc)}return t=U(t),C||Y(Z),t})).catch((t=>X(Z))).then((()=>r.resolve(F))).then(z),f},preloadVideo(t,e,n){const i=K(e,n),o=a.get(i);return o?r.resolve(o):new l_({events:u}).load(e,n).then((e=>{e.loaded.preload=!0;const n=y.element.cloneNode(!1);n.style.visibility="hidden",y.element.parentNode.insertBefore(n,y.element);const r=new Xd(n,e.loaded);r.loadVideo(e.loaded),r.preload=t;const o={_backbone:r,xd:e};return a.set(i,o),o}))},performDelegateAction(t,n=()=>{},i=[]){var r,o;let s;var a;null!=(r=e)&&r[t.will]&&(s=(a=e)[t.will].apply(a,[l.config.video.id].concat(et(i))),!1===s)||(n.apply(void 0,[l.config.video.id].concat(et(i),[s])),null!=(o=e)&&o[t.did]&&e[t.did]())},ready:()=>B,playbackEngineReady:()=>V,verifyConfig:()=>l.verify(),refreshAssetUrls:()=>l.refreshAssetUrls().then((t=>{const e=J(J({},l.config),{},{request:t});return U({old:l.config,loaded:e})})).catch((t=>X(Z))),updatePhpTokens:()=>new r(((t,e)=>{if(function(t){const{vimeo_api_client_token:e,vimeo_api_interaction_tokens:{likes:n,watch_later:i,following:r}={},vimeo_live_client_token:o,vimeo_bucketed_live_client_token:s}=t;return e&&xv(e)||n&&xv(n)||i&&xv(i)||r&&xv(r)||o&&xv(o)||s&&xv(s)}(l.config.user)){const{signature:n,session:i,timestamp:r,expires:o}=l.config.request;Qt(`https://${l.config.player_url}/video/${l.config.video.id}/token/refresh?signature=${n}&session=${i}&time=${r}&expires=${o}`,{withCredentials:!0}).json().then((e=>(l.config.user.vimeo_api_client_token=e?e.vimeo_api_client_token:null,l.config.user.vimeo_api_interaction_tokens=e?e.vimeo_api_interaction_tokens:null,l.config.user.vimeo_live_client_token=e?e.vimeo_live_client_token:null,l.config.user.vimeo_bucketed_live_client_token=e?e.vimeo_bucketed_live_client_token:null,t()))).catch((t=>{a_.captureBreadcrumb("Failed to refresh JWT token",{},"auth","error"),e(t)}))}else t()}))};return Z}function UL(t,e,n){var i,r=2e3,o=4500,s=null,u=Se.touch?o:r,l=!0,c=!0,d=!1,h=null,f=!1,p=null,v=null,m=!0,_=!1,b=!1,y=!1,g=!1,w=!1;let T,C;var E=n.querySelector(`.${tf.VP_TARGET}`),k=n.querySelector(`.${tf.VP_CONTROLS}`);let S=n.querySelector('button[class*="_playButton_"]');var A=n.querySelector(`.${tf.VP_TITLE}`),N=n.querySelector(`.${tf.VP_VIDEO}`);let M=n.querySelector(`.${tf.VP_SIDEDOCK}`),O=n.querySelectorAll(`.${tf.VP_MENU}`),I=n.querySelector(`.${tf.ADS_WRAPPER}`),R=n.querySelector(`.${tf.COMPASS_WRAPPER}`),L=a(n.querySelectorAll("dialog[data-menu]"));const x=t.config.embed.autoplay&&(null==(i=t.config.request.flags)?void 0:i.autohide_controls),D=Se.touch?300:0;let P=null;const B=Pg(t.config,"webvr").group||!1;function $(){clearTimeout(s),s=null}function j(){v!==Uh&&(v&&v.isNewMenu&&v.isFullwidth()||w&&(clearTimeout(s),s=setTimeout((()=>F(!1,!0)),u)))}function V(){Eg.element&&Eg.element.classList.contains("js-player-fullscreen")&&(d||(n.classList.add("player-cursor-hide"),c=!0,d=!0))}function F(e,i){var r,o,s;if(v===Uh&&i)return;if(v&&v.isNewMenu&&v.isFullwidth())return;if(!_&&!m&&!n.classList.contains("player-ad"))return;if(y)return;$(),k=W(),S=q(),M=G(),O=n.querySelectorAll(`.${tf.VP_MENU}`);const u=document.activeElement&&document.body.classList.contains(tf.SHOWFOCUS)&&((null==(r=M)?void 0:r.contains(document.activeElement))||(null==(o=k)?void 0:o.contains(document.activeElement))||(null==(s=S)?void 0:s.contains(document.activeElement))),d=document.activeElement&&v===Uh&&a(O).find((t=>null==t?void 0:t.contains(document.activeElement)));u||d||(t.events.fire(e?Nh.Ml:Nh.Il),c=!0,Se.spatialPlayback&&t.config.video.spatial||(E.classList.add("hidden"),E.setAttribute("hidden","")),l=!0,V())}function H(){j(),g||_&&m&&!n.classList.contains("player-ad")||(t.events.fire(Nh.Ol),E.classList.remove("hidden"),E.removeAttribute("hidden"))}function U(){_||m?n.removeAttribute("tabindex"):_||m||b||n.setAttribute("tabindex","0")}function z(){t.events.on([ao.TIME_UPDATE,ao.SEEKED],(function e({currentTime:n}){n>=1.75&&null===s&&(t.events.fire(Nh.wu),t.events.off([ao.TIME_UPDATE,ao.SEEKED],e))}))}function X(){t.element.classList.remove("grabbable"),t.element.classList.remove("grabbing")}function G(){return M||(M=n.querySelector(`.${tf.VP_SIDEDOCK}`),M)}function W(){return k||(k=n.querySelector(`.${tf.VP_CONTROLS}`))}function q(){return S||(S=n.querySelector('button[class*="_playButton_"]'),S)}return function(){var e=!0;function i(){H()}function s(i){var o;if(u=r,c)c=!1;else if(void 0===T||void 0===C||i.screenX!==T||i.screenY!==C)if(T=i.screenX,C=i.screenY,d&&(n.classList.remove("player-cursor-hide"),d=!1),0!==i.screenX&&i.screenX!==screen.width-1&&0!==i.screenY&&i.screenY!==screen.height-1){if(e=!0,Se.spatialPlayback&&null!=(o=t.config.video)&&o.spatial){const e=Jd(t.element),n=i.clientX-e.left,r=i.clientY-e.top,o=180,s=r>t.element.clientHeight-55,a=n>t.element.clientWidth-45&&r<o;if(f||!s&&!a)return}l&&H(),j()}else $(),V(),e&&(F(!0),e=!1)}function h(t){var e;I=I||(I=n.querySelector(`.${tf.ADS_WRAPPER}`),I),L.length||(L=a(n.querySelectorAll("dialog[data-menu]"))),null!=(e=I)&&e.contains(t.target)||L.length&&L.some((e=>e.contains(t.target)))||F(!0)}function p(t){var e,i,r,o;k=W(),M=G(),S=q(),R=R||(R=n.querySelector(`.${tf.COMPASS_WRAPPER}`),R);var s=(null==(e=k)?void 0:e.contains(t.target))||(null==(i=M)?void 0:i.contains(t.target))||(null==(r=S)?void 0:r.contains(t.target));let a=null==(o=R)?void 0:o.contains(t.target);_&&m||a?s||!_&&!m||F(!0):(clearTimeout(P),P=setTimeout(H,D))}function v(t){if("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)return s(t)}Se.pointerEvents?y_(n).on("pointerenter",(function(t){if("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)return u=r,i();u=o,p(t)})).on("pointermove",v).on("pointerleave",(function(t){if("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)return h(t)})):y_(n).on("touchmove",(function(){u=o,j()})).on("touchend",p).on("mouseenter",i).on("mousemove",s).on("mouseleave",h),t.events.on(Nh.il,(function(){Se.pointerEvents?y_(Eg.element).on("pointermove",v):y_(Eg.element).on("mousemove",s)})),t.events.on(Nh.ol,(function(){Se.pointerEvents?y_(Eg.element).off("pointermove",v):y_(Eg.element).off("mousemove",s)}))}(),t.events.on(ao.PLAY,(function(t){x||0===t||H()})).on(Nh.rn,H).on([ho.BUFFER_ENDED,ao.SEEKED,Nh.Vu,Nh.bu,Nh.Zu],j).on(gc,(function(){w=!0})),t.events.on(Nh.Gu,(function(t){t&&j()})),t.events.on(Nh.fl,U).on(Nh.ld,U).on(Nh.Uu,(function(t){m=t,U()})).on(Nh.Xu,(function(t){_=t,U()})),t.events.on(Nh.Ql,(function(){y=!0,H()})).on(Nh.tc,(function(){y=!1})),function(){var i=!1,r=0;t.events.on(Nh.Gu,(function(t,e){v=t===Uh?t:t?e:null})),y_(n).on(Se.pointerEvents?"pointerup":"click",(function(i){if(v)return;if(2===i.button)return;if(!i.target.classList)return;if(!function(t){var e,i;return M=G(),A=A||(A=n.querySelector(`.${tf.VP_TITLE}`)),(t.classList.contains(tf.VP_TITLE)||t.classList.contains(tf.VP_TARGET)||(null==(e=A)?void 0:e.contains(t.parentNode))&&"HEADER"===t.parentNode.tagName||N.contains(t))&&!(null!=(i=M)&&i.contains(t))}(i.target))return;var o=("pointerup"===i.type||"MSPointerUp"===i.type)&&"mouse"!==i.pointerType&&i.pointerType!==i.MSPOINTER_TYPE_MOUSE;const s=w&&Se.spatialPlayback&&t.config.video.spatial&&h;if(Se.touch||o){const e=!Se.mobileAndroid;if(!s){if(w&&e)return;return void t.events.fire(Nh.Iu)}}1==++r&&setTimeout((function(){if(s){let e=p&&p.x===i.clientX&&p.y===i.clientY;return 1===r&&e&&!Se.mobileAndroid&&t.events.fire(t.backbone.paused?Nh.Iu:Nh.Ou),1!==r&&t.backbone.getEffectByName("ThreeSixtyEffect").snapToCenter(),void(r=0)}if(1===r){if(e.get(Nb)&&!e.get(Ob)&&!e.get(Rb))return;t.events.fire(t.backbone.paused?Nh.Iu:Nh.Ou)}else t.events.fire(Nh.Mu);r=0}),200)})),y_(n).on("mousedown",`.${tf.VP_VIDEO_WRAPPER}`,(function(t){var e;if(!i)return E.classList.remove("hidden"),E.removeAttribute("hidden"),2!==t.button&&document.createEvent&&((e=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),E.dispatchEvent(e)),!1})).on("contextmenu",`.${tf.VP_VIDEO}`,(function(t){return E.classList.remove("hidden"),E.removeAttribute("hidden"),!1})),t.events.on(Ah.Ga,(function(t){if(t)return i=!0,void E.classList.add("hidden");i=!1,E.classList.remove("hidden")}))}(),function(){function e(){b=!0,n.removeAttribute("tabindex")}function i(){b=!1,U()}let r,o;y_(n).on("focus","a, button, input, [tabindex]",(function(t){o=this,clearTimeout(r),r=null,document.activeElement===this&&H()})),y_(n).on("blur","a, button, input, [tabindex]",(function(){document.activeElement===this&&(r=setTimeout(F,50))})),n.addEventListener("focus",(function(){H(),o&&o.focus()}),!1),t.events.on(Nh.fl,e),t.events.on(Nh.pl,i),t.events.on(Nh.ld,e),t.events.on(Nh.dd,i)}(),t.events.on(Nh.il,(function(t){V(),h&&h.adjustRenderSize(),y&&H()})).on(Nh.ol,(function(t){l=!0,h&&h.adjustRenderSize(),t?F():(H(),$())})),z(),t.events.on(Ah.Ra,(function(){l=!0,c=!0,m=!0,_=!1,g=!1,w=!1,z(),$()})),t.events.on(Ah.Za,(function(){const e=t=>(...e)=>{h&&t.apply(void 0,e)},i=e((e=>{const n=t.element.classList.contains("webvr");h&&n&&h.toggleVR()})),r=e((e=>{h.isVRPresenting?setTimeout((()=>{t.events.fire(po.WEBVR_ENTER)}),100):setTimeout((()=>{t.events.fire(po.WEBVR_EXIT)}),100)}));t.events.on(Ah.Qa,e((()=>{t.element.classList.contains("webvr")||t.element.classList.add("grabbable")}))),t.events.on(Nh._u,e((()=>{X(),Se.webvr&&h.isVRPresenting&&B&&h.toggleVR()}))),t.events.on(gc,e((()=>{t.config.video.spatial||X()}))),(Se.webvr||Se.stereoscopic||Se.webxr)&&(Se.webvr&&window.addEventListener("vrdisplaypresentchange",r,!1),t.events.on(Nh.Ku,e((()=>{Se.webvr&&h.hasVRHeadset&&B?h.toggleVR():t.events.fire(Nh.Al)}))),t.events.on(po.WEBVR_HARDWARE_AVAILABLE,e((t=>{const e=n.querySelector(`.${tf.STEREOSCOPIC}`);e&&e.classList.contains("off")&&B&&e.classList.remove("off")}))),t.events.on(po.WEBVR_ENTER,e((e=>{window.addEventListener("vrdisplaydisconnect",i,!1),window.addEventListener("vrdisplaydeactivate",i,!1),t.element.classList.remove("grabbable"),t.element.classList.add("webvr"),h.isUserInteracting=!1}))),t.events.on(po.WEBVR_EXIT,e((e=>{window.removeEventListener("vrdisplaydisconnect",i),window.removeEventListener("vrdisplaydeactivate",i),t.element.classList.add("grabbable"),t.element.classList.remove("webvr"),h.isUserInteracting=!0}))));let o=null;const s=e((e=>{const n=t.element.classList.contains("webvr");f||n||(f=!0,e.preventDefault(),t.element.classList.add("grabbing"),p={x:e.clientX,y:e.clientY},h.makeContact(p))})),a=e((e=>{const n=t.element.classList.contains("webvr");f&&!n&&h.move({x:e.clientX,y:e.clientY})})),u=e((e=>{const n=t.element.classList.contains("webvr");f&&!n&&(t.element.classList.remove("grabbing"),h.releaseContact(!1),f=!1)})),l=e((e=>{e.preventDefault(),t.element.classList.contains("webvr")||(h.isUserInteracting||(h.isUserInteracting=!0),null!==o&&clearTimeout(o),o=setTimeout((()=>{t.element.classList.remove("player-cursor-hide"),t.element.classList.add("grabbable"),h.isUserInteracting=!1}),500),t.element.classList.add("player-cursor-hide"),t.element.classList.remove("grabbable"),h.moveWheel({x:e.deltaX,y:e.deltaY}))})),c=e((t=>{f||(f=!0,h.makeContact({x:t.touches[0].clientX,y:t.touches[0].clientY}))})),d=e((t=>{f&&(t.preventDefault(),h.move({x:t.touches[0].clientX,y:t.touches[0].clientY}))})),v=e((t=>{h.releaseContact(!0),f=!1})),m=e((t=>{h.moveDevice(t.alpha,t.beta,t.gamma,t.orientation)})),_=e((e=>{f=!1,t.element.classList.remove("grabbing"),h.abandonMotion()}));t.events.on(gc,(()=>{Se.android&&h&&window.addEventListener("deviceorientation",m,!1)})),t.events.once(gc,(()=>{t.store.watch("ui.player.boundingRect",(()=>{h&&h.adjustRenderSize(),f=!1})),Se.pointerEvents?(y_(E).on("pointerdown",s),window.addEventListener("pointermove",a),window.addEventListener("pointerup",u),window.addEventListener("pointerleave",_)):(y_(E).on("mousedown",s).on("wheel",l),E.addEventListener("touchstart",c,!!Se.passiveEvents&&{passive:!1}),window.addEventListener("touchmove",d,!!Se.passiveEvents&&{passive:!1}),window.addEventListener("touchend",v,!!Se.passiveEvents&&{passive:!1}),window.addEventListener("mousemove",a),window.addEventListener("mouseup",u),window.addEventListener("mouseleave",_))}))})),t.events.on(kc,(t=>{X(),h=t})),t.events.on(Nh.ku,(()=>{g=!0,clearTimeout(P),P=null})),t.events.on(Nh.Au,(()=>{g=!1})),{}}const zL=["a",".button-link",".menu li:hover",".menu li.active",".vp-share-footnote a:hover"],XL=["a:hover",".button-link:hover"],GL=[".controls-outro a:hover .fill"],WL=[".vp-share-buttons li","button.vp-share-embedCopy",".vp-chapters-active-indicator"],qL=[".vp-share-footnote--embed a","button.vp-share-embedCopy"],YL=['.vp-share-wrapper a[role="button"] .fill'],KL=[".vp-share-button .fill"],ZL=[".vp-share-button .fill"];function JL(t,{uuid:e,id:n,isMobileDevice:i}){var r=null;function o(t,r){var o=`.player-${e} `,s=o+t.join(","+o);if(r){var a=`${n} `;s+=`,${a}${t.join(","+a)}`}return i&&(s=s.replace(/:hover/g,":active")),s.replace(/ &/g,"")}return t.events.on(Ah.Pa,((n,i)=>{let s;const a=Yh[i],u=qh[i];try{s=new zf(n)}catch(t){s=new zf(u)}if(i===Xh){let n=function(t){r?function(){for(;r.cssRules.length>0;)r.deleteRule(0)}():function(){var t=document.createElement("style");t.setAttribute("data-player",e),document.querySelector("head").appendChild(t),r=t.sheet}();var n=t.complement,i=new zf(30,30,30,.9);i.contrast(n).ratio<3&&n.lighten(5,3,i);var s,a=t.lightness<40?t.clone().lighten(15,3,t):t.clone().darken(15,3,t),u=zf.white.contrast(t).ratio<4.5?zf.black:zf.white;return Zd(o(zL),"color:"+t.hex,r),Zd(o(GL),"fill:"+t.hex,r),Zd(o(WL),"background-color:"+t.hex,r),Zd(o(XL),"color:"+n.hex,r),t.luminance>.95&&(n=t.clone().darken(15,3,t),Zd(o(qL),"color:"+n.hex,r),Zd(o(YL),"fill:"+n.hex,r),a=n.clone().darken(15,3,n)),t.yiq>175&&t.luminance<.95&&(s=a.clone().darken(15,3,a),Zd(o(KL),"fill:"+a.hex,r)),Zd(o(ZL),"fill:"+u.hex,r),{main:t.hex,selected:a.hex,sidedockHover:s?a.hex:t.luminance>.95?n.hex:zf.white.hex,sidedockSelected:t.luminance>.95?n.hex:t.hex,sidedockSelectedHover:s?s.hex:a.hex}}(s);t.config.Sf=n}const l=qf(n)?s.hexWithAlpha:s.hex;t.config.embed[a]=l.replace("#","")})),t.events.fire(Ah.Pa,t.config.embed.color_one,zh),t.events.fire(Ah.Pa,t.config.embed.color_two||t.config.embed.color,Xh),t.events.fire(Ah.Pa,t.config.embed.color_three,Gh),t.events.fire(Ah.Pa,t.config.embed.color_four,Wh),{}}const QL={16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",74:"j",75:"k",76:"l"},tx={106:"j",107:"k",108:"l"},ex=["up","down","left","right"],nx=["right","l"],ix=["left","j"],rx="scrub",ox=[rx],sx=[of.TRANSCRIPT_LIST];function ax(t,e,n){var i=!!t.config.embed.on_site,r=n.querySelector(".volume"),o=!1;let s;var a=null,u=!1,l=t.config.video.fps/5,c=l,d=0,h=!1,f=nm(w,80),p=5;const v=Se.spatialPlayback&&t.config.video.spatial;function m(n){var i;return!e.get(Nb)||!(ox.includes(n)&&(null==(i=t.config.video.live_event)||!i.dvr))&&(e.get(Ob)||e.get(Rb))}function _(e){return"d"===e||!i&&(t.config.view===Lh.main||t.config.view===Lh.privateUnlocked)}function b(t){return"number"!=typeof t.which&&(t.which=t.keyCode),t}function y(t){if(!t)return"";if("keypress"===t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return t.which in QL?QL[t.which]:String.fromCharCode(t.which).toLowerCase()}function g(e){if(t.config.embed.settings.background)return!0;var n=e.target||e.srcElement;return"INPUT"===n.tagName||"SELECT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable}function w(n,i){var r,o;const s=nx.includes(n);if(!m(rx))return;if(null!=(r=t.backbone)&&null!=(r=r.telecine)&&r.ended&&s)return;if(null!=(o=t.config.video.live_event)&&o.dvr&&s&&t.backbone.atLiveEdge)return;if(s&&!t.seekingController.canSeekNow)return;h||(i&&!t.backbone.paused&&t.events.fire(Nh.Ou),t.events.fire(Nh.ju,{seekType:"keyboard",isFrameByFrame:i}),h=!0),function(n){var i=n,r=Math.ceil(l),o=Math.ceil(function(){const n=e.get(Nb)?t.backbone.liveEdgeTime-t.backbone.liveTailTime:t.config.video.duration;return Math.max(l,.618*n)}()-l);c=function(t,e,n){return t/=100,n*(--t*t*t+1)+e}(i,r,o)}(d),1==++d&&(c=t.config.video.fps*p);const a=i?1:c,u=s?a:-a,f=t.currentTime*t.config.video.fps;!function(n,i){let r,o;e.get(Nb)?(r=t.backbone.liveTailTime,o=t.backbone.liveEdgeTime):(r=t.fragmentsHandler.currentFragment.startTime,o=t.fragmentsHandler.currentFragment.endTime);let s=n/t.config.video.fps;s<r?s=r:s>=o?s=o-.001:t.events.fire(Nh.Su,{direction:s-t.currentTime>0?"forward":"backward",time:1!==d||i?null:p}),t.events.fire(Ah.Na,s)}((s?Math.ceil(f):Math.floor(f))+u,i)}function T(t){if(a===Uh)return!1;var e=a.getTabIndexItems(),n=e.indexOf(document.activeElement),i="up"===t?n-1:n+1,r=null;return!(r=i>=e.length?e[0]:i<0?e[e.length-1]:e[i])||(r.focus(),!1)}function C(e,n){if(a&&document.body.classList.contains(tf.SHOWFOCUS)&&"k"!==n)return!0;if(!m("play/pause"))return!0;if(!document.activeElement||document.activeElement===document.body||!document.body.classList.contains(tf.SHOWFOCUS)||"k"===n){const e=t.backbone.paused?Nh.Iu:Nh.Ou;return t.events.fire(e),!1}}function E(){const e=t.backbone.muted,n=t.backbone.volume;return e?(t.events.fire(Ah.Oa,!1),0===n&&t.events.fire(Ah.Ma,1)):e||0!==n?!e&&n>0&&t.events.fire(Ah.Oa,!0):t.events.fire(Ah.Ma,1),!1}function k(){return a!==Uh&&(a?(a.element.contains(document.activeElement)&&a.button.focus(),a.hide(),!1):!o&&void 0)}function S(){return!u&&(a===Uh||(a?!a.element.contains(document.activeElement)||T("up"):v?(t.backbone.getEffectByName("ThreeSixtyEffect").keyPress("up"),!1):!(!t.config.embed.on_site||!document.activeElement||n.contains(document.activeElement))||(t.events.fire(Ah.Ma,.05,!1,!0),!1)))}function A(){return!u&&(a===Uh||(a?!a.element.contains(document.activeElement)||T("down"):v?(t.backbone.getEffectByName("ThreeSixtyEffect").keyPress("down"),!1):!(!t.config.embed.on_site||!document.activeElement||n.contains(document.activeElement))||(t.events.fire(Ah.Ma,-.05,!1,!0),!1)))}function N(e,n){const i=ex.includes(n);if(a===Uh)return!0;if(t.displayContext===t.adHandler)return!0;if(a)return!a.element.contains(document.activeElement)||!i||T("left"===n?"up":"down");if(o&&s!==Pf.HELP)return!0;if(v&&i)return t.backbone.getEffectByName("ThreeSixtyEffect").keyPress(n),!1;if(document.activeElement&&document.activeElement===r&&i){var u="left"===n?-.05:.05;return t.events.fire(Ah.Ma,u,!1,!0),!1}e.shiftKey||0===d?w(n,e.shiftKey):f(n,e.shiftKey)}return function(){function e(t){o=!0,s=t,t!==Pf.NOT_SUPPORTED&&t!==yv.LEAD_CAPTURE_FORM||(i=!0)}function n(){o=!1,s=null}t.events.on(Nh.fl,e),t.events.on(Nh.ld,e),t.events.on(Nh.pl,n),t.events.on(Nh.dd,n)}(),t.events.on(Nh.Gu,(function(t,e){a=t?e||t:null})),t.events.on(Nh.Zc,(function(t){u=t})),t.events.on(Nh.Hl,(function(t){t&&(i=!1)})),function(){const{like:e,watch_later:n,share:i}=t.config.embed.settings,r={c:[Nh.Lu,!0],h:[Nh.Ru,!0],T:Nh.Qc,f:Nh.Mu,d:Nh.wl,A:Nh.td,k:C,j:N,l:N,m:E,space:C,up:S,down:A,left:N,right:N,esc:k,"?":[Ah.Ia,Pf.HELP]};function o(e){b(e);const n=y(e);if(function(t){return!(t.ctrlKey||t.metaKey||t.altKey||"keypress"===t.type&&t.charCode in tx||(t.which in QL?"keydown"!==t.type:"keypress"!==t.type))}(e)&&!g(e)&&_(n)&&n in r){if("function"==typeof r[n]){if(!1===r[n](e,n)){var i;if(e.preventDefault(),sx.includes(null==(i=e.target)?void 0:i.id))return;e.stopPropagation()}return}if(!1===function(e){return e=Array.isArray(e)?e:[e],t.events.fire.apply(null,e),!1}(r[n])){var o;if(e.preventDefault(),sx.includes(null==(o=e.target)?void 0:o.id))return;e.stopPropagation()}}}t.config.embed.on_site||(r.v=Ah.Da),e&&(r.x=Nh.sl),n&&(r.w=Nh.al),i&&(r.s=Nh.ul),t.config.embed.keyboard&&(document.addEventListener("keydown",o,!1),document.addEventListener("keypress",o,!1),document.addEventListener("keyup",(function(e){if(a!==Uh&&(b(e),!g(e)&&_())){var n=y(e);v&&ex.includes(n)?t.backbone.getEffectByName("ThreeSixtyEffect").keyUp(n):m(rx)&&(ix.includes(n)||nx.includes(n))&&function(e){f.cancel(),c=l,d=0;var n=e.shiftKey;t.events.fire(Nh.Vu,n),h=!1}(e)}}),!1))}(),t.events.on(Nh.nc,(function(){i=!1})).on(Nh.rc,(function(){i=!0})),t.config.embed.on_site&&document.querySelector(".player")===n&&(i=!1),function(){let t,e=!1;document.body.addEventListener("keyup",(t=>{b(t),9!==t.which||document.body.classList.contains(tf.SHOWFOCUS)||document.body.classList.add(tf.SHOWFOCUS)})),document.body.addEventListener("keydown",(n=>{b(n),32!==n.which&&13!==n.which||(e=!0,clearTimeout(t),t=setTimeout((()=>{e=!1}),200))})),document.body.addEventListener("click",(t=>{e||document.body.classList.remove(tf.SHOWFOCUS)}))}(),t.events.on(Ah.nu,(()=>{i=!0})),{pause:function(){i=!0},unpause:function(){i=!1}}}function ux(){return ux=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ux.apply(this,arguments)}var lx,cx=["bottom","height","left","right","top","width"],dx=new Oe,hx=function t(){var e=[];dx.forEach((function(t,n){var i=n.getBoundingClientRect();(function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),cx.some((function(n){return t[n]!==e[n]}))})(i,t.rect)&&(t.rect=i,e.push(t))})),e.forEach((function(t){t.callbacks.forEach((function(e){return e(t.rect)}))})),lx=window.requestAnimationFrame(t)},fx="undefined"!=typeof window?GC.useLayoutEffect:GC.useEffect;function px(t,e){void 0===e&&(e={width:0,height:0});var n=GC.useState(t.current),i=n[0],r=n[1],o=GC.useReducer(vx,e),s=o[0],a=o[1],u=GC.useRef(!1);return fx((function(){t.current!==i&&r(t.current)})),fx((function(){if(i&&!u.current){u.current=!0;var t=i.getBoundingClientRect();a({rect:t})}}),[i]),GC.useEffect((function(){if(i){var t=function(t,e){return{observe:function(){var n=0===dx.size;dx.has(t)?dx.get(t).callbacks.push(e):dx.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),n&&hx()},unobserve:function(){var n=dx.get(t);if(n){var i=n.callbacks.indexOf(e);i>=0&&n.callbacks.splice(i,1),n.callbacks.length||dx.delete(t),dx.size||cancelAnimationFrame(lx)}}}}(i,(function(t){a({rect:t})}));return t.observe(),function(){t.unobserve()}}}),[i]),s}function vx(t,e){var n=e.rect;return t.height!==n.height||t.width!==n.width?n:t}var mx=function(){return 50},_x=function(t){return t},bx=function(t,e){return t[e?"offsetWidth":"offsetHeight"]},yx=function(t){for(var e=Math.max(t.start-t.overscan,0),n=Math.min(t.end+t.overscan,t.size-1),i=[],r=e;r<=n;r++)i.push(r);return i};var gx=function(t,e,n,i){for(;t<=e;){var r=(t+e)/2|0,o=n(r);if(o<i)t=r+1;else{if(!(o>i))return r;e=r-1}}return t>0?t-1:0};zI(".TranscriptCue_lazy_module_cueListItem__bc77951f{display:flex;position:absolute;left:0;padding:1.2em;gap:8px;opacity:.6;list-style:none;border:1px solid transparent;cursor:pointer;width:100%;justify-content:space-between;padding-left:var(--transcript-horizontal-padding);padding-right:var(--transcript-horizontal-padding)}.right-content-area-supported.app-mini .TranscriptCue_lazy_module_cueListItem__bc77951f,.right-content-area-supported.app-tiny .TranscriptCue_lazy_module_cueListItem__bc77951f,.right-content-area-supported.app-xs .TranscriptCue_lazy_module_cueListItem__bc77951f,.right-content-area-supported.app-xxs .TranscriptCue_lazy_module_cueListItem__bc77951f{padding:.8em}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_inactive__bc77951f{opacity:.6}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_inactive__bc77951f:hover{opacity:1}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_focused__bc77951f,.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_hasSearchMatch__bc77951f,.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_isCurrentTime__bc77951f{color:#fff;opacity:1}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_isCurrentTime__bc77951f.TranscriptCue_lazy_module_playing__bc77951f{background-color:hsla(0,0%,100%,.1)}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_isCurrentTime__bc77951f.TranscriptCue_lazy_module_playing__bc77951f:hover,.TranscriptCue_lazy_module_cueListItem__bc77951f:hover{background:hsla(0,0%,100%,.2);color:#fff;opacity:1}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_focused__bc77951f{outline:2px solid #00adef;outline-offset:-2px}.TranscriptCue_lazy_module_cueText__bc77951f{font-size:1.4em;line-height:20px}.TranscriptCue_lazy_module_cueText__bc77951f[dir=rtl]{text-align:right}.right-content-area-supported.app-mini .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-tiny .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-xs .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-xxs .TranscriptCue_lazy_module_cueText__bc77951f{font-size:1.2em}.right-content-area-supported.app-xl .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-xxl .TranscriptCue_lazy_module_cueText__bc77951f{font-size:1.6em;line-height:24px}.TranscriptCue_lazy_module_timestamp__bc77951f{display:flex;justify-content:center;align-items:center;font-size:1.2em;padding:.4em .8em;height:2.4em;gap:1em;background:hsla(0,0%,100%,.2);border-radius:.4em;letter-spacing:.4px}.right-content-area-supported.app-mini .TranscriptCue_lazy_module_timestamp__bc77951f,.right-content-area-supported.app-tiny .TranscriptCue_lazy_module_timestamp__bc77951f,.right-content-area-supported.app-xs .TranscriptCue_lazy_module_timestamp__bc77951f,.right-content-area-supported.app-xxs .TranscriptCue_lazy_module_timestamp__bc77951f{height:2em;padding:.4em;border-radius:.2em;font-size:1em}",{});zI(".CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9{color:#fff;background-color:hsla(0,0%,100%,.3);position:relative;line-height:normal;border-radius:2px;padding:2px}.CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9{color:#000;background-color:#fff;font-weight:bolder;padding:2px 4px}.right-content-area-supported.app-mini .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9,.right-content-area-supported.app-tiny .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9,.right-content-area-supported.app-xs .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9,.right-content-area-supported.app-xxs .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9{line-height:16px}",{});const wx=({cue:t})=>{const e=GI((t=>t.searchTerms)),n=GI((t=>t.searchResults)),i=GI((t=>t.currentSearchResultIndex)),r=n.filter((e=>e.originalIndex===t.originalIndex));if(r.length){const n=e.terms.length;let o=[];if(0!==r[0].matchStart){const e=t.text.slice(0,r[0].matchStart);o.push(e)}return o=r.reduce((function(e,o,s){const{matchStart:a,searchIndex:u}=o,l=kf("CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9",u===i&&"CueSearchHighlight_lazy_module_current__c7df5ff9"),c=r[s+1],d=t.text.slice(a,a+n);if(e.push(Tk("mark",{className:l,children:d})),c){const i=t.text.slice(a+n,c.matchStart);e.push(i)}else{const i=t.text.slice(a+n);e.push(i)}return e}),o),Tk(uT,{children:o.map(((t,e)=>Tk(uT,{children:t},e)))})}return Tk(uT,{children:t.text})},Tx=({index:t,cue:e,isCurrentTime:n,hasSearchMatch:i,measureRef:r,style:o,onClick:s,isFocused:a=!1})=>{const u=GI((t=>t.timecodeDisplayed)),l=GI((t=>t.searchResults)),c=GI((t=>{var e;return null==(e=t.selectedTrack)?void 0:e.rtl})),d=EA((t=>t.playback.paused)),h=l.some((t=>t.originalIndex===e.originalIndex)),f=kf("TranscriptCue_lazy_module_cueListItem__bc77951f",!i&&!a&&!n&&"TranscriptCue_lazy_module_inactive__bc77951f",i&&"TranscriptCue_lazy_module_hasSearchMatch__bc77951f",n&&"TranscriptCue_lazy_module_isCurrentTime__bc77951f",a&&"TranscriptCue_lazy_module_focused__bc77951f",!d&&"TranscriptCue_lazy_module_playing__bc77951f");return Tk("li",J(J({role:"option",id:`${of.TRANSCRIPT_CUE_PREFIX}-${t}`,className:f,"aria-selected":a,ref:r,style:o},bf(s)),{},{onMouseDown:t=>t.preventDefault(),children:[Tk("span",{className:"TranscriptCue_lazy_module_cueText__bc77951f",dir:c?"rtl":"ltr",children:h?Tk(wx,{cue:e}):e.text}),u&&Tk("span",{className:"TranscriptCue_lazy_module_timestamp__bc77951f",children:e.startTimeDisplay})]}))};zI(".TranscriptList_lazy_module_container__563e7abf{background-color:initial;overflow:hidden;display:flex;flex-direction:column;position:relative}.TranscriptList_lazy_module_listContainer__563e7abf{display:flex;padding-top:0;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.TranscriptList_lazy_module_listContainer__563e7abf::-webkit-scrollbar{display:none}.TranscriptList_lazy_module_list__563e7abf{width:100%;position:relative;list-style:none;margin:0}.TranscriptList_lazy_module_list__563e7abf:focus{outline:none}.TranscriptList_lazy_module_transcriptDisabled__563e7abf{cursor:not-allowed;position:absolute;left:0;top:0;width:100%;height:100%}",{});zI(".AutoFollowButton_lazy_module_autoFollowContainer__4ffc2cae{position:absolute;top:0;width:100%;display:flex;align-items:center;justify-content:center;z-index:40;pointer-events:none}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae{color:#fff;padding:4px 12px;height:32px;display:flex;align-items:center;justify-content:center;border:1px solid hsla(0,0%,100%,.4);border-radius:.4em;background-color:rgba(0,0,0,.9);font-size:1.4em;font-weight:700;cursor:pointer}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae span{font-size:1.4em}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae.AutoFollowButton_lazy_module_visible__4ffc2cae{pointer-events:auto}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae:hover:not(:disabled){border:1px solid #fff;background-color:#000}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae:hover:not(:disabled):active{outline:none;background-color:rgba(0,0,0,.9)}",{});const Cx=({visible:t,onClick:e,tabIndex:n})=>{const i=kf("AutoFollowButton_lazy_module_autoFollowContainer__4ffc2cae"),r=kf("AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae",t&&"AutoFollowButton_lazy_module_visible__4ffc2cae",pN);return Tk("div",{className:i,children:Tk(NA,{visible:t,styleOverrides:{exitDone:{display:"none"}},children:Tk(wN,J(J({className:r,tabIndex:n},bf(e)),{},{children:"Return to current time"}))})})},Ex=({cues:t})=>{const e=WT(null),n=WT(-1),i=WT(-1),r=WT(0),o=WT(0),s=WT(null),a=EA((t=>t.playback.currentTime)),u=EA((t=>t.appearance.appBreakpoint)),l=WT(u),c=EA((t=>t.appearance.rightContentAreaAnimating)),d=EA((t=>t.setPlayback)),h=EA((t=>t.embed.seekingForward)),f=EA((t=>t.playback.paused)),p=GI((t=>t.transcriptDisabled)),v=GI((t=>t.timecodeDisplayed)),m=EA((t=>t.displayList.outro)),_=EA((t=>t.setDisplayList)),b=EA((t=>t.liveEvent.isLiveEvent)),y=GI((t=>t.settingsDisplayed)),g=GI((t=>t.setSettingsDisplayed)),w=GI((t=>t.currentSearchResultIndex)),T=GI((t=>t.autoFollowEnabled)),C=GI((t=>t.setAutoFollowEnabled)),E=GI((t=>t.searchResults)),k=GI((t=>t.transcriptSizeMode)),S=GI((t=>t.selectedTrack)),A=ek(),N=m&&!c,M=function(t){var e,n=t.size,i=void 0===n?0:n,r=t.estimateSize,o=void 0===r?mx:r,s=t.overscan,a=void 0===s?1:s,u=t.paddingStart,l=void 0===u?0:u,c=t.paddingEnd,d=void 0===c?0:c,h=t.parentRef,f=t.horizontal,p=t.scrollToFn,v=t.useObserver,m=t.initialRect,_=t.onScrollElement,b=t.scrollOffsetFn,y=t.keyExtractor,g=void 0===y?_x:y,w=t.measureSize,T=void 0===w?bx:w,C=t.rangeExtractor,E=void 0===C?yx:C,k=f?"width":"height",S=f?"scrollLeft":"scrollTop",A=GC.useRef({scrollOffset:0,measurements:[]}),N=GC.useState(0),M=N[0],O=N[1];A.current.scrollOffset=M;var I=(v||px)(h,m)[k];A.current.outerSize=I;var R=GC.useCallback((function(t){h.current&&(h.current[S]=t)}),[h,S]),L=p||R;p=GC.useCallback((function(t){L(t,R)}),[R,L]);var x=GC.useState({}),D=x[0],P=x[1],B=GC.useCallback((function(){return P({})}),[]),$=GC.useRef([]),j=GC.useMemo((function(){var t=$.current.length>0?Math.min.apply(Math,$.current):0;$.current=[];for(var e=A.current.measurements.slice(0,t),n=t;n<i;n++){var r=g(n),s=D[r],a=e[n-1]?e[n-1].end:l,u="number"==typeof s?s:o(n),c=a+u;e[n]={index:n,start:a,size:u,end:c,key:r}}return e}),[o,D,l,i,g]),V=((null==(e=j[i-1])?void 0:e.end)||l)+d;A.current.measurements=j,A.current.totalSize=V;var F=_?_.current:h.current,H=GC.useRef(b);H.current=b,fx((function(){if(F){var t=function(t){var e=H.current?H.current(t):F[S];O(e)};return t(),F.addEventListener("scroll",t,{capture:!1,passive:!0}),function(){F.removeEventListener("scroll",t)}}O(0)}),[F,S]);var U=function(t){for(var e=t.measurements,n=t.outerSize,i=t.scrollOffset,r=e.length-1,o=gx(0,r,(function(t){return e[t].start}),i),s=o;s<r&&e[s].end<i+n;)s++;return{start:o,end:s}}(A.current),z=U.start,X=U.end,G=GC.useMemo((function(){return E({start:z,end:X,overscan:a,size:j.length})}),[z,X,a,j.length,E]),W=GC.useRef(T);W.current=T;var q=GC.useMemo((function(){for(var t=[],e=function(e,n){var i=G[e],r=ux(ux({},j[i]),{},{measureRef:function(t){if(t){var e=W.current(t,f);if(e!==r.size){var n=A.current.scrollOffset;r.start<n&&R(n+(e-r.size)),$.current.push(i),P((function(t){var n;return ux(ux({},t),{},((n={})[r.key]=e,n))}))}}}});t.push(r)},n=0,i=G.length;n<i;n++)e(n);return t}),[G,R,f,j]),Y=GC.useRef(!1);fx((function(){Y.current&&P({}),Y.current=!0}),[o]);var K=GC.useCallback((function(t,e){var n=(void 0===e?{}:e).align,i=void 0===n?"start":n,r=A.current,o=r.scrollOffset,s=r.outerSize;"auto"===i&&(i=t<=o?"start":t>=o+s?"end":"start"),"start"===i?p(t):"end"===i?p(t-s):"center"===i&&p(t-s/2)}),[p]),Z=GC.useCallback((function(t,e){var n=void 0===e?{}:e,r=n.align,o=void 0===r?"auto":r,s=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(n,["align"]),a=A.current,u=a.measurements,l=a.scrollOffset,c=a.outerSize,d=u[Math.max(0,Math.min(t,i-1))];if(d){if("auto"===o)if(d.end>=l+c)o="end";else{if(!(d.start<=l))return;o="start"}var h="center"===o?d.start+d.size/2:"end"===o?d.end:d.start;K(h,ux({align:o},s))}}),[K,i]),J=GC.useCallback((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Z.apply(void 0,e),requestAnimationFrame((function(){Z.apply(void 0,e)}))}),[Z]);return{virtualItems:q,totalSize:V,scrollToOffset:K,scrollToIndex:J,measure:B}}({size:t.length,parentRef:e,keyExtractor:t=>t}),O=M.virtualItems,I=function(t,e){const n=WT(null),i=YT((i=>{const r=Date.now(),o=t.current.scrollTop;cancelAnimationFrame(n.current);const s=()=>{const t=Date.now()-r,a=t/1e3,u=function(t){return t<.5?16*Math.pow(t,5):1+16*--t*Math.pow(t,4)}(Math.min(a,1)),l=e.virtualItems.find((t=>t.key===i));if(!l)return void cancelAnimationFrame(n.current);const c=o+(l.start-o)*u;e.scrollToOffset(c),t<1e3&&(n.current=requestAnimationFrame(s))};n.current=requestAnimationFrame(s)}),[t,e]);return i}(e,M),R=YT(((t,e={align:"start"})=>{M.scrollToIndex(t>-1?t:0,e)}),[t,N]),{currentFocusedCue:L,queueListFocus:x,setListBlurred:D,setListFocused:P}=((t,e,n)=>{const[i,r]=UT(null),o=null!==i,s=WT(null),a=t.length-1,u=EA((t=>t.setAppearance)),l=GI((t=>t.transcriptDisabled)),c=YT((t=>r(t)),[]),d=YT((()=>r(null)),[]),h=YT((t=>{s.current=t}),[]),f=YT(((t,n)=>{if(!o)return;let s=i;const u=0===i,l=i===a;t!==NE.NEXT||l||s++,t!==NE.PREV||u||s--,t!==NE.FIRST||u||(s=0,null==n||n.preventDefault()),t!==NE.LAST||l||(s=a,null==n||n.preventDefault()),r(s),e(s,{align:"auto"})}),[o,i,a,e]),p=YT((()=>f(NE.NEXT)),[f]),v=YT((()=>f(NE.PREV)),[f]),m=YT((t=>f(NE.FIRST,t)),[f]),_=YT((t=>f(NE.LAST,t)),[f]),b=YT((t=>{var e;null!==s.current&&(t.preventDefault(),null==(e=n.current)||e.focus(),r(s.current),s.current=null)}),[n]);return tk("ArrowDown",p),tk("ArrowUp",v),tk("Home",m),tk("End",_),tk("Escape",d),tk("Tab",b),XT((()=>{u("transcriptNavActive",o)}),[o,u]),XT((()=>{l&&r(null)}),[l]),{currentFocusedCue:i,queueListFocus:h,setListBlurred:d,setListFocused:c}})(t,R,s),B=!T&&!y&&!E.length&&null===L;XT((function(){null!=E&&E.length&&w!==n.current&&(R(E[w].originalIndex,{align:"start"}),n.current=w)}),[E,w,R]),XT((function(){M.measure()}),[v]),XT((function(){!function(){if(!T)return;const e=((t,e)=>t.findIndex((t=>t.startTime<=e&&t.endTime>e)))(t,a),n=(t=>t?t.endTime-t.startTime:0)(t[e]),s=e>-1,u=e!==r.current,l=n!==o.current;s&&(u||l)&&(i.current=r.current,r.current=e,o.current=n,LE(O,e)?I(e):R(e))}(),function(){const t=r.current,e=LE(O,t);e!==T&&C(e)}()}),[t,a,T,O,R,I,C]),XT((function(){T&&u!==l.current&&(R(r.current),l.current)}),[u,T,R]),XT((function(){!b&&h&&(r.current=0,R(0),C(!0))}),[R,C,b,h]);const $=YT((e=>{d("currentTime",t[e].startTime),r.current=e,A(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"click_transcript_cue",copy:t[e].startTimeDisplay,location:"player_embedded_transcript",element:"transcript_cue",current_transcript_language:null==S?void 0:S.language})}),[t,d,A,S]),j=YT((t=>{$(t),x(t),D(),k===AE.SMALL&&_("transcript",!1)}),[$,x,_,D,k]),V=YT((()=>{null!==L&&$(L)}),[L,$]),F=YT((t=>{L&&(t.preventDefault(),d("paused",!f))}),[L,f,d]);return tk("Enter",V),tk("Space",F),Tk("div",{className:"TranscriptList_lazy_module_container__563e7abf",children:[Tk("div",{className:"TranscriptList_lazy_module_listContainer__563e7abf",ref:e,onScroll:()=>{g(!1)},children:[Tk(Cx,{visible:B,onClick:function(){R(r.current),A(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"click_return_to_current_time",copy:"Return to current time",location:"player_embedded_transcript",element:"return_to_current_time_button",current_transcript_language:null==S?void 0:S.language})},tabIndex:p?null:0}),Tk("ul",{className:"TranscriptList_lazy_module_list__563e7abf",style:{height:`${M.totalSize}px`},id:of.TRANSCRIPT_LIST,"data-component-type":"loaded-transcript",tabIndex:p?null:0,role:"listbox",ref:s,"aria-label":"Transcript List","aria-activedescendant":null!==L?`${of.TRANSCRIPT_CUE_PREFIX}-${L}`:void 0,onFocus:()=>{const t=E.length?E[w].originalIndex:r.current,e=LE(O,t);P(t),e||R(t)},onBlur:D,"aria-multiselectable":"false",children:O.map((({index:e,measureRef:n,start:i})=>Tk(Tx,{index:e,cue:t[e],isFocused:e===L,isCurrentTime:e===r.current,hasSearchMatch:E.some((t=>t.originalIndex===e)),measureRef:n,style:{transform:`translateY(${i}px)`},onClick:t=>{t.stopPropagation(),j(e)}},e)))})]}),p&&Tk("div",{className:"TranscriptList_lazy_module_transcriptDisabled__563e7abf"})]})};zI("div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31{display:flex;flex-direction:column;position:absolute;width:auto;top:64px;left:0;border:1px solid hsla(0,0%,100%,.2);border-radius:8px;margin:0 16px;background-color:rgba(0,0,0,.9);height:fit-content!important}.right-content-area-supported.app-xl div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-xxl div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31{top:72px}.right-content-area-supported.app-mini div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-tiny div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-xs div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-xxs div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31{width:100%;height:100%!important;margin:0;border:none;top:0}",{});zI(".MainPanel_lazy_module_label__ac35b233{margin:0 0 0 .6666666667em;flex-grow:1;text-align:start}.MainPanel_lazy_module_value__ac35b233{margin:0 0 0 .8em;pointer-events:none}",{});const kx=()=>{const t=ek(),e=EA((t=>t.captions.textTracks)),n=GI((t=>t.transcriptSizeMode)),i=GI((t=>t.selectedTrack)),r=GI((t=>t.timecodeDisplayed)),o=GI((t=>t.toggleTimecodeDisplayed)),s=GI((t=>t.selectedSettingsMenu)),a=GI((t=>t.setSelectedSettingsMenu)),u="Timestamps",l=r?"Timestamps Enabled":"Timestamps Disabled",c=e.length>1,d=n===AE.LARGE?YE.LARGE:YE.MEDIUM;let h,f=Hv.MD;return d===YE.LARGE&&(f=Hv.LG,h=Hv.MD),Tk(uT,{children:[c&&Tk(qA,{label:"Language",value:null==i?void 0:i.label,onSelect:()=>a(SE.LANGUAGE),size:d,hasPopup:!0,isOpened:s===SE.LANGUAGE}),Tk(AN,{label:u,onSelect:()=>{o(),t(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"embed_transcript_timestamps",copy:l,location:"player_embedded_transcript",element:"timestamps_toggle",current_transcript_language:null==i?void 0:i.language})},checked:r,isMenuItem:!0,role:"menuitemcheckbox",children:[Tk(dN,{size:f,weight:Uv.NORMAL,className:"MainPanel_lazy_module_label__ac35b233",children:u}),Tk(dN,{weight:Uv.NORMAL,size:h,className:"MainPanel_lazy_module_value__ac35b233",ariaHidden:!0,children:r?"On":"Off"})]})]})},Sx=()=>{const t=GI((t=>t.selectedTrack)),e=GI((t=>t.availableTracks)),n=GI((t=>t.setSelectedTrack)),i=qT((()=>e.map((e=>e.id===t.id?J(J({},e),{},{active:!0}):e))),[t,e]);return Tk(JA,{items:i,onSelect:t=>n(t.currentTarget.dataset.id)})},Ax=({buttonRef:t})=>{const e=GI((t=>t.settingsDisplayed)),n=GI((t=>t.selectedSettingsMenu)),i=GI((t=>t.setSelectedSettingsMenu)),r=GI((t=>t.setSettingsDisplayed)),o=GI((t=>t.transcriptSizeMode)),s=t=>{null==t||t.stopPropagation(),i(SE.MAIN)},a=GI((t=>t.transcriptSizeMode))===AE.SMALL;let u,l,c;const d=()=>r(!1);switch(n){case SE.MAIN:u=a&&Tk(XA,{title:"Settings",onClose:d,forceModalMenu:a}),l=qE.TRANSCRIPT_SETTINGS,c=Tk(kx,{});break;case SE.LANGUAGE:u=Tk(XA,{title:"Language",onBack:s,hasCloseButton:!1,size:o===AE.LARGE?Hv.LG:Hv.MD}),l=qE.TRANSCRIPT_LANGUAGES,c=Tk(Sx,{})}return Tk(FA,{id:of.TRANSCRIPT_MENU,isMenuBlockingUI:a,className:"TranscriptMenu_lazy_module_menu__d664aa31 TranscriptMenu_lazy_module_transcriptMenu__d664aa31",headerContent:u,panelContent:c,panel:l,setMenuDisplayed:r,isMenuDisplayed:e,ariaLabel:"Transcript",onBack:s,buttonRef:t})};zI(".Transcript_lazy_module_transcript__462d056a{pointer-events:all;width:100%;position:absolute;top:0;bottom:0;height:100%;overflow:hidden;display:flex;flex-direction:column;gap:.8em;gap:1.2em;--transcript-horizontal-padding:16px}.player.app-lg .Transcript_lazy_module_transcript__462d056a,.player.app-xl .Transcript_lazy_module_transcript__462d056a{gap:1.2em}.player.app-xxl .Transcript_lazy_module_transcript__462d056a{gap:1.6em}.right-content-area-supported.app-mini .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a,.right-content-area-supported.app-tiny .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a,.right-content-area-supported.app-xs .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a,.right-content-area-supported.app-xxs .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a{background-color:initial}.Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_hidden__462d056a{pointer-events:none}.Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a{background-color:rgba(0,0,0,.9)}.Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_disabled__462d056a{cursor:not-allowed}.Transcript_lazy_module_transcript__462d056a form{margin:0 var(--transcript-horizontal-padding);flex-grow:0}.Transcript_lazy_module_transcript__462d056a button:disabled,.Transcript_lazy_module_transcript__462d056a input:disabled{cursor:not-allowed}.player.app-xl .Transcript_lazy_module_transcript__462d056a,.player.app-xxl .Transcript_lazy_module_transcript__462d056a{--transcript-horizontal-padding:24px}.player.app-mini .Transcript_lazy_module_transcript__462d056a,.player.app-tiny .Transcript_lazy_module_transcript__462d056a,.player.app-xs .Transcript_lazy_module_transcript__462d056a,.player.app-xxs .Transcript_lazy_module_transcript__462d056a{--transcript-horizontal-padding:12px}",{});const Nx=gC((({cues:t},e)=>{const n=EA((t=>t.liveEvent.isLiveEvent)),i=WT([]),r=EA((t=>t.embed.transcriptQuery)),o=EA((t=>t.embed.seekingForward)),s=EA((t=>t.playback.startTime)),[a,u]=UT(!1),l=GI((t=>t.transcriptDisabled)),c=GI((t=>t.searchTerms)),d=GI((t=>t.setSearchTerms)),h=GI((t=>t.resetSearchTerms)),f=GI((t=>t.setCurrentSearchResultIndex)),p=GI((t=>t.currentSearchResultIndex)),v=GI((t=>t.searchResults)),m=GI((t=>t.setSearchResults)),_=GI((t=>t.selectedTrack)),b=ek(),y=qT((()=>em((t=>{b(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"search_embed_transcript",copy:t,location:"player_embedded_transcript",element:"search_input",current_transcript_language:null==_?void 0:_.language})}),1500)),[b,_]);return XT((function(){if(c.terms.length<=2)m([]),i.current=[];else{const e=function(t,e){if(!e.length)return[];const n=[],i=Dv(e);for(let e=0;e<t.length;e++){const r=t[e].text;if("string"!=typeof r)continue;const o=Dv(r);let s=o.indexOf(i);for(;s>-1;)n.push(J(J({},t[e]),{},{searchIndex:n.length,matchStart:s})),s=o.indexOf(i,s+1)}return n}(t,c.terms);if(ES(e,i.current))return;if(i.current=e,e.length>0)if(c.timestamp){const t=((t,e)=>{let n={index:0,diff:1/0};for(let i=0;i<e.length;i++){if(e[i].startTime<=t&&e[i].endTime>=t)return i;const r=Math.abs(e[i].startTime-t),o=Math.abs(e[i].endTime-t),s=Math.min(r,o);s<n.diff&&(n={index:i,diff:s})}return n.index})(c.timestamp,e);f(t||0)}else f(p||0);m(e),y(c.terms)}}),[t,c,y,m,f,p]),XT((function(){!n&&o&&h()}),[o,t,n,h]),XT((function(){t.length>0&&!a&&r&&(d({terms:r,timestamp:s??null}),u(!0))}),[r,d,t,a,s]),Tk(EN,{ref:e,value:c.terms,ariaControls:of.TRANSCRIPT_LIST,onSearchIterate:f,onChange:t=>d({terms:t,timestamp:null}),disabled:l,placeholder:"Search transcript",numSearchResults:v.length,searchItemIterator:p})})),Mx=()=>{const t=EA((t=>t.setDisplayList));return Tk(ZI,{message:"Segment not transcribed.",onClose:()=>t("transcript",!1),componentType:"transcript-empty"})};zI(".SEOBotTranscriptRenderer_lazy_module_seoTranscript__92de6094 details[open]{background-color:#fff;padding:32px;height:50vh;overflow:scroll}",{});const Ox=({cues:t})=>{const e=EA((t=>t.element));return dv(e)&&(e.parentElement.style.flexDirection="column",e.parentElement.style.overflow="scroll"),function(t){const{videoObject:e}=Sg();null==t||!t.length||null!=e&&e.transcript||kg({transcript:t.map((({text:t})=>t)).join(" ")})}(t),Tk("div",{className:"SEOBotTranscriptRenderer_lazy_module_seoTranscript__92de6094",children:[Tk("details",{children:[Tk("summary",{children:"Video Transcript"}),t.map(((t,e)=>Tk("p",{children:[t.text," - ",Tk("span",{children:t.startTimeDisplay})]},`transcript-cue-${e}`)))]}),Tk("style",{children:".player_area.js-player_area {\n                        overflow: visible !important;\n                        z-index: 1 !important;\n                    }"})]})};zI(".TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{display:flex;padding-left:var(--transcript-horizontal-padding);padding-right:var(--transcript-horizontal-padding);align-items:center;gap:.4em;align-self:stretch;border-bottom:1px solid hsla(0,0%,100%,.2)}.player.app-xl .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-xxl .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{padding-top:1.6em;padding-bottom:1.6em}.player.app-lg .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-md .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{padding-top:1.2em;padding-bottom:1.2em}.player.app-sm .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-xs .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-xxs .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{padding-top:.8em;padding-bottom:.8em}.TranscriptHeader_lazy_module_transcriptHeader__3dd8816e header{width:100%;margin:0;flex:1 0 0}.TranscriptHeader_lazy_module_title__3dd8816e{margin:0}.player.app-xxl .TranscriptHeader_lazy_module_title__3dd8816e{font-size:2.4em;line-height:32px;letter-spacing:-.8px}.player.app-lg .TranscriptHeader_lazy_module_title__3dd8816e,.player.app-md .TranscriptHeader_lazy_module_title__3dd8816e,.player.app-xl .TranscriptHeader_lazy_module_title__3dd8816e{font-size:1.8em;line-height:24px;letter-spacing:-.6px}.player.app-sm .TranscriptHeader_lazy_module_title__3dd8816e{font-size:1.6em;line-height:20px;letter-spacing:-.4px}.player.app-xs .TranscriptHeader_lazy_module_title__3dd8816e,.player.app-xxs .TranscriptHeader_lazy_module_title__3dd8816e{font-size:1.4em;line-height:20px;letter-spacing:-.2px}",{});zI(".TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{border:none;line-height:3.8em;height:4em;min-width:4em;background:none;color:#fff}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 svg path{fill:#fff}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8:hover:not(:disabled),.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8:hover:not(:disabled):active{background-color:hsla(0,0%,100%,.3)}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8{top:3.6em;bottom:auto;z-index:1;pointer-events:none}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8.TranscriptControlButton_lazy_module_tooltipDisabled__b3e8cca8,.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8.TranscriptControlButton_lazy_module_tooltipHidden__b3e8cca8{display:none}.player.app-xl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.player.app-xxl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{width:40px;height:40px;padding:8px;border-radius:8px}.player.app-xl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8,.player.app-xxl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8{top:4.5em}.right-content-area-supported.app-mini .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-tiny .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-xs .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-xxs .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{border-radius:4px}.right-content-area-supported.app-lg .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-md .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-sm .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-xs .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{width:32px;height:32px;padding:4px;border-radius:4px}",{});const Ix=["icon","onClick","label","tooltipLabel","disabled","className","name"],Rx=gC(((t,e)=>{let{icon:n,onClick:i,label:r,tooltipLabel:o,disabled:s,className:a,name:u}=t,l=Q(t,Ix);const c=GI((t=>t.transcriptDisabled)),d=GI((t=>t.settingsDisplayed)),{onClick:h,onKeyDown:f,onMouseDown:p}=XE(i),v="boolean"!=typeof s?c:s,m=`transcript-${u}-button-tooltip`,_=kf(a,"TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8",pN),b=Tk(wN,J({ref:e,onClick:h,onKeyDown:f,onMouseDown:p,icon:n,iconSize:$v.SM,"aria-label":r,disabled:v,className:_},l)),y=kf("TranscriptControlButton_lazy_module_tooltip__b3e8cca8",v&&"TranscriptControlButton_lazy_module_tooltipDisabled__b3e8cca8",d&&"TranscriptControlButton_lazy_module_tooltipHidden__b3e8cca8");return Se.touch?b:Tk(oN,{id:m,tooltipContent:o,className:y,children:b})})),Lx=({className:t})=>{const e=GI((t=>t.selectedTrack)),n=EA((t=>t.displayList.transcript)),i=EA((t=>t.setDisplayList)),r="Close Transcript",o=ek(),s=!n;return Tk(Rx,{icon:Tk(PA,{name:bk.CLOSE,focusable:"false"}),label:r,tooltipLabel:"Close",onClick:()=>{i("transcript",!1),o(im.EMBEDDED_TRANSCRIPT_CLICK,{name:"exit_embed_transcript",copy:r,location:"player_embedded_transcript",element:"x_button",current_transcript_language:e.language})},disabled:s,"aria-controls":of.TRANSCRIPT_VIEWER,className:t,name:"close"})},xx=gC(((t,e)=>{const n=GI((t=>t.toggleSettingsDisplayed)),i=GI((t=>t.settingsDisplayed)),r=GI((t=>t.transcriptSizeMode))===AE.SMALL,o="Settings";return Tk(Rx,{ref:e,icon:Tk(PA,{name:bk.SLIDERS,focusable:"false"}),label:o,tooltipLabel:o,"aria-controls":of.TRANSCRIPT_MENU,"aria-expanded":i,"aria-haspopup":r?"modal":"true",onClick:n,name:"settings"})})),Dx=gC(((t,e)=>Tk("div",{className:"TranscriptHeader_lazy_module_transcriptHeader__3dd8816e",children:[Tk("header",{children:Tk(dN,{size:Hv.XL,className:"TranscriptHeader_lazy_module_title__3dd8816e",color:zv.WHITE,element:"h1",children:"Transcript"})}),Tk(xx,{ref:e}),Tk(Lx,{})]}))),Px=Se.android||Se.iOS,Bx=()=>{const t=EA((t=>t.displayList.transcript)),e=Ek((t=>!t.embed.transparent)),n=EA((t=>t.element)),i=WT(null),r=WT(null),o=WT(null),s=WT(!1),u=GI((t=>t.selectedTrack)),l=GI((t=>t.transcriptDisabled)),{status:c,cues:d,load:h}=((t=ME)=>{const e=EA((t=>t.captions.textTrackEls)),n=EA((t=>t.captions.requiresCrossOrigin)),i=EA((t=>t.playback.hasFragments&&t.playback.currentFragment)),r=e.find((e=>(null==e?void 0:e.srclang)===t)),o=EA((t=>t.liveEvent.isLiveEvent)),s=EA((t=>t.liveEvent.dvrEnabled)),u=EA((t=>t.playback.liveTailTime)),l=EA((t=>t.playback.liveEdgeTime)),c=EA((t=>t.embed.seekingForward)),d=EA((t=>t.playback.maxPlayedTime)),h=EA((t=>t.displayList.transcript)),f=EA((t=>t.events)),p=WT(!1),v=WT(!1),m=WT(h);let _=null,b=null;o?(_=u,b=l):c||(b=d);const y=WT(_),g=WT(b),[w,T]=UT({status:kE.IDLE,cues:[],rawCues:[],load:()=>{}}),C=YT((()=>{return s?(v.current||(f.on(Mc,o),f.on(Oc,d),f.on(ho.SEGMENT_CUES_LOADED,u)),c(),p.current=!0,f.fire(Ah.ru),v.current=!0,Zf):(r&&(r.readyState===ep.LOADED?e(r):r.readyState===ep.ERROR?(r.src=function(t,e,n){Sp(t,e)||((t="")=>t.includes("?"))(t)&&(t+=`&${e}=`);const i=new RegExp("([?&])t=.*?(&|$)","i");return t.replace(i,"$1t="+n+"$2")}(r.src,"t",JSON.stringify(Date.now())),d()):(r.addEventListener("load",t),r.addEventListener("error",d),n&&r.parentElement.setAttribute("crossorigin","anonymous"),r.track.mode="hidden",c())),function(){r&&(r.removeEventListener("load",t),r.removeEventListener("error",d))});function t(t){e(t.target)}function e(t){var e,n;"showing"!==(null==t||null==(e=t.track)?void 0:e.mode)&&(t.track.mode="hidden"),l(null==t||null==(n=t.track)?void 0:n.cues)}function o(t){l(t),p.current=!1}function u(t){null!=t&&t.length&&(p.current||function(t){T((e=>{const n=e.rawCues;if(function(t){var e;return(null==(e=t[t.length-1])?void 0:e.endTime)||0}(n)>function(t){var e;return(null==(e=t[0])?void 0:e.startTime)||0}(t))return e;const r=n.concat(t);return J(J({},e),{},{cues:xE(r,i,y.current,g.current),rawCues:r})}))}(t))}function l(t){try{let e=t?a(t):[];T((t=>J(J({},t),{},{status:kE.LOADED,cues:xE(e,i,y.current,g.current),rawCues:e,load:C})))}catch(t){d()}}function c(){T((t=>J(J({},t),{},{status:kE.LOADING,cues:[],load:C})))}function d(){T((t=>J(J({},t),{},{status:kE.ERROR,cues:[],load:C})))}}),[e,r,t,n,i,s,f]);return XT((()=>{C()}),[t,e,C]),XT((()=>{y.current=_,g.current=b,T((t=>J(J({},t),{},{cues:xE(t.rawCues,i,y.current,g.current)})))}),[i,_,b]),XT((()=>{s&&h&&!m.current&&C(),m.current=h}),[h,s,C]),w})(null==u?void 0:u.language),f=mk(t),p=YT((()=>{var t;null==n||null==(t=n.querySelector(`#${cf.TRANSCRIPT}`))||t.focus()}),[n]),v=YT((()=>{s.current=!0}),[]),m=YT((()=>{!t&&s.current&&(p(),s.current=!1)}),[t,p]);if((({status:t,transcriptSearchInputRef:e,transcriptContainerRef:n})=>{const i=EA((t=>t.displayList.rightContentArea)),r=EA((t=>t.appearance.rightContentAreaAnimating)),o=EA((t=>t.element));XT((function(){if(t===kE.LOADED&&i&&!r){var s,a,u;if((null==(s=document.activeElement)?void 0:s.id)!==cf.TRANSCRIPT&&!(null==(a=o.querySelector(`#${cf.TRANSCRIPT}`))?void 0:a.contains(document.activeElement)))return;let t;t=Px?uk(n.current).filter((t=>"input"!==t.tagName))[0]:e.current,null==(u=t)||u.focus()}}),[t,i,o,r,n,e])})({status:c,transcriptContainerRef:r,transcriptSearchInputRef:o}),c===kE.ERROR)return Tk(JI,{onRetry:h});if(kE.LOADED&&Se.isGoogleBot)return Tk(Ox,{cues:d});if(c===kE.LOADED&&(null==d||!d.length))return Tk(Mx,{});const _=kf("Transcript_lazy_module_transcript__462d056a",!t&&"Transcript_lazy_module_hidden__462d056a",e&&"Transcript_lazy_module_applyBackground__462d056a",l&&"Transcript_lazy_module_disabled__462d056a");return Tk("div",J(J({id:of.TRANSCRIPT_VIEWER,className:_,"data-component-type":"transcript",ref:r,onFocus:v,onBlur:m,"aria-label":"Transcript"},f),{},{children:[c===kE.LOADED&&Tk(UA,{children:[Tk(Dx,{ref:i}),Tk(Nx,{cues:d,ref:o}),Tk(Ax,{buttonRef:i})]}),c===kE.LOADING&&Tk(SN,{}),c===kE.LOADED&&Tk(Ex,{cues:d})]}))};var $x=Object.freeze({__proto__:null,Transcript:()=>Tk(qI,{children:Tk(Bx,{})})});zI(".Compass_lazy_module_compassBackground__71e9b9ee{fill:rgba(0,0,0,.9)}.Compass_lazy_module_compassRing__71e9b9ee{stroke:#fff}.Compass_lazy_module_compassDimple__71e9b9ee,.Compass_lazy_module_compassSlice__71e9b9ee{fill:#fff}.Compass_lazy_module_compassWrapper__71e9b9ee{pointer-events:all;opacity:.35;display:block;width:40px;height:40px;z-index:20;cursor:pointer;transition:opacity .2s ease-in-out,fill .2s ease-in-out;position:absolute;top:49%;right:1em;border:none;background:transparent;padding:0}.Compass_lazy_module_compassWrapper__71e9b9ee:focus,.Compass_lazy_module_compassWrapper__71e9b9ee:hover{opacity:1}.Compass_lazy_module_compassWrapper__71e9b9ee:focus .Compass_lazy_module_compassBackground__71e9b9ee,.Compass_lazy_module_compassWrapper__71e9b9ee:hover .Compass_lazy_module_compassBackground__71e9b9ee{fill:rgba(0,0,0,.8)}.Compass_lazy_module_tooltipWrapper__71e9b9ee{height:100%}",{});const jx=18;var Vx=Object.freeze({__proto__:null,COMPASS_RADIUS_PX:jx,COMPASS_SLICE_OFFSET_DEG:45,Compass:()=>{const t=EA((t=>t.backbone)),e=EA((t=>t.embed.compass)),n=EA((t=>t.playback.playInitiated)),i=EA((t=>t.spatial.webVRActive)),r=EA((t=>t.spatial.longitude)),o=EA((t=>t.displayList.fullPlayerElement)),s=EA((t=>t.displayList.outro)),a=e&&n&&!i&&!s&&!o,u=`rotate(${r-45}, 18, 18)`,l=kf("Compass_lazy_module_compassWrapper__71e9b9ee",tf.COMPASS_WRAPPER,nf.EXCLUDE_GLOBAL_BUTTON_STYLES,vN);return Tk(NA,{visible:a,children:Tk("button",J(J({className:l},bf((()=>{var e;null==(e=t.getEffectByName("ThreeSixtyEffect"))||null==e.snapToCenter||e.snapToCenter()}))),{},{children:Tk(oN,{id:"compass-button-tooltip",tooltipContent:"Reset view",position:iN.LEFT,margin:4,children:Tk("div",{className:"Compass_lazy_module_tooltipWrapper__71e9b9ee",children:Tk("svg",{viewBox:"0 0 36 36",children:[Tk("circle",{className:"Compass_lazy_module_compassBackground__71e9b9ee",r:jx,cx:jx,cy:jx}),Tk("path",{className:"Compass_lazy_module_compassSlice__71e9b9ee",transform:u,d:"M0,0 m18,18 l12,0 A12,12 0 0,0 18,6 z"}),Tk("circle",{fill:"none",className:"Compass_lazy_module_compassRing__71e9b9ee",strokeWidth:"1",r:"14.5",cx:jx,cy:jx}),Tk("polygon",{className:"Compass_lazy_module_compassDimple__71e9b9ee",points:"16,3.5 18,1 20,3.5"})]})})})}))})}});t.BigScreen=Eg,t.VimeoPlayer=function(t,e,n,i){const o=function(t){if(!0===t)return r.resolve(null);let e=!1;return new r((n=>{t.link.addEventListener("load",(()=>{if(!e){e=!0;const i=(new Date).getTime()-t.startTime;setTimeout((()=>n(i)),100)}}),!1)}))}(n),s=new HL({element:t,delegate:i,cssLoadedPromise:o}),u=s.store;t.classList.add("js-player-fullscreen");let l=s.expose,c=null,d=null,h=null,f=null,p=null,v=null,m=null;const _=t.querySelector(`.${tf.VP_CONTROLS}`),b={tiny:Nh.Gl,mini:Nh.Wl,normal:Nh.ql,none:Nh.ql};function y(e){e&&void 0!==b[e]&&(s.events.fire(b[e]),t.classList.toggle("player-normal","normal"===e),t.classList.toggle("player-mini","mini"===e),t.classList.toggle("player-tiny","tiny"===e))}function g(e){e&&void 0!==b[e]&&(t.classList.toggle("app-normal","normal"===e),t.classList.toggle("app-mini","mini"===e),t.classList.toggle("app-tiny","tiny"===e))}function w(e){Object.keys(fy).forEach((n=>t.classList.toggle(`player-${n}`,e===n)))}function T(e){Object.keys(fy).forEach((n=>t.classList.toggle(`app-${n}`,e===n)))}function C(){const e=s.config.embed.settings;t.classList.toggle("with-fullscreen",!!e.fullscreen);const n=e.custom_logo;t.classList.toggle("with-custom-logo",!!n),t.classList.toggle("with-sticky-custom-logo",n&&n.sticky),t.classList.toggle("hide-controls-mode",!!e.background||0===e.controls),t.classList.toggle("touch-support",Se.touch),t.classList.toggle("is-google-bot",Se.isGoogleBot)}function E(t,e=s.config.video.url){if(!(!e||t&&t.metaKey)){if(-1===e.indexOf("#")&&s.backbone.currentTime>0&&s.backbone.currentTime<s.config.video.duration-30&&!s.backbone.paused&&(e+=`#at=${Math.floor(s.backbone.currentTime)}`),!s.config.embed.on_site)return window.open(e),function(t){if(t&&t.detail>0)try{document.activeElement.blur()}catch(t){}}(t),s.events.fire(Nh.Ou),!1;window.location=e}}function k(){p||(y(u.get("ui.player.mode")),p=u.watch("ui.player.mode",y)),v||(y(u.get("ui.app.mode")),v=u.watch("ui.app.mode",g))}function S(){h||(w(u.get("ui.player.breakpoint")),h=u.watch("ui.player.breakpoint",w)),f||(T(u.get("ui.app.breakpoint")),f=u.watch("ui.app.breakpoint",T))}function A(){C(),m=new r((t=>{let e=null;const n=()=>{clearTimeout(e),window.innerWidth>0&&window.innerHeight>0?t():e=setTimeout(n,250)};s.events.once(Nh.be,n),s.events.once(Nh.hu,n)})),s.events.on(Nh.dl,(()=>{s.performDelegateAction(Xb,(()=>{s.config.video.vod&&s.config.video.vod.url?E(null,`${s.config.video.vod.url}#collections`):s.config.video.url&&E(null,`${s.config.video.url}#collections`)}))})),s.events.on(Nh.ul,(()=>{const t=s.config.embed.settings.share&&s.config.embed.settings.share.embed_only,e=()=>{s.events.fire(Ah.Ia,"share",t)};Eg.element?e():s.performDelegateAction(Ub,e)})),s.events.on(Nh.ll,(()=>{s.config.embed.settings.share.embed_only&&s.performDelegateAction(Ub,(()=>{s.events.fire(Ah.Ia,"share",!0)}))})),s.events.on(Nh.vu,(()=>{t.classList.add("player-ad")})),s.events.on([Nh.mu,Ah.Ra],(()=>{t.classList.remove("player-ad")})),function(){const e=function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(m,(function(){const e=function(){const{width:e,height:n}=Jd(t),i="10px";return Yp?n<=200?i:e<450?"12px":e<=1024?"11px":i:i}();_&&(_.style.fontSize=e);const n=t.querySelector(`.${tf.VP_SIDEDOCK}`);n&&(n.style.fontSize=e)}))};s.events.on(Nh.il,e),s.events.on(Nh.ol,e),window.addEventListener("orientationchange",e),Yp&&(t.classList.add("mobile"),e())}(),k(),S(),function(){function e(){let e=t;if(i&&i.getFullscreenElement&&"function"==typeof i.getFullscreenElement){const n=i.getFullscreenElement();n&&n instanceof HTMLElement&&n.contains(t)&&n.classList.contains("js-player-fullscreen")&&(e=n)}return e}s.config.embed.fullscreen=!0,Se.iPad&&t.classList.add("no-fullscreen-api-support");const n=s.config.embed.playsinline&&(Se.iOS>=10||$h),r=Se.iPad||n;Eg.enabled||r||(t.classList.add("no-fullscreen-support"),Se.iOS||(s.config.embed.fullscreen=!1));let o=!1,a=!1;s.events.on(Ah.Fa,(function(){Eg.enabled||Eg.videoEnabled(t)?(s.events.fire(Nh.nl),a=!1,Eg.request(e())):s.events.fire(Ah.Ga,!0)})),s.events.on(Nh.Mu,(function(){if(s.backbone.pictureInPictureActive&&s.backbone.exitPictureInPicture(),Eg.element)s.events.fire(Nh.rl),Eg.exit();else{const{HAVE_CURRENT_DATA:t}=s.backbone.videoElement;Se.fullscreenRequiresDataLoaded&&s.backbone.readyState<t&&s.backbone.play(),s.events.fire(Nh.nl),a=!0,Eg.request(e())}}));var u=Eg.onenter,l=Eg.onexit;if(Eg.onenter=function(t){null!==document.webkitFullScreenElement&&(o||(e().contains(t)?function(t){o||(o=!0,s.events.fire(Nh.il,e()===t,a))}(t):"function"==typeof u&&u(t)))},Eg.onexit=function(){document.webkitFullScreenElement||(o?o&&(o=!1,s.events.fire(Nh.ol,a),a||s.events.fire(Ah.Ga,!1),a=!1):"function"==typeof l&&l())},y_(t).on("click","a",(function(t){Eg.element===e()&&Eg.exit()})),y_(t).on("gestureend",(function(t){t.scale>1&&s.events.fire(Nh.Mu)})),"undefined"!=typeof MSGesture){var c=1,d=new MSGesture;d.target=t,y_(t).on("pointerdown",(function(t){d.addPointer(t.pointerId)})).on(["MSGestureChange"],(function(t){c*=t.scale})).on(["MSGestureEnd"],(function(){(!o&&c>=2||o&&c<1)&&s.events.fire(Nh.Mu),c=1}))}}(),function(){const e=wp(vh,s.config);!function(t,e,n,i){var r=!1;i="function"==typeof e?n:i,n="function"==typeof e?e:n;var o=function(t){var e=!0;if(t.changedTouches){var o=t.changedTouches[0].pageX-window.pageXOffset,s=t.changedTouches[0].pageY-window.pageYOffset,a=document.elementFromPoint(o,s);null!==a&&this.contains(a)&&(e=n.call(this,t))}return"function"==typeof i&&i.call(this,t),r=!0,e},s=function(t){if(!r)return n.call(this,t);r=!1};(e="function"==typeof e?null:e)?y_(t).on("click",e,s).on("touchend",e,o):y_(t).on("click",s).on("touchend",o)}(t,"a[data-clip-link]",(t=>E(t,e))),s.events.on(Ah.Da,E)}(),s.events.on(Nh.Hl,(()=>{C()}))}function N(){d||(d=new ax(s,u,t),Object.defineProperties(l,{pauseKeyboard:{enumerable:!0,value:d.pause},unpauseKeyboard:{enumerable:!0,value:d.unpause}}))}function M(){c||(c=new JL(s,{uuid:s.uuid,id:t.id,isMobileDevice:!1}))}const O="right-content-area-open",I="right-content-area-supported",R="[data-content-area-sibling-eligible]",L="content-area-sibling-enabled";let x;function D(t=400){var e;x&&clearTimeout(x),null==(e=s.element)||null==(e=e.classList)||e.add("animating"),x=setTimeout((()=>{var t;null==(t=s.element)||null==(t=t.classList)||t.remove("animating")}),t)}const P={initializationHandler:()=>(M(),s.events.on(Nh.qc,(t=>{t&&!s.element.classList.contains(O)?(D(),s.element.classList.add(O)):!t&&s.element.classList.contains(O)&&(D(),s.element.classList.remove(O))})),s.events.on(Nh.Yc,(()=>{var t;null==(t=s.element)||null==(t=t.classList)||t.add(I),a(s.element.querySelectorAll(R)).forEach((t=>{var e;return null==t||null==(e=t.classList)?void 0:e.add(L)}))})),s.events.on(Nh.Kc,(()=>{var t;null==(t=s.element)||null==(t=t.classList)||t.remove(I),a(s.element.querySelectorAll(R)).forEach((t=>{var e;return null==t||null==(e=t.classList)?void 0:e.remove(L)}))})),new UL(s,u,t),N(),A(),r.resolve()),postInitializationHandler:()=>r.resolve(),authorizationHandler(t){S(),k(),t(),M(),N();let e="Error",n="Unhandled video privacy";switch(s.config.view){case Lh.privatePassword:return new r((t=>{s.events.once(Nh.zl,(e=>{t(e)}))}));case Lh.privateLocked:let t;return t=s.config.user.logged_in?r.reject():new r(((t,e)=>{s.events.once(Nh.Xl,(n=>{n.view!==Lh.privateLocked?t(n):e()}))})),t;case Lh.geoBlocked:return r.reject();case Lh.error:e=s.config.title,n=s.config.message}return s.config.view!==Lh.main&&s.config.view!==Lh.privateUnlocked&&s.events.fire(Ah.cu,"error",{title:e,message:n}),r.reject()}};return s.init(e,P).catch((e=>{a_.captureException(e),M(),t.classList.remove("loading");const n=mf();s.events.fire(Nh.hu,n.type,n)})),l},t.requestModule=ue,Object.defineProperty(t,"Td",{value:!0})}(this.window=this.window||{});
